(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2921],{59240:(e,t,r)=>{"use strict";r.d(t,{q:()=>g});var n=r(55075),o=r(91987),i=r(71123),a=r(64822);const c=["blue.100","green.100","yellow.100","red.100","orange.100","purple.100","cyan.100"],l=["blue.700","green.700","yellow.700","red.700","orange.700","purple.700","cyan.700"];var s=r(51625);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const g=(0,o.memo)((function({avatarStyles:e,boxStyles:t,name:r,avatar:o,displayBadge:d,borderRadius:p}){const{bg:g,color:m}=function(e){const t=Math.abs((0,a.Wu)(e))%c.length;return{bg:c[t],color:l[t]}}(r);return(0,s.tZ)(n.xu,u(u({width:6,height:6,minWidth:6},t),{},{children:(0,s.tZ)(i.z,u(u({name:r,src:null!=o?o:"",width:6,height:6,textTransform:"lowercase",background:o?void 0:g,color:m,displayBadge:d},e),{},{borderRadius:p}))}))}))},6035:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var n=r(10753),o=r(23248),i=r(29389),a=r(39486),c=r(51625);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=({isDisabled:e=!1,buttonSize:t="xs",children:r,buttonProps:l})=>(0,c.tZ)(n.j,s(s({as:o.z,isDisabled:e,textAlign:"left",display:"inline-flex",alignItems:"center",variant:"outline",colorScheme:"gray",size:t},l),{},{rightIcon:(0,c.tZ)(i.J,{as:a.Bl2,boxSize:3}),children:r}))},34328:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(78211),o=r(91987);const i=.2;function a(e){var t,r;const a=(0,o.useRef)(null),c=(0,o.useRef)(),l=e.scrollAreaHeight,s=null!==(t=e.topScrollMargin)&&void 0!==t?t:0,d=null!==(r=e.bottomScrollMargin)&&void 0!==r?r:0;(0,o.useEffect)((()=>{c.current=document.querySelector(e.rootElementSelector)}),[e.rootElementSelector]);const u=(0,o.useCallback)((t=>{if(e.active&&(a.current&&clearInterval(a.current),t&&function({pointerOffset:e,scrollAreaHeight:t,topScrollMargin:r,bottomScrollMargin:n}){const o=Math.max(document.documentElement.clientHeight,window.innerHeight);return e-r<t||e>o-n-t}({pointerOffset:t.y,scrollAreaHeight:l,topScrollMargin:s,bottomScrollMargin:d}))){const r=function({pointerOffset:e,scrollAreaHeight:t,topScrollMargin:r,bottomScrollMargin:n}){const o=Math.max(document.documentElement.clientHeight,window.innerHeight);return e-r<t?Math.floor((e-r-t)*i):e>o-n-t?Math.floor((t-(o-n-e))*i):0}({pointerOffset:t.y,scrollAreaHeight:l,topScrollMargin:s,bottomScrollMargin:d}),o=(0,n.Z)((()=>{c.current&&(c.current.scrollTop+=r,e.disableSyntheticEventDispatch||document.dispatchEvent(new MouseEvent("mousemove",{clientX:t.x,clientY:t.y})))}));r&&(a.current=setInterval(o,1))}}),[e.active,e.disableSyntheticEventDispatch,l,s,d]);(0,o.useEffect)((()=>{var e,t;return null===(e=c.current)||void 0===e||e.addEventListener("mousemove",u),null===(t=c.current)||void 0===t||t.addEventListener("dragover",u),()=>{var e,t;null===(e=c.current)||void 0===e||e.removeEventListener("mousemove",u),null===(t=c.current)||void 0===t||t.removeEventListener("dragover",u),a.current&&clearInterval(a.current)}}),[c,u])}},53162:(e,t,r)=>{"use strict";r.d(t,{u:()=>I});var n=r(55075),o=r(91987),i=r(29389),a=r(39486),c=r(13636),l=r(19654),s=r(54783),d=r(59240),u=r(2735),p=r(51625);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=(0,o.memo)((function({workspace:e,onWorkspaceSelect:t,type:r}){const n=t?{onClick:()=>t(e.id)}:{as:s.rU,to:c._.recentProjects(e.id,e.slug),onClick:()=>(0,l.j)("Workspace switched",{workspaceId:e.id})};return(0,p.tZ)(u.W,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dataCy:`workspace-${e.slug}`,leftAccessory:(0,p.tZ)(d.q,{name:e.name,avatar:e.avatar,avatarStyles:{variant:"workspace"}}),rightAccessory:"active"===r?(0,p.tZ)(i.J,{as:a.a2D,size:"md"}):void 0,title:e.name,subtitle:e.guest?"You're a guest here":`${e.activePlan.displayName} plan`,isActive:"active"===r},n))}));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=(0,o.memo)((function({activeWorkspaceId:e,workspaces:t,wrapperStyles:r,onWorkspaceSelect:o}){return(0,p.tZ)(n.xu,y(y({},r),{},{children:null==t?void 0:t.map((t=>(0,p.tZ)(f,{workspace:t,onWorkspaceSelect:o,type:t.id===e?"active":"normal"},t.id)))}))}))},2735:(e,t,r)=>{"use strict";r.d(t,{W:()=>p});var n=r(87036),o=r(44776),i=r(51192),a=r(51625);const c=["title","subtitle","leftAccessory","rightAccessory","dataCy","onClick","isActive"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e){let{title:t,subtitle:r,leftAccessory:l,rightAccessory:d,dataCy:p,onClick:g,isActive:m}=e,f=u(e,c);return(0,a.BX)(n.s,s(s({"data-cy":p,onClick:g,gap:2},f),{},{children:[l,(0,a.BX)(o.k,{alignItems:"center",gap:2,justifyContent:"space-between",flex:"auto",minWidth:0,children:[(0,a.BX)(o.k,{flexDirection:"column",minWidth:0,children:[(0,a.tZ)(i.x,{fontWeight:m?"600":"400",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:t}),(0,a.tZ)(i.x,{color:"foreground.tertiary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:r})]}),d]})]}))}},68596:(e,t,r)=>{"use strict";r.d(t,{Q:()=>p});var n=r(55075),o=r(76077),i=r(86386),a=r(6035),c=r(53162),l=r(51625);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t,r,s;return(0,l.tZ)(n.xu,{children:(0,l.tZ)(i.h,{placement:"bottom-start",menuProps:d({width:"240px",maxHeight:"256px",overflowY:"scroll",overflowX:"hidden",px:0,mt:"-8px","data-cy":o.pgf},e.menuProps),trigger:(0,l.tZ)(a.r,{buttonProps:d({width:"240px",fontWeight:"400","data-cy":o.p0s},e.buttonProps),children:e.selectedWorkspace?e.selectedWorkspace.name:"Choose workspace"}),children:(null===(t=e.workspaces)||void 0===t?void 0:t.length)&&(0,l.tZ)(c.u,{workspaces:e.workspaces,activeWorkspaceId:null!==(r=null===(s=e.selectedWorkspace)||void 0===s?void 0:s.id)&&void 0!==r?r:null,onWorkspaceSelect:e.onWorkspaceSelect})})})}},21258:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});let n=function(e){return e.ProjectCard="PROJECT_CARD",e.Cell="CELL",e.File="FILE",e.TreeItem="TREE_ITEM",e.ProjectCategory="PROJECT_CATEGORY",e}({})},80189:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetWorkspaceList {
    teams(includeUnderReview: true) {
      id
      name
      slug
      avatar
      projectCount
      privateProjectsCount
      isUnderHipaa
      created_at
      activePlan {
        displayName
        planName
      }
    }
  }
`;function a(){var e;const{data:t,loading:r,error:n,refetch:a}=(0,o.a)(i,{fetchPolicy:"cache-and-network"});return{data:{workspaces:null!==(e=null==t?void 0:t.teams)&&void 0!==e?e:null},loading:r,error:n,refetch:a}}},32504:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var n=r(69682),o=r(51625);const i=({feature:e,children:t})=>{const{canUseFeature:r,options:i}=(0,n.E)(e);return"function"==typeof t?(0,o.tZ)(o.HY,{children:t({canUseFeature:r,options:i})}):r?(0,o.tZ)(o.HY,{children:t}):(0,o.tZ)(o.HY,{})}},38612:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(72421),o=r(3285),i=r(51625);const a=1/0;function c({workspaceId:e,children:t,limit:r,fetchPolicy:c}){var l,s;const{data:d,loading:u,error:p}=(0,n.W)(e,{fetchPolicy:c}),g=d.find((({name:e})=>e===r));return p&&(0,o.D)(new Error(`Failed to get limits for workspace: ${e}`,{cause:p})),g?(0,i.tZ)(i.HY,{children:t({loading:!1,hasLimitBeenHit:g.hasLimitBeenHit,options:{limit:null!==(l=null===(s=g.options)||void 0===s?void 0:s.limit)&&void 0!==l?l:a}})}):(0,i.tZ)(i.HY,{children:t({loading:u,hasLimitBeenHit:!1,options:{limit:a}})})}},36599:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(18927);var o=r(51625);const i=({limit:e,children:t})=>{const{hasLimitBeenHit:r,options:i}=function(e){var t,r;const o=(0,n.$)().find((t=>t.name===e));return{hasLimitBeenHit:null!==(t=null==o?void 0:o.hasLimitBeenHit)&&void 0!==t&&t,options:null!==(r=null==o?void 0:o.options)&&void 0!==r?r:{limit:0}}}(e);return(0,o.tZ)(o.HY,{children:t({hasLimitBeenHit:r,options:i})})}},7730:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(91987),o=r(97279),i=r(51625);const a=(0,n.memo)((function({title:e}){return(0,i.tZ)(o.ql,{children:e&&(0,i.BX)("title",{children:[e," | Deepnote"]})})}))},76486:(e,t,r)=>{"use strict";r.d(t,{L:()=>ie});var n=r(38185),o=r(8254),i=r(17571),a=r(1381),c=r(72792),l=r(55075),s=r(61193),d=r(8181),u=r(7074),p=r(91987),g=r(72746),m=r(6307);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=e=>{const{onSelect:t,onClose:r,onSelectionMove:n}=e;return e=>{if((0,m.ZP)("Enter",e))t(),e.stopPropagation(),e.preventDefault();else if((0,m.ZP)("Escape",e))r();else if((0,m.ZP)(["up","down","tab"],e)){(0,m.ZP)("tab",e)&&e.preventDefault();const t=(0,g.I)(h(h({},e),{},{key:e.key}));0!==t&&n(t)}else((0,m.ZP)("mod+.",e)||(0,m.ZP)("mod+shift+j",e)||(0,m.ZP)("mod+shift+k",e))&&(r(),e.preventDefault())}};var I=r(36262),v=r(17697),O=r.n(v);const E=(e,t,r)=>O()(e.slice(0,t).map((e=>e.items.length)))+r;var w=r(44776),A=r(51192),P=r(51625);const _=(0,p.memo)((function({query:e}){return(0,P.tZ)(w.k,{gap:1,flexDirection:"column",marginX:3,marginY:2,children:(0,P.tZ)(A.x,{fontSize:"xs",color:"gray.800",children:`No results for "${e}"`})})}));var T=r(13828);const S=(0,p.memo)((function(){return(0,P.BX)(w.k,{gap:1,flexDirection:"column",paddingX:1,marginBottom:2,children:[(0,P.tZ)(T.ZP,{height:"24px"}),(0,P.tZ)(T.ZP,{height:"24px"}),(0,P.tZ)(T.ZP,{height:"24px"})]})}));var C=r(97217),j=r(83529),k=r(43204),N=r(72558),R=r(44906),D=r(54785),Z=r(29389),M=r(39486);const x=(0,p.memo)((function(e){return(0,P.BX)(R.U,{height:8,paddingLeft:2.5,paddingRight:3,paddingY:2,cursor:"pointer","data-cy":e.testId,children:[(0,P.tZ)(A.x,{color:"gray.800",fontSize:12,fontWeight:500,children:e.label}),(0,P.tZ)(D.L,{}),(0,P.tZ)(Z.J,{as:M.Sck,color:"gray.500",w:4,h:4})]})}));var L=r(53379);const B=(0,p.memo)((function(e){var t;const{onClose:r,onSelectionMove:n,onSelectOffset:o}=e,a=b({onSelect:r,onClose:r,onSelectionMove:n}),u=(0,p.useCallback)((()=>{}),[]),g=e.collapsedItems.map(((t,r)=>{const n=r===e.selectedOffsetIndex;return(0,P.tZ)(L.N,{isSelected:n,onClick:e.onClose,onMouseEnter:()=>{o(r)},children:t.element},r)}));return(0,P.BX)(i.J,{isOpen:e.expanded,isLazy:!0,placement:"right-start",closeOnBlur:!0,children:[(0,P.tZ)(c.x,{children:(0,P.tZ)(l.xu,{children:(0,P.tZ)(L.N,{onMouseEnter:()=>o(0),onClick:u,isSelected:e.expanded,children:(0,P.tZ)(x,{label:e.label,testId:e.testId})})})}),(0,P.tZ)(N.h,{children:(0,P.tZ)(s.y,{marginTop:-2,width:null!==(t=e.width)&&void 0!==t?t:"240px",maxHeight:"292px",overflow:"scroll",children:(0,P.tZ)(d.b,{padding:1,onKeyDown:a,children:(0,P.tZ)(l.xu,{children:g})})})})]})})),U=(0,p.memo)((function(e){var t,r,n,o;const{onSectionItemSelected:i,onSelectionMove:a,onSelectSectionOffset:c,onClose:s}=e,d=e.section.items.slice(0,e.section.maxItems),u=d.map(((t,r)=>(0,P.tZ)(L.N,{isSelected:r===e.selectedItemInSectionOffset,onClick:s,onMouseEnter:()=>{i(r)},children:t.element},r))),g=e.section.items.slice(e.section.maxItems),m=d.length,f=d.length+g.length,h=Boolean(e.selectedItemInSectionOffset&&e.selectedItemInSectionOffset>=m&&e.selectedItemInSectionOffset<f),y=(0,P.tZ)(B,{collapsedItems:g,expanded:h,selectedOffsetIndex:e.selectedItemInSectionOffset&&e.selectedItemInSectionOffset-m,width:null!==(t=e.width)&&void 0!==t?t:"240px",onClose:s,onSelectionMove:a,onSelectOffset:e=>{c(m+e)},label:null!==(r=null===(n=(o=e.section).overflowLabel)||void 0===n?void 0:n.call(o,g.length))&&void 0!==r?r:"",testId:`popover-trigger-${e.section.group}`});return(0,P.BX)(p.Fragment,{children:[e.section.label&&(0,P.tZ)(l.xu,{marginX:1,children:(0,P.tZ)(k.Z,{children:e.section.label})}),u,e.section.maxItems&&g.length>0&&y]})})),G=(0,p.memo)((function({sections:e,maxHeight:t,width:r,selectedItemIndex:n,availableItems:o,setSelectedItemIndex:i,handleClose:a}){return(0,P.tZ)(l.xu,{marginTop:.5,maxHeight:t,overflow:"hidden auto",children:e.map(((t,c)=>{const l=E(e,c,0),s=n-l,d=s>=0&&s<t.items.length?s:null;return(0,P.BX)(C.v,{children:[t.divider&&0!==c&&(0,P.tZ)(j.R,{marginY:1}),(0,P.tZ)(U,{selectedItemInSectionOffset:d,section:t,width:r,onSectionItemSelected:t=>{const r=E(e,c,t);i(r)},onSelectionMove:e=>{const t=(0,g.J)(o,n,e);i(t)},onSelectSectionOffset:t=>{const r=E(e,c,t);i(r)},onClose:a})]},c)}))})}));var H=r(96645),W=r(46330),X=r(37139);const q=(0,p.memo)((0,p.forwardRef)((function(e,t){var r;const{onQueryChange:n}=e,o=(0,p.useCallback)((e=>{n(e.target.value)}),[n]);return(0,P.BX)(H.B,{width:"auto",marginX:1,children:[(0,P.tZ)(W.Z,{pointerEvents:"none",children:(0,P.tZ)(Z.J,{as:M.W1M,color:"gray.500",w:4,h:4})}),(0,P.tZ)(X.I,{ref:t,onChange:o,size:"xs",placeholder:null!==(r=e.searchPlaceholder)&&void 0!==r?r:"Search",value:e.query,tabIndex:0})]})}))),F=["loading","query","searchPlaceholder","isContentEmpty","keyboardHandlers","handleQueryChangeRequest"];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const z=(0,p.memo)((0,p.forwardRef)((function(e,t){let{loading:r,query:n,searchPlaceholder:o,isContentEmpty:i,keyboardHandlers:a,handleQueryChangeRequest:c}=e,s=K(e,F);return r?(0,P.BX)(P.HY,{children:[(0,P.tZ)(l.xu,{onKeyDown:a,role:"presentation",padding:1.5,children:(0,P.tZ)(q,{query:n,searchPlaceholder:o,onQueryChange:c,ref:t})}),(0,P.tZ)(S,{})]}):i?(0,P.BX)(P.HY,{children:[(0,P.tZ)(l.xu,{onKeyDown:a,role:"presentation",padding:1.5,children:(0,P.tZ)(q,{query:n,searchPlaceholder:o,onQueryChange:c,ref:t})}),(0,P.tZ)(_,{query:n})]}):(0,P.BX)(P.HY,{children:[(0,P.tZ)(l.xu,{onKeyDown:a,role:"presentation",padding:1.5,children:(0,P.tZ)(q,{query:n,searchPlaceholder:o,onQueryChange:c,ref:t})}),(0,P.tZ)(G,V({},s))]})}))),J=(0,p.memo)((0,p.forwardRef)((function(e,t){var r;const{onSearchQueryChanged:n,handleClose:o}=e,[i,a]=(0,p.useState)(""),c=""===i,[s,d]=(0,p.useState)(0);(0,p.useEffect)((()=>{e.visible&&(a(""),d(0))}),[e.visible]);const u=(0,p.useMemo)((()=>(e=>{const t=e.flatMap((e=>e.items)).filter((e=>!e.isDisabled)).map((e=>({item:e,label:e.title}))),r=new I.Z(t,["label"],{caseSensitive:!1,sort:!0});return e=>r.search(e).map((({item:e})=>e))})(e.sections)),[e.sections]),m=(0,p.useMemo)((()=>c?e.sections:[{items:u(i),divider:!1}]),[e.sections,c,i,u]),f=(0,p.useMemo)((()=>m.flatMap((e=>e.items))),[m]),h=b({onSelect:()=>{f[s].onSelect(),o()},onClose:o,onSelectionMove:e=>{const t=(0,g.J)(f,s,e);d(t)}}),y=(0,p.useCallback)((e=>{n?n(e):(a(e),d(0))}),[n]),v=(0,p.useMemo)((()=>m.every((e=>0===e.items.length))),[m]),O=i||(null!==(r=e.searchQuery)&&void 0!==r?r:"");return e.isSearchable?(0,P.tZ)(z,{ref:t,query:O,loading:e.loading,availableItems:f,keyboardHandlers:h,searchPlaceholder:e.searchPlaceholder,isContentEmpty:v,maxHeight:e.maxHeight,width:e.width,sections:m,selectedItemIndex:s,setSelectedItemIndex:d,handleClose:o,handleQueryChangeRequest:y}):(0,P.tZ)(l.xu,{onKeyDown:h,ref:t,tabIndex:0,_focus:{outline:"none"},children:!v&&(0,P.tZ)(G,{availableItems:f,maxHeight:e.maxHeight,width:e.width,sections:m,selectedItemIndex:s,setSelectedItemIndex:d,handleClose:o})})}))),Q=["content"];function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const oe="240px",ie=(0,p.memo)((function(e){let{content:t}=e,r=ne(e,Q);const g=(0,n.Me)(),{onVisibilityChanged:m,footer:f,anchor:h,width:y=oe}=r,b=(0,p.useRef)(null),I=(0,p.useRef)(null),v=(0,p.useCallback)((()=>null==m?void 0:m(!1)),[m]);(0,o.O)({ref:I,handler:()=>{r.visible&&v&&setTimeout((()=>v()),0)}});const O=(0,p.useMemo)((()=>({scroll:Boolean(r.reactToScroll),resize:Boolean(r.reactToResize)})),[r.reactToScroll,r.reactToResize]);return(0,P.BX)(i.J,{placement:r.placement,isOpen:r.visible,isLazy:!0,closeOnBlur:!1,eventListeners:O,onClose:v,initialFocusRef:b,children:[h&&(0,P.tZ)(a.t,{children:h}),(0,P.tZ)(c.x,{children:(0,P.tZ)(l.xu,{onClick:()=>{var e;return null===(e=r.onVisibilityChanged)||void 0===e?void 0:e.call(r,!r.visible)},children:r.children})}),(0,P.BX)(s.y,{ref:I,width:y,children:[(0,P.tZ)(d.b,{paddingX:0,paddingTop:1,paddingBottom:f?0:1,children:t||(0,P.tZ)(J,te(te({},r),{},{handleClose:v,ref:b}))}),f&&(0,P.tZ)(u.D,{padding:1,role:"menuitem",children:f})]})]},g)}))},53379:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(55075),o=r(91987),i=r(51625);const a=function(e){const{onClick:t,onMouseEnter:r}=e,a=(0,o.useRef)(null);(0,o.useEffect)((()=>{var t;e.isSelected&&(null===(t=a.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[e.isSelected]);const[c,l]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),100);return()=>{clearTimeout(e)}}),[]),(0,i.tZ)(n.xu,{ref:a,role:"menuitem",backgroundColor:e.isSelected?"gray.100":void 0,paddingX:1,onClick:t,onMouseEnter:c?r:void 0,children:e.children})}},43641:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(49),o=r(88909),i=r(51192),a=r(55075),c=r(51625);const l=["heading","text","children"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const g=e=>{let{heading:t,text:r,children:s}=e,u=p(e,l);return(0,c.BX)(n.g,d(d({},u),{},{spacing:"2",marginY:3,alignItems:"center",textAlign:"center",justifyContent:"center",children:[t&&(0,c.tZ)(o.X,{color:"gray.800",fontSize:"xs",fontWeight:"600",children:t}),r&&(0,c.tZ)(i.x,{color:"gray.700",fontSize:"xs",children:r}),s&&(0,c.tZ)(a.xu,{marginTop:4,children:s})]}))}},88879:(e,t,r)=>{"use strict";r.d(t,{a:()=>M,Z:()=>Z});var n=r(13629),o=r(71996),i=r(19318),a=r(74615),c=r(23880),l=r(46923),s=r(23153),d=r(44776),u=r(40424),p=r(75055),g=r(55075),m=r(34231),f=r(29389),h=r(39486),y=r(76356),b=r(43641),I=r(69735),v=r(51625);const O=["children"],E=["children"];function w(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T={container:e=>P(P({},e),{},{pointerEvents:"auto"}),input:(e,{selectProps:{autoWidth:t}})=>P(P({},e),{},{color:"inherit",lineHeight:1},t?{position:"absolute"}:{}),menu:e=>P(P({},e),{},{boxShadow:"none"}),menuPortal:e=>P(P({},e),{},{zIndex:99999}),singleValue:(e,{selectProps:{autoWidth:t}})=>P(P({},e),{},{color:"inherit",position:t?"static":"absolute",transform:"none",top:"auto"},t?{maxWidth:"100%"}:{}),valueContainer:(e,{selectProps:{autoWidth:t}})=>{const r=P({},e);return r.padding&&(r.padding="0"),P(P({},e),{},{padding:"0 !important"},t?{minWidth:"80px",position:t?"static":"absolute",transform:"none"}:{})},multiValueRemove:(e,{isFocused:t,selectProps:{multiValueRemoveFocusStyle:r}})=>t?r:{},control:()=>({}),menuList:()=>({}),option:()=>({}),multiValue:()=>({}),multiValueLabel:()=>({}),group:()=>({})},S={Control:({children:e,innerRef:t,innerProps:r,isDisabled:n,isFocused:o,selectProps:{size:i,variant:a,isInvalid:c}})=>{var u;const p=(0,l.jC)("Input",{size:i,variant:a});p.field.height="auto";return(0,v.tZ)(s.Fo,{value:p,children:(0,v.tZ)(d.k,P(P({ref:t,sx:P({h:"auto",p:"0 8px !important",overflow:"hidden",minH:null!==(u={xxs:6,xs:8,sm:9,md:10}[i])&&void 0!==u?u:6},p.field)},r),{},{"data-focus":!!o||void 0,"data-invalid":!!c||void 0,"data-disabled":!!n||void 0,children:e}))})},Input:e=>(0,v.tZ)(y.c.Input,P({},e)),MultiValueContainer:({children:e,innerRef:t,innerProps:r,data:n,selectProps:o})=>(0,v.tZ)(u.Vp,P(P({ref:t},r),{},{marginRight:1,marginY:.5,paddingX:1,fontSize:"11px",borderRadius:"md",variant:n.isFixed?"solid":"subtle",colorScheme:n.colorScheme||o.colorScheme,size:o.size,children:e})),MultiValueLabel:({children:e,innerRef:t,innerProps:r})=>(0,v.tZ)(u.Sn,P(P({ref:t},r),{},{children:e})),MultiValueRemove:({innerRef:e,innerProps:t,data:{isFixed:r}})=>r?null:(0,v.tZ)(u.SD,P(P({ref:e},t),{},{tabIndex:-1,children:(0,v.tZ)(f.J,{as:h.bCQ,w:4,h:4})})),IndicatorSeparator:()=>null,ClearIndicator:({innerProps:e,selectProps:{size:t}})=>(0,v.tZ)(p.P,P(P({},e),{},{size:"xs"===t?"sm":t,marginLeft:1,tabIndex:-1,children:(0,v.tZ)(f.J,{as:h.bCQ,w:4,h:4})})),DropdownIndicator:({innerProps:e,selectProps:{size:t,hideMenu:r}})=>r?(0,v.tZ)(g.xu,{width:2}):(0,v.tZ)(m.M,P(P({},e),{},{sx:{pr:2,pl:1,h:"100%",borderRadius:0,borderWidth:0,cursor:"pointer"},children:(0,v.tZ)(f.J,{as:h.Bl2,color:"gray.700",boxSize:4})})),MenuPortal:e=>{let{children:t}=e,r=w(e,O);return(0,v.tZ)(y.c.MenuPortal,P(P({},r),{},{children:t}))},Menu:e=>{let{children:t}=e,r=w(e,E);const n=(0,l.jC)("Menu",r);return r.selectProps.hideMenu?(0,v.tZ)(v.HY,{}):(0,v.tZ)(y.c.Menu,P(P({},r),{},{children:(0,v.tZ)(s.Fo,{value:n,children:t})}))},MenuList:({innerRef:e,children:t,maxHeight:r,selectProps:{size:n}})=>{var o;const{list:a}=(0,s.yK)(),c=(0,i.Fg)(),l={xxs:c.radii.sm,xs:c.radii.sm,sm:c.radii.sm,md:c.radii.md,lg:c.radii.md};return(0,v.tZ)(g.xu,{sx:P(P({},a),{},{px:2,maxH:`${r}px`,overflowY:"auto",borderRadius:null!==(o=l[n])&&void 0!==o?o:c.radii.sm,boxShadow:"sm"}),ref:e,children:t})},GroupHeading:({innerProps:e,children:t})=>{const{groupTitle:r}=(0,s.yK)();return(0,v.tZ)(g.xu,P(P({sx:r},e),{},{children:t}))},Option:({innerProps:e,children:t,isFocused:r,isDisabled:n})=>"string"==typeof t?(0,v.tZ)(I.Z,P({isSelected:r,isDisabled:n,label:t},e)):(console.log("Only string labels are supported in ReactSelect"),(0,v.tZ)(v.HY,{})),NoOptionsMessage:()=>(0,v.tZ)(b.Z,{my:2,heading:"No results"})},C=["size","colorScheme","isDisabled","isInvalid","hideMenu","variant","autoWidth","components","styles"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const D=e=>{var t;let{size:r="xs",colorScheme:a="gray",isDisabled:c=!1,isInvalid:l=!1,hideMenu:s=!1,variant:d="outline",autoWidth:u=!1,components:p={},styles:g={}}=e,m=R(e,C);const f=(0,i.Fg)(),h=(0,n.Y)({isDisabled:c,isInvalid:l}),y=(0,o.ff)(f.colors.gray[400],f.colors.whiteAlpha[400]),b=null!==(t=["xxs","xs","sm","xs"].find((e=>e===r)))&&void 0!==t?t:"xs";return k({components:k(k({},S),p),styles:k(k({},T),g),theme:e=>k(k({},e),{},{colors:k(k({},e.colors),{},{neutral50:y,neutral40:y}),spacing:e.spacing}),colorScheme:a,size:b,multiValueRemoveFocusStyle:{background:"rgba(0, 0, 0, 0.14)",boxShadow:"outline"},menuPortalTarget:document.body,isDisabled:h.disabled,isInvalid:!!h["aria-invalid"],menuPosition:"fixed",hideMenu:s,variant:d,autoWidth:u},m)},Z=e=>{const t=D(e);return(0,v.tZ)(a.ZP,k({},t))},M=e=>{const t=D(e);return(0,v.tZ)(c.ZP,k({},t))}},87093:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(34231),o=r(92074),i=r(51625);const a=({isLoading:e,children:t,skeleton:r,isFullPage:a})=>e?r?(0,i.tZ)("div",{children:r}):(0,i.tZ)(n.M,{paddingY:a?"25%":0,overflow:"hidden",children:(0,i.tZ)(o.$,{colorScheme:"blue"})}):(0,i.tZ)("div",{children:t})},43204:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(68628),o=r(19318),i=r(55237);const a=e=>(0,i.iv)("font-size:11px;font-weight:500;padding:2px 0;margin:0 6px;color:",e.colors.gray[600],";","");var c=r(51625);function l(e){const t=(0,o.Fg)();return(0,c.tZ)(n.m.div,{css:a(t),children:e.children})}},25536:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(68628),o=r(55237),i=r(91987),a=r(24008),c=r(51625);const l=o.F4`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`,s={highlighter:(0,o.iv)("position:absolute;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:1000;&.run-animation{background:rgba(255, 0, 0, 0.3);animation-name:",l,";animation-duration:0.5s;animation-iteration-count:1;animation-fill-mode:both;}","")};const d=a.clientConfig.buildTimeConfig.PERF_HIGHLIGHTER_ENABLED&&"development"===a.clientConfig.runtimeConfig.ENV?function(){const e=(0,i.useRef)(null);return(0,i.useEffect)((()=>{console.log("PerformanceHighlighter enabled");let t=performance.now(),r=()=>{var n,o,i;performance.now()-t>200&&(null===(n=e.current)||void 0===n||n.classList.remove("run-animation"),null===(o=e.current)||void 0===o||o.getClientRects(),null===(i=e.current)||void 0===i||i.classList.add("run-animation"));t=performance.now(),requestAnimationFrame(r)};return requestAnimationFrame(r),()=>{r=()=>{}}})),(0,c.tZ)(n.m.div,{ref:e,css:s.highlighter})}:function(){return null}},67858:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>o,L5:()=>a,lq:()=>i});var n=r(77424);const o={[n.Ag.GUEST]:"Guest",[n.Ag.VIEWER]:"Viewer",[n.Ag.CONTRIBUTOR]:"Contributor",[n.Ag.EDITOR]:"Editor",[n.Ag.ADMIN]:"Admin"},i={[n.Ag.GUEST]:"Have access to one or more projects in a workspace",[n.Ag.VIEWER]:"View all projects and members of a workspace.",[n.Ag.CONTRIBUTOR]:"Execute notebooks and change input block values in workspace projects.",[n.Ag.EDITOR]:"Create and edit projects in a workspace. Can't add or edit integrations.",[n.Ag.ADMIN]:"All previous rights and ability to manage workspace integrations and members."},a=[{id:n.Ag.VIEWER,title:o[n.Ag.VIEWER],desc:i[n.Ag.VIEWER]},{id:n.Ag.CONTRIBUTOR,title:o[n.Ag.CONTRIBUTOR],desc:i[n.Ag.CONTRIBUTOR]},{id:n.Ag.EDITOR,title:o[n.Ag.EDITOR],desc:i[n.Ag.EDITOR]},{id:n.Ag.ADMIN,title:o[n.Ag.ADMIN],desc:i[n.Ag.ADMIN]}]},92432:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(91987),o=r(24008),i=r(51625);const a=o.clientConfig.buildTimeConfig.REACT_STRICT_MODE_ENABLED?n.StrictMode:({children:e})=>(0,i.tZ)(i.HY,{children:e})},57771:(e,t,r)=>{"use strict";r.d(t,{g:()=>d});var n=r(93851),o=r(40424),i=r(84998),a=r(77424),c=r(91987),l=r(47498),s=r(51625);const d=(0,c.memo)((function({workspaceId:e}){const{data:t,loading:r}=(0,l.m)(e);if(r&&!t)return null;const c=(0,i.Nt)({name:a.yh.PRO,version:t.version});return(0,s.tZ)(n.u,{label:`This feature is available on the ${c} plan.`,children:(0,s.tZ)(o.Vp,{borderRadius:"full",variant:"subtle",size:"xs",children:c})})}))},16183:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(12858),o=r(51625);function i({date:e,tooltip:t,css:r,timeStyle:i="round-minute"}){return(0,o.tZ)(n.Z,{date:e,tooltip:t,css:r,timeStyle:i,tick:!0,locale:"en-US"})}},4460:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(68628),o=r(29389),i=r(39486),a=r(19318),c=r(55237),l=r(87308),s=r(64822),d=r(24008),u=r(51625);const p=(e,t)=>(0,c.iv)("background:",e.colors.blue[50],";border:1px solid ",e.colors.blue[100],";color:",e.colors.blue[800],";padding:5px 30px 5px 10px;font-size:12px;font-weight:400;position:fixed;top:40px;border-radius:3px;z-index:100;left:50%;transform:translate(-50%);max-width:700px;display:flex;justify-content:space-between;align-items:center;","yellow"===t&&`\n    background: ${e.colors.yellow[200]};\n    border: 1px solid ${e.colors.yellow[300]};\n    color: ${e.colors.yellow[800]};\n    `," ","red"===t&&`\n    background: ${e.colors.red[200]};\n    border: 1px solid ${e.colors.red[300]};\n    color: ${e.colors.red[800]};\n    `," a{color:white;text-decoration:underline;&:hover{color:white;}}",""),g=()=>{const e=d.clientConfig.runtimeConfig.TOP_MESSAGE_STRING,t=d.clientConfig.runtimeConfig.TOP_MESSAGE_COLOR_HEX_WITHOUT_HASH,[r,c]=(0,l.Z)("experimental-warning-visible"+(0,s.Wu)(e),!0),g=e&&r,m=(0,a.Fg)();return g?(0,u.BX)(n.m.div,{css:p(m,t),children:[e,(0,u.tZ)(o.J,{position:"absolute",top:2,right:2,boxSize:3,as:i.bCQ,onClick:()=>c(!1)})]}):(0,u.tZ)(u.HY,{children:" "})}},18927:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,C:()=>s});var n=r(3285),o=r(91987),i=r(72421),a=r(51625);const c=(0,o.createContext)([]),l=()=>(0,o.useContext)(c),s=({workspaceId:e,children:t})=>{const{loading:r,data:o,error:l}=(0,i.W)(e,{fetchPolicy:"cache-first"});return l&&(0,n.D)(l),r&&!o?null:o?(0,a.tZ)(c.Provider,{value:o,children:t}):null}},5902:(e,t,r)=>{"use strict";r.d(t,{$j:()=>O,fu:()=>I,mY:()=>v,vw:()=>y,xd:()=>E});var n=r(72037),o=r(19654),i=r(75440),a=r(91987),c=r(4850),l=r(85014),s=r(55111),d=r(51625);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=["project","system","notebook","multi-select","block","void-block","executable-block","executable-monaco-block","monaco-block","code-block","sql-block","block-output","markdown-block","input-block","visualization-block","image-block","text-block","callout-block"],f=(0,a.createContext)(null),h=(0,a.createContext)(null);function y(e){const[t,r]=(0,a.useState)([]),o=(0,a.useMemo)((()=>({isMac:(0,c.V5)()})),[]),s=(0,a.useCallback)(((e,t)=>{const o=(0,n.EL)();return r((r=>[...r,{id:o,scope:e,commands:t}])),()=>{r((e=>e.filter((e=>e.id!==o))))}}),[]),u=(0,a.useMemo)((()=>{const e=t.sort(((e,t)=>m.indexOf(e.scope)-m.indexOf(t.scope))),r=e.flatMap((e=>e.commands.map((t=>p(p({},t),{},{scope:e.scope})))));return{commandGroups:e,commands:r}}),[t]),g=(0,a.useMemo)((()=>({registerCommandGroup:s,env:o})),[s,o]),y=(0,l.mr)((e=>e.modalManager.openedModal));return(0,a.useEffect)((()=>{const e=i.Z.filter;return i.Z.filter=e=>{if(y)return!1;const t=e.target;if("TEXTAREA"===t.tagName)return!1;const r=["INPUT","SELECT"];return!(!r.includes(t.tagName)||"true"!==t.getAttribute("data-hotkeys-enabled"))||!r.includes(t.tagName)},()=>{i.Z.filter=e}}),[y]),(0,d.tZ)(f.Provider,{value:u,children:(0,d.tZ)(h.Provider,{value:g,children:e.children})})}const b=(0,a.createContext)(null);function I(e){const t=(0,a.useContext)(h);if(!t)throw new Error("<CommandGroup> must be used inside <CommandProvider>");const[r,o]=(0,a.useState)([]),c=(0,a.useCallback)((e=>{var r,i,a,c,l,s,d,u,g,m;const f=null!==(r=e.id)&&void 0!==r?r:(0,n.EL)(),h=p(p({},e),{},{id:f,shortcuts:{label:null!==(i=null===(a=(c=e.shortcuts).label)||void 0===a?void 0:a.call(c,t.env))&&void 0!==i?i:null,monacoKeys:null!==(l=null===(s=(d=e.shortcuts).monacoKeys)||void 0===s?void 0:s.call(d,t.env))&&void 0!==l?l:null,monacoContext:e.shortcuts.monacoContext,hotkeyString:null!==(u=null===(g=(m=e.shortcuts).hotkeyString)||void 0===g?void 0:g.call(m,t.env))&&void 0!==u?u:null}});return o((e=>[...e,h].sort(((e,t)=>e.node.compareDocumentPosition(t.node)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)))),()=>{o((e=>e.filter((e=>e.id!==f))))}}),[t.env]);(0,a.useEffect)((()=>{const n=t.registerCommandGroup(e.scope,r),o=r.map((e=>{const t=e.shortcuts.hotkeyString;return t?{hotkeyString:t,onRun:t=>{t.preventDefault(),e.onRun.call(null,"shortcut")}}:null})).filter(Boolean);return o.forEach((({hotkeyString:e,onRun:t})=>{(0,i.Z)(e,t)})),()=>{o.forEach((({hotkeyString:e,onRun:t})=>{i.Z.unbind(e,t)})),n()}}),[r,e.scope,t]);const l=(0,a.useMemo)((()=>({registerCommand:c})),[c]);return(0,d.tZ)(b.Provider,{value:l,children:(0,d.tZ)("div",{style:{display:"none"},children:e.children})})}function v(e){const t=(0,a.useContext)(b);if(!t)throw new Error("<Command> must be used inside <CommandGroup>");const[r,n]=(0,a.useState)(null),{data:{workspaceId:i}}=(0,a.useContext)(s.e),c=(0,a.useMemo)((()=>{var t,n,a,c;return r?{node:r,id:e.id,name:e.name,shortcuts:{label:null!==(t=e.shortcutLabel)&&void 0!==t?t:null,monacoKeys:null!==(n=e.shortcutMonacoKeys)&&void 0!==n?n:null,monacoContext:null!==(a=e.monacoContext)&&void 0!==a?a:null,hotkeyString:null!==(c=e.shortcutHotkeyString)&&void 0!==c?c:null},onRun:async t=>("shortcut"===t&&e.id&&i&&(0,o.j)("Keyboard shortcut used",{command:e.id,workspaceId:i}),"palette"===t&&e.id&&i&&(0,o.j)("Command palette used",{command:e.id,workspaceId:i}),e.onRun.call(null,t))}:null}),[e.onRun,e.name,e.id,r]);return(0,a.useEffect)((()=>{if(!c)return;const e=t.registerCommand(c);return()=>{e()}}),[c,t]),(0,d.tZ)("div",{ref:n,style:{display:"none"}})}function O(){const e=(0,a.useContext)(f);if(!e)throw new Error("useCommandGroups must be used inside <CommandProvider>");return e.commandGroups}function E(){const e=(0,a.useContext)(f);if(!e)throw new Error("useCommands must be used inside <CommandProvider>");return e.commands}},88361:(e,t,r)=>{"use strict";r.d(t,{g0:()=>O,ap:()=>v,pt:()=>I});var n=r(29571),o=r.n(n),i=r(91987),a=r(43562),c=r(36178),l=r(23248),s=r(76077),d=r(96057),u=r(83837),p=r(92516),g=r(51625);function m({isOpen:e,onClose:t,title:r="Are you sure?",confirmText:n="Confirm",cancelText:o="Cancel",content:m,onConfirm:f,onCancel:h=(()=>{}),confirmColorScheme:y="blue",size:b="md"}){const I=(0,i.useRef)(null);return(0,g.tZ)(a.a,{size:b,isCentered:!0,isOpen:e,leastDestructiveRef:I,onClose:t,children:(0,g.tZ)(c.Z,{background:"rgba(24, 36, 49, 0.5);",children:(0,g.BX)(a._,{onKeyDown:e=>{"Escape"===e.key&&(t(),e.nativeEvent.stopImmediatePropagation())},children:[(0,g.tZ)(d.x,{children:r}),m&&(0,g.tZ)(u.f,{children:m}),(0,g.BX)(p.m,{children:[(0,g.tZ)(l.z,{"data-cy":s.vJJ,variant:"ghost",colorScheme:"gray",ref:I,onKeyDown:e=>{"Enter"===e.key&&(h(),t())},onClick:()=>{h(),t()},children:o}),(0,g.tZ)(l.z,{"data-cy":s.aum,colorScheme:y,autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&(f(),t())},onClick:()=>{f(),t()},children:n})]})]})})})}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=(0,i.createContext)(o()),I=()=>(0,i.useContext)(b),v=()=>{const e=I();return(t={})=>new Promise((r=>{e(h(h({},t),{},{onConfirm:()=>{r(!0)},onCancel:()=>{r(!1)}}))}))},O=({children:e})=>{const[t,r]=(0,i.useState)(null),n=(0,i.useMemo)((()=>e=>{r(e)}),[r]),o=(0,i.useCallback)((()=>{var e;null==t||null===(e=t.onCancel)||void 0===e||e.call(t),r(null)}),[t]);return(0,g.BX)(g.HY,{children:[(0,g.tZ)(b.Provider,{value:n,children:e}),t&&(0,g.tZ)(m,h({isOpen:Boolean(t),onClose:o},t))]})}},95001:(e,t,r)=>{"use strict";r.d(t,{i:()=>l,E:()=>c});var n=r(91987),o=r(87340);var i=r(51625);const a=(0,n.createContext)(null),c=()=>(0,n.useContext)(a),l=({children:e})=>{const[t]=(0,n.useState)((()=>({async installGitHubApp(e){const t=new URLSearchParams({workspaceId:e}),r=await fetch(`/auth/github-app-installation/url?${t.toString()}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to get GitHub App installation URL");const{url:n}=await r.json();if(!n)throw new Error("Failed to get GitHub App installation URL");await new Promise(((e,t)=>{window.open(n),window.deepnote.gitAppInstallationDoneCallback=r=>{r?e():(o.Z.error({message:"Failed to install GitHub App"}),t(new Error("Failed to install GitHub App")))}})).finally((()=>{window.deepnote.gitAppInstallationDoneCallback=void 0}))}})));return(0,i.tZ)(a.Provider,{value:t,children:e})}},97432:(e,t,r)=>{"use strict";r.d(t,{XE:()=>a,wu:()=>i});var n=r(91987);const o=(0,n.createContext)(void 0),i=o.Provider;o.Consumer;function a(){return(0,n.useContext)(o)}},99162:(e,t,r)=>{"use strict";r.d(t,{KN:()=>y,BT:()=>l,Ql:()=>d,my:()=>b});var n=r(91987),o=r(87340),i=r(24008);const a="We're having trouble please try again or contact our support.",c="We're having trouble signing you in, please try again or contact our support.",l={MAGIC_LINK:"magic_link_request"},s="google-recaptcha-v3",d="recaptchav2Wrapper",u=(0,n.createContext)({hCaptchaEnabled:!1,executeCaptcha:async()=>"",handleRenderSecondCaptcha:async()=>{}}),p=()=>{const e=document.querySelector(`#${s}`);null==e||e.remove()},g=({instance:e,nonce:t,captchaKey:r,handleSetError:n})=>{const o=((e,t)=>()=>{const{hcaptcha:r}=window;r?e.current=r:t()})(e,n),i="h-captcha-script";if(document.querySelector(`#${i}`))return void o();const a=document.createElement("script");a.id=i,a.src="https://js.hcaptcha.com/1/api.js",a.onload=o,a.nonce=t;document.getElementsByTagName("head")[0].appendChild(a)};var m=r(51625);var f=r(97432);const h=({children:e})=>{const t=i.clientConfig.runtimeConfig.HCAPTCHA_SITE_KEY||"missing-HCAPTCHA_SITE_KEY",r=(0,n.useRef)(null),l=(0,f.XE)(),s=(e=a)=>o.Z.error({message:e});(0,n.useEffect)((()=>(g({instance:r,captchaKey:t,nonce:l,handleSetError:s}),()=>{p()})),[t,l]);const h=(0,n.useCallback)((async(e,t=c)=>window.hcaptcha?(await window.hcaptcha.execute({async:!0}),window.hcaptcha.getResponse()):(await s(t),"")),[]);return(0,m.tZ)(u.Provider,{value:{executeCaptcha:h,handleRenderSecondCaptcha:async(e,t=d,r=c)=>{},hCaptchaEnabled:!0},children:e})},y=({children:e})=>(0,m.tZ)(h,{children:e}),b=()=>(0,n.useContext)(u)},68722:(e,t,r)=>{"use strict";r.d(t,{Cm:()=>d,SY:()=>f,V3:()=>g,fC:()=>p,o5:()=>u,pQ:()=>m});var n=r(3285),o=r(96233),i=r(40431),a=r(87340);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=async e=>{const t=await fetch("/api/team",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l({},e))});return 200!==t.status&&((0,n.D)(new Error("Failed to create a workspace"),"error"),a.Z.error({message:"Failed to create a workspace. Please contact support"})),t.json()},u=(e,t)=>fetch(`/api/team/${e}/resend-invitation`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({memberEmail:t})}),p=e=>{fetch(`/api/team/${e}`,{method:"DELETE",credentials:"include"}).then((async t=>{if(t.ok)window.location.assign("/");else{a.Z.error({message:"We failed to cancel your plan, please contact support."});const r=await t.text(),o=new Error(`Cancel plan failed on deleteTeam non-200 response: ${r}`);(0,n.D)(o,"fatal",{teamId:e})}})).catch((t=>{(0,n.D)(t,"error",{teamId:e}),a.Z.error({message:"We failed to cancel your plan, please contact support."})}))},g=async(e,t)=>{const r=t,n=await fetch(`/api/team/${e}/link/${r}`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(n.ok){return(await n.json()).token}{const t=await n.text();throw new Error(`/api/team/${e}/link/${r} responded with code ${n.status}, text ${t}`)}},m=async(e,t)=>{const r=t,n=await fetch(`/api/team/${e}/link/${r}`,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!n.ok){const t=await n.text();throw new Error(`/api/team/${e}/link/${r} responded with code ${n.status}, text ${t}`)}},f=async(e,t,r,c)=>{const l=(0,o.J)(i.Yw),s=fetch(`/api/team/${r}/upgrade-plan`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({planName:e,planVersion:t,planPeriodType:c})}),[d,u]=await Promise.all([l,s]);if(!d)throw(0,n.D)(new Error("Failed to load stripe"),"error"),new Error("Failed to load stripe");if(!u.ok)throw new Error("Unable to upgrade team plan");const{sessionId:p,switchedToAnnual:g}=await u.json();if(g)await a.Z.success({message:"Thank you for signing up for the annual plan, you will be charged for the next year, at the end of your current billing period. If you have any question about your recent upgrade or about the product, reach out to our support."});else if(window.Cypress)window.__team_id=r;else{const e=await(null==d?void 0:d.redirectToCheckout({sessionId:p}));if(e.error)throw(0,n.D)(new Error(`Checkout redirect failed: ${e.error}`),"error"),new Error("Redirect to checkout failed")}}},51297:(e,t,r)=>{"use strict";r.d(t,{GV:()=>s,Xs:()=>d,Y8:()=>c,x0:()=>l});var n=r(60802),o=r(38537),i=r(1067),a=r(77424);r(64822);const c=e=>e&&`${n.KB}/join-team?token=${e}`,l=(e,t)=>{const r=o.nv-1;return e?(0,i.hQ)(t,a.Ag.EDITOR)?e.map(((e,n)=>({email:e,user_role:n<r?t:a.Ag.VIEWER}))):e.map((e=>({email:e,user_role:t}))):[]},s=e=>e?e.map((e=>({email:e,user_role:a.Ag.EDITOR}))):[],d=(e,t)=>1===e&&0===t?"An invite has been sent":e>1&&0===t?`${e} invites have been sent`:`${e} invites have been sent, ${t} were skipped because they were already invited`},5056:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(97054),o=r(32784),i=r(51625);const a=e=>{var t;const r=e.error.graphQLErrors.filter(o.Ej),a=(0,i.BX)(i.HY,{children:[null!==(t=e.defaultMessage)&&void 0!==t?t:"Oops, there was a problem."," Please try again or"," ",(0,i.tZ)(n.r,{href:"mailto:help@deepnote.com",isExternal:!0,children:"contact our support"})]});return(0,i.tZ)(i.HY,{children:r.length>0?e.error.message:a})}},20127:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(95806),o=r(66274),i=r(56896),a=r(63314),c=r(22506),l=r(22815),s=r(24295),d=r(99012),u=r(93541),p=r(60607),g=r(39295),m=r(72082),f=r(3285),h=r(32784),y=r(74671);const b=(e,t,r,n)=>{var o,i;return(null!==(o=n(r,e))&&void 0!==o?o:0)-(null!==(i=n(r,t))&&void 0!==i?i:0)},I=(e,{args:t,readField:r})=>{if(!e)return e;switch(null==t?void 0:t.orderBy){case"name_asc":case"name_desc":return e.slice().sort(((e,n)=>{const o=((e,t,r,n)=>{var o,i;const a=null!==(o=n(r,e))&&void 0!==o?o:"",c=null!==(i=n(r,t))&&void 0!==i?i:"";return a.localeCompare(c)})(e,n,"name",r)||b(e,n,"created_at",r);return"name_asc"===t.orderBy?o:-o}));case"created_asc":case"created_desc":return e.slice().sort(((e,n)=>{const o=b(e,n,"created_at",r);return"created_asc"===t.orderBy?o:-o}));case"last_opened_by_me_asc":case"last_opened_by_me_desc":return e.slice().sort(((e,n)=>{const o=b(e,n,"last_opened_by_me",r)||b(e,n,"created_at",r);return"last_opened_by_me_asc"===t.orderBy?o:-o}));case"last_edited_asc":case"last_edited_desc":return e.slice().sort(((e,n)=>{const o=b(e,n,"last_activity",r)||b(e,n,"created_at",r);return"last_edited_asc"===t.orderBy?o:-o}));default:return e}};const v=new y.h({resultCacheMaxSize:Math.pow(2,18),typePolicies:{ProjectCategory:{merge:!0,fields:{projects:{keyArgs:["searchQuery"],read:I,merge:(e,t)=>t},breadcrumbs:{merge:(e,t)=>t}}},Profile:{merge:!0},Project:{merge:!0,fields:{breadcrumbs:{merge:(e,t)=>t},sessions:{read:function(e,{readField:t}){return e?e.slice().sort(((e,r)=>b(e,r,"created_at",t))):e}}}},Notebook:{merge:!0,fields:{blocks:{merge:(e,t)=>t,read:(e,{readField:t})=>e.slice().sort(((e,r)=>((e,t,r,n)=>{var o,i;const a=null!==(o=n(r,e))&&void 0!==o?o:"",c=null!==(i=n(r,t))&&void 0!==i?i:"";return a<c?-1:a>c?1:0})(e,r,"sorting_key",t)))},changedBlocksSinceVersions:{merge:(e,t)=>t,keyArgs:!1}}},Team:{merge:!0,fields:{categories:{merge:(e,t)=>t},privateProjects:{keyArgs:["searchQuery"],read:I,merge:(e,t)=>t},sharedWithMeProjects:{keyArgs:["searchQuery"],read:I,merge:(e,t)=>t},projects:{keyArgs:["searchQuery"],read:I,merge:(e,t)=>t},rootProjects:{keyArgs:["searchQuery"],read:I,merge:(e,t)=>t}}},GettingStartedStep:{keyFields:["stepId"]},BillingInfo:{merge:!0,keyFields:["workspaceId"]},Query:{fields:{projects:{read:I},integrationStructure:{merge:(e,t)=>t,keyArgs:["integrationId"]}}},Subscription:{fields:{projectSessionOperation:{merge:(e,t)=>t}}}}});function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t,r,n,o,i;const a=e.query.definitions.find((e=>"OperationDefinition"===e.kind));return{operationName:null!==(t=null===(r=a.name)||void 0===r?void 0:r.value)&&void 0!==t?t:"",query:null!==(n=null===(o=a.loc)||void 0===o||null===(i=o.source)||void 0===i?void 0:i.body)&&void 0!==n?n:(0,g.S)(a)}}const P=(0,c.q)((({graphQLErrors:e,networkError:t,operation:r})=>{e&&e.filter((e=>!(0,h.Ej)(e))).filter((e=>!(0,h.yS)(e))).forEach((e=>{const t=A(r);e.message||(e.message+="No message - "+t.operationName),e.stack||(e.stack="Stack trace was not available"),"Internal server error"===e.message&&(e.message+=" - "+t.operationName);const n=new Error(e.message);e.stack&&(n.stack=e.stack),(0,d.$e)((r=>{r.setFingerprint(["{{ default }}",t.operationName]),r.setTag("operationName",t.operationName),(0,f.D)(n,"error",E(E({},e),{},{message:`GQL Error: ${e.message}`},t))}))})),t&&(0,f.D)(t,"error",A(r))})),_=(0,n.L)({uri:e=>`/graphql?operation_name=${encodeURIComponent(e.operationName)}`});let T=null,S=null;const C=new l.g((0,m.eI)({url:`${"https:"===window.location.protocol?"wss":"ws"}://${window.location.host}/subscriptions`,connectionParams:{reconnect:!0},keepAlive:1e4,on:{connected:e=>T=e,ping:e=>{e||(S=setTimeout((()=>{var e;(null===(e=T)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&T.close(4408,"Request Timeout")}),5e3))},pong:e=>{e&&S&&clearTimeout(S)}}})),j=(0,o.V)((({query:e})=>{const t=(0,s.p$)(e);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),C,_),k=new p.RestLink({uri:"/api"}),N=new i.i(((e,t)=>(e.setContext((({headers:e={}})=>{var t;const r=null===(t=(0,u.x1)())||void 0===t?void 0:t.toTraceparent();return r&&(e["sentry-trace"]=r),{headers:e}})),t(e)))),R=new a.f({cache:v,defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"},query:{fetchPolicy:"network-only"}},link:i.i.from([N,P,k,j])})},44834:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(91987);function o(e,t,r={}){(0,n.useEffect)((()=>{const n=function(n){const o=!r.ctrlKey||n.ctrlKey,i=!r.metaKey||n.metaKey;n.key===e&&o&&i&&(n.preventDefault(),t())};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),[e,t,r.ctrlKey,r.metaKey])}},87308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(91987);function o(e,t){const[r,o]=(0,n.useState)((()=>{try{let r;return"undefined"!=typeof window&&(r=window.sessionStorage.getItem(e)),r?JSON.parse(r):("undefined"!=typeof window&&window.sessionStorage.setItem(e,JSON.stringify(t)),t)}catch(e){return console.log(e),t}}));return[r,t=>{try{const n=t instanceof Function?t(r):t;"undefined"!=typeof window&&(o(n),window.sessionStorage.setItem(e,JSON.stringify(n)))}catch(e){console.log(e)}}]}},49258:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(93081),o=r(76077),i=r(99666),a=r(60809),c=r(7351),l=r(96057),s=r(51625);const d=({children:e,onClose:t=(()=>{}),title:r,size:d="md",closable:u=!0})=>(0,s.BX)(i.u,{isOpen:!0,onClose:t,size:"full"===d?"6xl":d,closeOnOverlayClick:u,children:[(0,s.tZ)(a.Z,{}),(0,s.BX)(n.h,{"data-cy":o.oCn,maxWidth:"full"===d?"100rem":void 0,children:[u&&(0,s.tZ)(c.o,{}),r&&(0,s.tZ)(l.x,{children:r}),e]})]})},26592:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(68628),o=r(76077),i=r(29389),a=r(39486),c=r(19318),l=r(44834),s=r(25001),d=r(51625);const u=({children:e,onClose:t=(()=>{}),title:r="",headerIcon:u=null,headerIconBg:p="",hasFixedHeight:g=!1,headerPadding:m=!1,headerBorder:f=!1,padding:h="DEFAULT",width:y="DEFAULT",headerType:b="DEFAULT",closable:I=!0,isDark:v=!1,isFullScreenHeight:O=!1,isFixed:E=!1,hasOverlay:w=!0,minHeightPx:A=0})=>{const P=(0,c.Fg)(),_=v?s.pb:s.u2;(0,l.Z)("Escape",(()=>{t&&I&&t()}));const T=()=>{t&&I&&t()},S=(0,d.tZ)(n.m.a,{css:[s.UF(_),"CLOSE_ONLY"===b&&s.Sl,"",""],onClick:T,"data-cy":o.Ijw,children:(0,d.tZ)(i.J,{boxSize:"RICH"===b?4:3,as:a.Two})});return(0,d.BX)(n.m.div,{css:s.YW(w),"data-cy":o.oCn,children:[(0,d.tZ)(n.m.div,{css:s.TM(E),children:(0,d.tZ)(n.m.div,{css:s.Ad(O),children:(0,d.BX)(n.m.div,{css:s.oC(P,_,O,g,y,h,A),children:[("DEFAULT"===b||"RICH"===b)&&(0,d.BX)(n.m.header,{css:s.Fs(P,y,m,f),children:[u&&(0,d.tZ)(n.m.div,{css:s.XH(_,p,"RICH"===b),children:u}),(0,d.tZ)(n.m.h1,{css:s.TN(_,"RICH"===b),children:r}),"RICH"===b&&(0,d.tZ)(n.m.span,{css:s.sN(_),children:"(esc)"}),I&&S]}),"CLOSE_ONLY"===b&&I&&S,e]})})}),(0,d.tZ)(n.m.div,{css:s.fV,onClick:T})]})}},63001:(e,t,r)=>{"use strict";r.d(t,{OA:()=>c,Tc:()=>a,Tv:()=>u,WP:()=>p,qv:()=>l,so:()=>g,uu:()=>i,uw:()=>d,wc:()=>s,yH:()=>m});var n=r(44689),o=r(55237);const i={name:"15kgf8k",styles:"background:rgba(255,255,255,0.1);font-size:14px;padding:5px 8px;border-radius:5px;margin-left:8px;:first-of-type{margin-left:0px;}"},a=(0,o.iv)({width:"50%",display:"inline-block",fontFamily:n.LZ.fontFamily.monospaceFontFamily},"",""),c={name:"11dpkdk",styles:"list-style:none;margin:0px;padding:0px"},l={name:"1ehavd5",styles:"margin:15px 0px"},s={name:"q8p4oj",styles:"width:50%;display:inline-block"},d={name:"16ceglb",styles:"font-weight:600"},u=e=>(0,o.iv)({width:"markdown"===e?"700px":"shortcuts"===e?"900px":"500px",display:"flex",justifyContent:"space-between"},"",""),p=e=>(0,o.iv)({width:"markdown"===e?"350px":"shortcuts"===e?"400px":"300px"},"",""),g={name:"ko2mbl",styles:"background:rgba(255,255,255,0.1);width:2px;align-self:flex-center"},m={name:"1xwnaty",styles:"margin-top:35px"}},43405:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(68628),o=r(63001),i=r(51625);function a(e){return(0,i.BX)(n.m.div,{css:o.yH,children:[(0,i.tZ)(n.m.div,{css:o.uw,children:e.title}),(0,i.tZ)(n.m.ul,{css:o.OA,children:e.items.map((e=>(0,i.BX)(n.m.li,{css:o.qv,children:[(0,i.tZ)(c,{keys:e.keys}),(0,i.tZ)(n.m.span,{css:o.wc,children:e.description})]},e.description)))})]})}function c(e){return(0,i.tZ)(n.m.span,{css:o.Tc,children:e.keys.map((e=>(0,i.tZ)(n.m.span,{css:o.uu,children:e},e)))})}},25001:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>d,Fs:()=>E,Sl:()=>k,TM:()=>s,TN:()=>S,UF:()=>C,XH:()=>T,YW:()=>l,fV:()=>u,oC:()=>p,pb:()=>c,sN:()=>j,u2:()=>a});var n=r(55237);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a={font:"#000",background:"#fff",closeIcon:"#899eb4",closeIconHover:"#1468BC",closeIconHoverBackground:"rgba(23,22,22,0.1)",headerIconBackground:"#E1EFFD",headerIcon:"#3793EF",title:"rgba(23,50,73,1)"},c={font:"#fff",background:"#1E1D1E",closeIcon:"#fff",closeIconHover:"#fff",closeIconHoverBackground:"rgba(255,255,255,0.1)",headerIconBackground:"rgba(255,255,255,0.1)",headerIcon:"#FFF",title:"#FFF"},l=e=>(0,n.iv)({background:e?"rgba(93,101,110,0.8)":"transparent",position:"fixed",zIndex:1e3,top:0,left:0,right:0,bottom:0},"",""),s=e=>(0,n.iv)("position:absolute;top:0;left:0;right:0;bottom:0;display:flex;",e&&"padding-top: 80px;"," align-items:",e?"flex-start":"center",";justify-content:center;overflow:auto;",""),d=e=>(0,n.iv)("z-index:1200;",e&&"max-height: 90vh;"," box-shadow:rgba(0, 0, 0, 0.5) 0px 16px 70px;border-radius:5px;",""),u={name:"7gafm2",styles:"position:absolute;top:0;left:0;right:0;bottom:0;z-index:1100"},p=(e,t,r=!1,o,i,a,c)=>(0,n.iv)("position:relative;display:flex;flex-direction:column;background:",t.background,";border-radius:5px;box-shadow:0 0 15px ",e.colors.shadow,";padding:40px;width:500px;max-width:100vw;font-size:12px;color:",t.font,";",!r&&"max-height: 90vh;"," ",!r&&"overflow-y: auto;"," ::-webkit-scrollbar{height:0.4em;width:0.4em;}::-webkit-scrollbar-track{background:rgba(200, 200, 200, 0.1);}::-webkit-scrollbar-thumb{border-radius:10px;background:rgba(200, 200, 200, 0.25);}::-webkit-scrollbar-thumb:hover{background:rgba(200, 200, 200, 0.4);}",o&&m," ","WIDE"===i&&h," ","WIDER"===i&&y," ","NARROW"===i&&f," ","AUTO"===i&&b," ","LESS"===a&&I," ","NONE"===a&&O," ","LARGE"===a&&v," ",c&&g(c),";",""),g=e=>(0,n.iv)("min-height:",e,"px;",""),m={name:"1yl8nb2",styles:"height:590px"},f={name:"1e7dijb",styles:"width:350px;padding:50px"},h={name:"cjbtm3",styles:"width:668px;max-width:90vw"},y={name:"rx1i4m",styles:"width:926px;max-width:90vw"},b={name:"3abrc0",styles:"width:auto"},I={name:"1bvbw6e",styles:"padding:30px"},v={name:"14m57ir",styles:"padding:72px 79px"},O={name:"1hcx8jb",styles:"padding:0"},E=(e,t,r,o)=>(0,n.iv)("display:flex;align-items:center;margin-bottom:20px;","CENTERED"===t&&A," ","NARROW"===t&&P," ",r&&_," ",o&&w(e),";",""),w=e=>(0,n.iv)("border-bottom:1px solid;border-color:",e.colors.gray[300],";",""),A={name:"8l7wdr",styles:"flex-direction:column;text-align:center;margin-bottom:40px"},P={name:"15u9bv0",styles:"margin-bottom:50px"},_={name:"10kuxqj",styles:"padding:25px 30px!important;margin:0!important"},T=(e,t,r=!1)=>(0,n.iv)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:t&&""!==t?t:e.headerIconBackground,marginRight:16,display:"flex",alignItems:"center",justifyContent:"center",color:e.headerIcon},r?{borderRadius:"10px",width:49,height:49,fontSize:"20px"}:{width:32,height:32,borderRadius:"50%"}),"",""),S=(e,t=!1)=>(0,n.iv)({flexGrow:1,fontSize:t?"27px":"14px",fontWeight:500,color:e.title,margin:0},"",""),C=e=>(0,n.iv)({display:"inline-flex",width:30,height:30,margin:-10,alignItems:"center",justifyContent:"center",borderRadius:"50%",color:e.closeIcon,cursor:"pointer","&:hover":{background:e.closeIconHoverBackground,color:e.closeIconHover}},"",""),j=e=>(0,n.iv)({color:e.font,opacity:.6,marginRight:"13px"},"",""),k={name:"1eucs3e",styles:"position:absolute;top:20px;right:20px"}},53270:(e,t,r)=>{"use strict";r.d(t,{M0:()=>c,Te:()=>l,kQ:()=>a,nC:()=>i,oE:()=>o});var n=r(55237);const o={name:"1ktvx7a",styles:"position:relative;width:100vw;min-height:100vh;display:flex;flex-direction:column;background:#f7f9fa;padding:15px 20px"},i={name:"1crpl25",styles:"display:flex;align-items:center;position:relative;flex-grow:1;@media only screen and (max-width: 768px){padding:0 30px;}"},a=e=>(0,n.iv)("display:flex;flex-grow:1;flex-direction:column;h1{font-size:28px;font-weight:400;margin:0 0 15px;line-height:1.3;@media only screen and (max-width: 768px){font-size:19px;}}p{font-size:13px;font-weight:400;line-height:1.8;color:",e.colors.textGray[300],";margin:0 0 40px;@media only screen and (max-width: 768px){font-size:13px;margin-bottom:20px;}}",""),c={name:"d5imaw",styles:"width:50%;@media only screen and (max-width: 768px){display:none;}img{width:437px;max-width:100%;max-height:100%;@media only screen and (max-width: 768px){max-width:300px;}}"},l={name:"al7ag2",styles:"width:50%;margin-left:50px;p{margin-bottom:15px!important;}@media only screen and (max-width: 768px){width:100%;margin-left:0;}"}},98728:(e,t,r)=>{"use strict";r.d(t,{Y:()=>u});var n=r(68628),o=r(6606),i=r(29389),a=r(39486),c=r(19318),l=r(44689),s=r(53270),d=r(51625);function u(e){var t,r;const u=(0,c.Fg)();return(0,d.BX)(n.m.div,{css:s.oE,children:[(0,d.tZ)("div",{children:(0,d.tZ)(i.J,{boxSize:6,as:a.MKp})}),(0,d.tZ)(n.m.div,{css:s.kQ(u),children:(0,d.BX)(n.m.div,{css:[l.KP.container,s.nC,"",""],children:[(0,d.tZ)(n.m.div,{css:s.M0,children:(0,d.tZ)(o.E,{src:"/static/illustration-project-not-found.png",alt:"Something went wrong"})}),(0,d.BX)(n.m.div,{css:s.Te,children:[(0,d.tZ)("h1",{children:"Whoops..."}),(0,d.tZ)("p",{children:null!==(t=null===(r=e.preloadedState)||void 0===r?void 0:r.message)&&void 0!==t?t:(0,d.BX)(d.HY,{children:["Something went wrong with the project. ",(0,d.tZ)("b",{children:"Please try refreshing the page."})]})})]})]})})]})}},72421:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query CanUseFeatureLimitsData($workspaceId: String!) {
    canUseBillingLimits(workspaceId: $workspaceId) {
      name
      hasLimitBeenHit
      options {
        limit
      }
    }
  }
`;function a(e,t={}){const{data:r,loading:n,error:a,refetch:c}=(0,o.a)(i,{variables:{workspaceId:e},fetchPolicy:t.fetchPolicy});return{data:r?null==r?void 0:r.canUseBillingLimits:[],loading:n,error:a,refetch:c}}},5073:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var n=r(86263);const o={selectIsAppView:e=>e.layout.selectedProjectLayout===n.k7.PUBLISHING_EDITOR||e.layout.selectedProjectLayout===n.k7.NEW_PUBLISHING_EDITOR,selectScrollEnabled:e=>e.layout.isDraggingBlocks,selectOpenedBlockDropdownPosition:e=>e.layout.openedBlockDropdownPosition}},83283:(e,t,r)=>{"use strict";r.d(t,{K5:()=>i,QG:()=>o,iq:()=>a});var n=r(30133);const o=5e3;function i(e,t={},r){setTimeout((()=>{window.__SEGMENT_FRONTEND_KEY&&window.requestIdleCallback(l),"production"===e&&t.loadFacebookSDK&&window.requestIdleCallback(c)}),o)}function a(){var e,t,r,n,o,i,a,c,l,s,d,u;if(window._fs_debug=!1,window._fs_script="edge.fullstory.com/s/fs.js",window._fs_host="fullstory.com",window._fs_org="GPXFJ",window._fs_namespace="FS",r=window,n=document,o=window._fs_namespace,i="script",a="user",o in r?null!==(d=r.console)&&void 0!==d&&d.log&&r.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((l=r[o]=function(e,t,r){l.q?l.q.push([e,t,r]):l._api(e,t,r)}).q=[],(c=n.createElement(i)).async=1,c.crossOrigin="anonymous",c.src="https://"+window._fs_script,(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(c,s),l.identify=function(e,t,r){l(a,{uid:e},r),t&&l(a,t,r)},l.setUserVars=function(e,t){l(a,e,t)},l.event=function(e,t,r){l("event",{n:e,p:t},r)},l.anonymize=function(){l.identify(!1)},l.shutdown=function(){l("rec",!1)},l.restart=function(){l("rec",!0)},l.log=function(e,t){l("log",[e,t])},l.consent=function(e){l("consent",!arguments.length||e)},l.identifyAccount=function(e,t){c="account",(t=t||{}).acctId=e,l(c,t)},l.clearUserCookie=function(){},l.setVars=function(e,t){l("setVars",[e,t])},l._w={},s="XMLHttpRequest",l._w[s]=r[s],s="fetch",l._w[s]=r[s],r[s]&&(r[s]=function(...e){return l._w[s].apply(this,e)}),l._v="1.3.0"),null!==(e=window.__preloadedState)&&void 0!==e&&null!==(t=e.user)&&void 0!==t&&t.id)null===(u=window.FS)||void 0===u||u.identify(window.__preloadedState.user.id,{displayName:window.__preloadedState.user.name,email:window.__preloadedState.user.email});else if(window.__userId){var p;null===(p=window.FS)||void 0===p||p.identify(window.__userId,{displayName:window.__userName,email:window.__userEmail})}}function c(){window.fbAsyncInit=function(){window.FB.init({appId:window.__FB_APP_ID,autoLogAppEvents:!0,xfbml:!0,version:"v7.0"})};const e=document,t="facebook-jssdk";if(e.getElementById(t))return;const r=e.createElement("script");r.id=t,r.src="https://connect.facebook.net/en_US/sdk.js",r.async=!0,r.defer=!0,e.getElementsByTagName("head")[0].appendChild(r)}const l=async()=>{var e,t;if(!window.__SEGMENT_FRONTEND_KEY)return;const r=n.b.load({writeKey:window.__SEGMENT_FRONTEND_KEY});if(window.analytics=r,null!==(e=window.__preloadedState)&&void 0!==e&&null!==(t=e.user)&&void 0!==t&&t.id)try{await r.identify(window.__preloadedState.user.id,{name:window.__preloadedState.user.name,email:window.__preloadedState.user.email})}catch(e){}}},24923:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});r(71696);var n=r(67439),o=r(19654),i=r(3285),a=r(92801),c=r(64072),l=r(99012),s=r(93541),d=r(13716),u=r(79619),p=r(23278),g=r(83283),m=r(13636),f=r(45554);const h=Object.values(m._).reverse().map((e=>e(":arg1",":arg2",":arg3",":arg4",":arg5",":arg6",":arg7",":arg8",":arg9"))),y=e=>{const t=[];return h.forEach((r=>{const n=(0,f.LX)(e,r);null!=n&&n.path&&t.push(n.path)})),t.length>1&&"/"===t[0]?t[1]:1===t.length?t[0]:null},b=[],I=[],v=e=>{return performance.timeOrigin?(performance.timeOrigin+e)/1e3:(null!==(t=performance.timing.navigationStart)&&void 0!==t?t:0+e)/1e3;var t},{visibilityChange:O}=(()=>{const e=document;return void 0!==e.hidden?{visibilityChange:"visibilitychange"}:void 0!==e.msHidden?{visibilityChange:"msvisibilitychange"}:void 0!==e.webkitHidden?{visibilityChange:"webkitvisibilitychange"}:{}})(),E=e=>{let t=null,r=null;O&&document.addEventListener(O,(()=>{"hidden"===document.visibilityState&&t&&(cancelAnimationFrame(t),t=null),"visible"===document.visibilityState&&(t||(t=requestAnimationFrame(n))),r=null}),!1);const n=()=>{if(null!==r){const t=performance.now(),n=t-r;n>50&&((e,t,r)=>{const n=t-e;b.push({duration:n,timeFromPageLoad:r});const o=(0,s.x1)();o&&"pageload"===o.op&&(o.startChild({op:"long-task",description:"Long task",startTimestamp:v(e),endTimestamp:v(t)}),o.tags["long-task-count"]=b.length,o.tags["long-task-sum"]=b.reduce(((e,t)=>e+t.duration),0),o.tags["long-task-occured"]=!0)})(r,t,t-e),n>1e3&&((e,t)=>{const r=t-e;I.push(r);const n=(0,s.x1)();n&&"pageload"===n.op&&(n.startChild({op:"frozen-task",description:"Frozen task",startTimestamp:v(e),endTimestamp:v(t)}),n.tags["frozen-task-count"]=I.length,n.tags["frozen-task-sum"]=I.reduce(((e,t)=>e+t),0),n.tags["frozen-task-occured"]=!0)})(r,t)}r=performance.now(),t=requestAnimationFrame(n)};"visible"===document.visibilityState&&(t=requestAnimationFrame(n))},w=e=>{let t=0;setInterval((()=>{const r=b.slice(t);r.length>0&&(t=b.length,(0,o.YB)(r.map((e=>({duration:Math.floor(e.duration),timeFromPageLoad:Math.floor(e.timeFromPageLoad)}))),window.location.pathname,y(window.location.pathname),e))}),5e3)};var A=r(40538),P=r(63809),_=r(24008),T=r(17534);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){const t=e.split("/project/");return t.length>=2?t[0]+"/project/<redacted>":e}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D=(e,t)=>{window.dataLayer&&window.dataLayer.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({event:e},t))};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t={}){void 0!==window.__loginSessionType&&D("loginSession",{loginSessionType:window.__loginSessionType});const r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),d=["production","staging"].includes(_.clientConfig.runtimeConfig.ENV);!function(e,t){if(!e)return;const r=performance.now();E(r),w(t)}(d,e);const u=["rs.fullstory.com","api.segment.io"];d&&(0,o.PB)(),window.__userId||(0,o.rc)();if(d&&_.clientConfig.runtimeConfig.WEBAPP_CLIENT_SENTRY_DSN){var m,f,h,b;const e=100;let t=0;setInterval((()=>{t=0}),n.B.duration({hours:1}).asMilliseconds()),(0,a.S1)({dsn:_.clientConfig.runtimeConfig.WEBAPP_CLIENT_SENTRY_DSN,environment:null!==(m=_.clientConfig.runtimeConfig.SINGLE_TENANT_NAME)&&void 0!==m?m:_.clientConfig.runtimeConfig.ENV,release:null!==(f=window.__RELEASE_NAME)&&void 0!==f?f:window.__CIRCLE_SHA1,attachStacktrace:!0,maxBreadcrumbs:100,ignoreErrors:[/^ResizeObserver loop limit exceeded$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Failed to fetch$/],normalizeDepth:10,debug:(0,T.GC)(),tracesSampler:e=>{if(!d)return 1;const t=.25;return"reconnect"===e.transactionContext.op?.005:"/project"===e.transactionContext.name?.025:t},integrations:[new c.jK.LinkedErrors({key:"cause"}),new s.jK.BrowserTracing({beforeNavigate:e=>{var t;return M(M({},e),{},{name:null!==(t=y(e.name))&&void 0!==t?t:"<not-matched-url>"})},tracingOrigins:[/\/graphql/,/\/api/],idleTimeout:3e4})],beforeBreadcrumb:e=>"navigation"===e.category?function(e){var t,r;return C(C({},e),{},{data:{from:null!==(t=e.data)&&void 0!==t&&t.from?k(e.data.from):void 0,to:null!==(r=e.data)&&void 0!==r&&r.to?k(e.data.to):void 0}})}(e):u.some((t=>{var r,n,o,i;return null!==(r=null===(n=e.message)||void 0===n?void 0:n.includes(t))&&void 0!==r?r:null===(o=e.data)||void 0===o||null===(i=o.url)||void 0===i?void 0:i.includes(t)}))?null:e,beforeSend(r,n){if(t>e)return null;var o,i,a,c,l;(r.request&&(r.request=C(C({},o=r.request),{},{headers:C(C({},null==o?void 0:o.headers),{},{Referer:null!=o&&null!==(i=o.headers)&&void 0!==i&&i.Referer?k(o.headers.Referer):"N/A"}),url:k(null!==(a=null==o?void 0:o.url)&&void 0!==a?a:"")})),r.tags)&&(r.tags=M(M({},r.tags),{},{url:null!==(c=r.request)&&void 0!==c&&c.url?k(null===(l=r.request)||void 0===l?void 0:l.url):"N/A"}));r.extra||(r.extra={}),(0,P.l)("Error on client",{errorEvent:r});const s=window.FS;null!=s&&s.getCurrentSessionURL&&(r.extra["fullstory-url"]=s.getCurrentSessionURL(!0)),r.extra["latest-actions"]=p.g.getItems();const d=null==n?void 0:n.originalException;return d instanceof A.V&&(r.fingerprint=["{{ default }}",d.methodName]),t++,r}}),_.clientConfig.runtimeConfig.ENV||(0,i.D)(Error('"clientConfig.runtimeConfig.ENV" is empty, cannot init properly'),"fatal"),null!==(h=window.__preloadedState)&&void 0!==h&&null!==(b=h.user)&&void 0!==b&&b.id?(0,l.e)((e=>{var t,r,n,o,i,a,c,l;e.setUser({id:null===(t=window.__preloadedState)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id,username:null!==(n=null===(o=window.__preloadedState)||void 0===o||null===(i=o.user)||void 0===i?void 0:i.name)&&void 0!==n?n:void 0,email:null!==(a=null===(c=window.__preloadedState)||void 0===c||null===(l=c.user)||void 0===l?void 0:l.email)&&void 0!==a?a:void 0})})):window.__userId&&(0,l.e)((e=>{e.setUser({id:window.__userId,username:window.__userName,email:window.__userEmail})}))}else console.log(`Sentry disabled in ${_.clientConfig.runtimeConfig.ENV} environment`);window.__deepnoteStoreCounter>1&&(0,i.D)(new Error("creating multiple stores"),"fatal"),(0,g.K5)(_.clientConfig.runtimeConfig.ENV,r,e)}d.Z.addDefaultLocale(u.Z)},63809:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=(e,t)=>{const r=window.FS;r&&r.event(e,t)}},72746:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,J:()=>i});var n=r(6307);const o=e=>(0,n.ZP)(["down","tab"],e)?1:(0,n.ZP)(["up","shift+tab"],e)?-1:0;function i(e,t,r){if(0===e.length)return 0;let n=0,o=-1;do{if(n+=r,o=(e.length+t+n)%e.length,!e[o].isDisabled)return o}while(Math.abs(n)<e.length);return t}},71696:()=>{window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},95444:(e,t,r)=>{"use strict";r.d(t,{X:()=>i,t:()=>a});var n=r(3285),o=r(63791);function i(e,...t){const r=c();return r?e(r.id,r.slug,...t):""}function a(e,t){const r=c();return r?e(r.id,r.slug,t):""}function c(){const e=window.location.href.match(/\/workspace\/[\w_.'"%-]+/),t=e?e[0].substring(11):null;if(!t)return void(0,n.D)(new Error("Could not find workspace slug with id in current url"),"error");const{id:r,slug:i}=(0,o.bN)(t);if(r&&i)return{id:r,slug:i};(0,n.D)(new Error("Could not parse workspace slug with id in current url"),"error")}},45827:(e,t,r)=>{"use strict";r.d(t,{Z:()=>jl});var n=r(13636),o=r(3285),i=r(60802),a=r(77424),c=r(91987),l=r(25668),s=r(94688),d=r(49880),u=r(45554),p=r(32504),g=r(97217),m=r(10753),f=r(29015),h=r(54748),y=r(87036),b=r(97054),I=r(83529),v=r(29389),O=r(39486),E=r(8326),w=r(19654),A=r(45060),P=r(27704),_=r(84899),T=r(51625);const S=["workspaceId"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const R=(0,c.memo)((function(e){return(0,T.tZ)(v.J,{as:e.icon,size:"md",color:"foreground.tertiary"})})),D=(0,c.memo)((function(e){const{commonApi:t,modalApi:r}=(0,_.WG)(),[o,i]=(0,c.useState)(!1),{workspaceId:a}=e,l=N(e,S);return(0,T.BX)(T.HY,{children:[(0,T.BX)(g.v,{children:[(0,T.tZ)(m.j,j(j({as:f.h},l),{},{"aria-label":"Help menu",icon:(0,T.tZ)(v.J,{as:O.vl_,size:"md"}),variant:"outlineWithBackground",colorScheme:"gray",color:"foreground.tertiary"})),(0,T.BX)(h.q,{minWidth:"280px",children:[(0,T.tZ)(y.s,{icon:(0,T.tZ)(R,{icon:O.zP7}),onClick:()=>{(0,w.j)("Support chat opened",{workspaceId:a}),t.openSupportChat()},children:"Chat with us"}),(0,T.tZ)(y.s,{onClick:()=>i(!0),icon:(0,T.tZ)(R,{icon:O.$MM}),children:"Book a demo"}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:"https://deepnote.com/@deepnote/Deepnote-Referral-Program-2f148f30-8129-44a5-9b0a-8ff361cc6b03",icon:(0,T.tZ)(R,{icon:O.sF1}),children:"Referral program"}),(0,T.tZ)(I.R,{}),(0,T.tZ)(y.s,{icon:(0,T.tZ)(R,{icon:O.QAt}),onClick:()=>r.openModal({newModal:A.Qi.SHORTCUTS_CHEAT_SHEETS_MODAL}),children:"Shortcuts"}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:n._.docs(),icon:(0,T.tZ)(R,{icon:O.RsC}),children:"Documentation"}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:n._.docsPage("deepnote-crash-course"),icon:(0,T.tZ)(R,{icon:O.zP7}),children:"Deepnote crash course"}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:n._.explore(),icon:(0,T.tZ)(R,{icon:O.BXb}),children:"Explore"}),(0,T.tZ)(I.R,{}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:P.RF,icon:(0,T.tZ)(R,{icon:O.j86}),children:"Suggest product improvements"}),(0,T.tZ)(y.s,{as:b.r,variant:"menu-item",isExternal:!0,href:"https://community.deepnote.com",icon:(0,T.tZ)(R,{icon:O.SXX}),children:"Community"})]})]}),(0,T.tZ)(E.Ov,{open:o,source:"help-menu",workspaceId:a,onClose:()=>i(!1)})]})}));var Z=r(98189),M=r(18927),x=r(68628),L=r(6606),B=r(19318),U=r(44689),G=r(53270);function H(){const e=(0,B.Fg)();return(0,T.BX)(x.m.div,{css:G.oE,children:[(0,T.tZ)("div",{children:(0,T.tZ)(v.J,{boxSize:6,as:O.MKp})}),(0,T.tZ)(x.m.div,{css:G.kQ(e),children:(0,T.BX)(x.m.div,{css:[U.KP.container,G.nC,"",""],children:[(0,T.tZ)(x.m.div,{css:G.M0,children:(0,T.tZ)(L.E,{src:"/static/illustration-project-not-found.png",alt:"Browser not supported"})}),(0,T.BX)(x.m.div,{css:G.Te,children:[(0,T.tZ)("h1",{children:"Your browser is not yet supported"}),(0,T.BX)("p",{children:["We're sorry about this, but we don't fully support your browser yet. Let us know at"," ",(0,T.tZ)("a",{href:"mailto:help@deepnote.com",children:"help@deepnote.com"})," which browser you're using and we'll make sure to prioritize it. We currently recommend to use the latest version of Chrome, Safari or Firefox and you should be all set. Thanks!"]})]})]})})]})}var W=r(98728),X=r(1067),q=r(25001);function F(e){const t=(0,B.Fg)(),r=q.u2;return(0,T.tZ)("div",{children:(0,T.BX)(x.m.div,{css:q.oC(t,r),children:[(0,T.BX)(x.m.header,{css:q.Fs(t),children:[(0,T.tZ)(x.m.div,{css:q.XH(r),children:(0,T.tZ)(v.J,{boxSize:4,as:O.Two})}),(0,T.tZ)(x.m.h1,{css:q.TN(r),children:"Error occurred"}),(0,T.tZ)(x.m.a,{href:"#",css:q.UF(r),onClick:e.onClose,children:(0,T.tZ)(v.J,{boxSize:3,as:O.Two})})]}),(0,T.tZ)("p",{children:e.message})]})})}var $=r(95444),V=r(64119),Y=r(64705);const K=V.Ps`
  query GetTemplateProjects($teamId: String!) {
    templateProjects {
      id
      project_id
      name
      description
      thumbnail
      created_at
    }
    team(id: $teamId) {
      __typename
      ... on Team {
        id
        templateProjects {
          id
          slug
          name
          isTemplate
          integrations {
            id
            name
            type
          }
          hardware
          environment {
            id
            name
          }
        }
      }
    }
    me {
      __typename
      ... on Profile {
        id
      }
    }
  }
`;var z=r(55075),J=r(44776),Q=r(51192),ee=r(54785),te=r(23248),re=r(6351),ne=r(24518),oe=r(37160),ie=r(62585),ae=r(83837),ce=r(49258);function le(){return(0,T.BX)("svg",{width:"349",height:"195",viewBox:"0 0 349 195",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,T.BX)("g",{clipPath:"url(#clip0_15_5210)",children:[(0,T.tZ)("g",{filter:"url(#filter0_ddd_15_5210)",children:(0,T.tZ)("rect",{x:"86",y:"8",width:"200",height:"296",rx:"4",fill:"white"})}),(0,T.tZ)("g",{filter:"url(#filter1_d_15_5210)",children:(0,T.tZ)("rect",{x:"102",y:"84",width:"168",height:"94",rx:"4",fill:"white"})}),(0,T.tZ)("rect",{x:"142",y:"138",width:"24",height:"24",rx:"3",fill:"#F4F6F8"}),(0,T.tZ)("rect",{x:"174",y:"114",width:"24",height:"48",rx:"3",fill:"#F4F6F8"}),(0,T.tZ)("rect",{x:"206",y:"100",width:"24",height:"62",rx:"3",fill:"#F4F6F8"}),(0,T.tZ)("rect",{y:"8",width:"349",height:"304",fill:"url(#paint0_linear_15_5210)"}),(0,T.tZ)("rect",{x:"102",y:"32",width:"75",height:"8",rx:"2",fill:"#E5EBF1"}),(0,T.tZ)("rect",{x:"102",y:"52",width:"148",height:"4",rx:"2",fill:"#F4F6F8"}),(0,T.tZ)("rect",{x:"102",y:"64",width:"68",height:"4",rx:"2",fill:"#F4F6F8"}),(0,T.tZ)("rect",{x:"174",y:"64",width:"68",height:"4",rx:"2",fill:"#F4F6F8"})]}),(0,T.BX)("defs",{children:[(0,T.BX)("filter",{id:"filter0_ddd_15_5210",x:"54",y:"-20",width:"264",height:"360",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,T.tZ)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,T.tZ)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,T.tZ)("feOffset",{}),(0,T.tZ)("feGaussianBlur",{stdDeviation:"0.5"}),(0,T.tZ)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,T.tZ)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.00784314 0 0 0 0 0.203922 0 0 0 0 0.403922 0 0 0 0.32 0"}),(0,T.tZ)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_15_5210"}),(0,T.tZ)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,T.tZ)("feOffset",{dy:"4"}),(0,T.tZ)("feGaussianBlur",{stdDeviation:"4"}),(0,T.tZ)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,T.tZ)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.00348958 0 0 0 0 0.139963 0 0 0 0 0.279167 0 0 0 0.08 0"}),(0,T.tZ)("feBlend",{mode:"normal",in2:"effect1_dropShadow_15_5210",result:"effect2_dropShadow_15_5210"}),(0,T.tZ)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,T.tZ)("feOffset",{dy:"4"}),(0,T.tZ)("feGaussianBlur",{stdDeviation:"16"}),(0,T.tZ)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,T.tZ)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.00348958 0 0 0 0 0.139963 0 0 0 0 0.279167 0 0 0 0.04 0"}),(0,T.tZ)("feBlend",{mode:"normal",in2:"effect2_dropShadow_15_5210",result:"effect3_dropShadow_15_5210"}),(0,T.tZ)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_15_5210",result:"shape"})]}),(0,T.BX)("filter",{id:"filter1_d_15_5210",x:"101",y:"83",width:"170",height:"96",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,T.tZ)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,T.tZ)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,T.tZ)("feOffset",{}),(0,T.tZ)("feGaussianBlur",{stdDeviation:"0.5"}),(0,T.tZ)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,T.tZ)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.00784314 0 0 0 0 0.203922 0 0 0 0 0.403922 0 0 0 0.32 0"}),(0,T.tZ)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_15_5210"}),(0,T.tZ)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_15_5210",result:"shape"})]}),(0,T.BX)("linearGradient",{id:"paint0_linear_15_5210",x1:"239",y1:"278.471",x2:"239",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,T.tZ)("stop",{stopColor:"white"}),(0,T.tZ)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,T.tZ)("clipPath",{id:"clip0_15_5210",children:(0,T.tZ)("rect",{width:"349",height:"195",fill:"white"})})]})]})}function se(e){const[t,r]=(0,c.useState)(!1);return(0,T.BX)(J.k,{alignItems:"center",justifyContent:"center",flexDirection:"column",marginY:8,children:[(0,T.tZ)(le,{}),(0,T.tZ)(Q.x,{fontSize:"sm",fontWeight:600,color:"gray.900",marginBottom:2,children:"Jumpstart your work with templates"}),(0,T.tZ)(Q.x,{marginY:2,marginBottom:0,maxWidth:340,align:"center",children:"Setup ready-to-go projects, with pre-configured docker images, files, inactivity, machines and content format"}),(0,T.tZ)(te.z,{isLoading:t,marginTop:5,onClick:()=>{r(!0),e.onNewTemplateRequest()},children:"Create a template"})]})}var de=r(49),ue=r(34231),pe=r(76077);const ge=(0,c.memo)((function({onUseRequest:e,description:t,image:r,name:n}){const[o,i]=(0,c.useState)(!1);return(0,T.tZ)(z.xu,{flexGrow:1,children:(0,T.BX)(de.g,{alignItems:"flex-start",spacing:1,pointerEvents:o?"none":"auto",role:"group",children:[(0,T.tZ)(ue.M,{"data-cy":pe.JCl,width:"100%",maxWidth:"264px",children:(0,T.BX)(z.xu,{border:"1px solid",borderColor:"gray.300",borderRadius:"sm",position:"relative",sx:{img:{borderRadius:"3px",maxWidth:"100%"}},children:[(0,T.tZ)(L.E,{src:r,alt:`${n} template`}),(0,T.tZ)(J.k,{display:o?"flex":"none",_groupHover:{display:"flex"},position:"absolute",top:"0",left:"0",bottom:"0",right:"0",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"rgba(247, 249, 250, 0.9)",children:(0,T.tZ)(te.z,{isLoading:o,onClick:()=>{o||(i(!0),e())},marginBottom:2,children:"Use template"})})]})}),(0,T.tZ)(J.k,{justifyContent:"space-between",width:"100%",children:(0,T.BX)(z.xu,{children:[(0,T.tZ)(Q.x,{as:"h3",fontSize:"sm",color:"black",fontWeight:600,children:n}),(0,T.tZ)(Q.x,{fontSize:"xs",color:"gray.700",children:t})]})})]})})}));var me=r(13828);const fe=(0,c.memo)((function(){return(0,T.BX)("div",{children:[(0,T.tZ)(me.ZP,{count:1,height:"150px",style:{marginBottom:"4px"}}),(0,T.tZ)(me.ZP,{count:1,height:"16px",style:{marginBottom:"4px",maxWidth:"60%"}}),(0,T.tZ)(me.ZP,{count:1,height:"8px",style:{marginBottom:"2px"}})]})}));var he=r(18438),ye=r(47425);const be=({template:e,onViewRequest:t,onUseRequest:r})=>{var n,o,i,a;const l=e.name,s=null!==(n=null===(o=e.environment)||void 0===o?void 0:o.name)&&void 0!==n?n:"Unknown environment",[d,u]=(0,c.useState)(!1),[p,g]=(0,c.useState)(!1);return(0,T.BX)(z.xu,{boxShadow:"boxShadow.md",padding:6,borderRadius:"sm",role:"group",position:"relative",minHeight:"200px",children:[(0,T.tZ)(Q.x,{marginBottom:5,fontWeight:600,color:"gray.900",fontSize:"12px",lineHeight:"18px",children:l}),(0,T.tZ)(Q.x,{children:s}),(0,T.BX)(Q.x,{marginBottom:5,children:[null===(i=he.p[e.hardware])||void 0===i?void 0:i.name," ",null===(a=he.p[e.hardware])||void 0===a?void 0:a.billingPageSpecs]}),e.integrations.map((e=>{var t;const r=(null===(t=ye.Du[e.type])||void 0===t?void 0:t.icon)||ye.Xo.icon;return(0,T.BX)(J.k,{alignItems:"center",marginY:2,children:[(0,T.tZ)(r,{height:4,width:4}),(0,T.tZ)(Q.x,{marginLeft:2,noOfLines:1,color:"gray.800",children:e.name})]},e.id)})),(0,T.BX)(J.k,{display:d||p?"flex":"none",_groupHover:{display:"flex"},position:"absolute",top:"0",left:"0",bottom:"0",right:"0",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"rgba(247, 249, 250, 0.9)",children:[(0,T.tZ)(te.z,{isLoading:d,onClick:()=>{d||(u(!0),r(e))},marginBottom:2,children:"Use template"}),(0,T.tZ)(te.z,{isLoading:p,variant:"outline",colorScheme:"gray",onClick:()=>{p||(g(!0),t(e))},children:"View or edit"})]})]})},Ie=({loading:e,isPrivateProject:t,onClose:r,workspaceTemplates:n,deepnoteTemplates:o,onNewTemplateRequest:i,onViewTemplateRequest:a,onUseTemplateRequest:l,onUseGlobalTemplateRequest:s})=>{const[d,u]=(0,c.useState)(!1);return(0,T.tZ)(ce.Z,{title:"New"+(t?" private ":" ")+"project from a template",size:"4xl",onClose:r,children:(0,T.BX)(ae.f,{withoutFooter:!0,children:[(0,T.BX)(z.xu,{children:[e||0!==n.length?(0,T.BX)(J.k,{children:[(0,T.tZ)(Q.x,{as:"h2",fontSize:"sm",color:"gray.700",fontWeight:400,marginBottom:2,marginTop:2,children:"Workspace templates"}),(0,T.tZ)(ee.L,{}),(0,T.tZ)(te.z,{isLoading:d,size:"xxs",onClick:()=>{d||(u(!0),i())},leftIcon:(0,T.tZ)(re.J,{as:O.dtP,boxSize:3}),children:"New template"})]}):(0,T.tZ)(se,{onNewTemplateRequest:i}),e&&0===n.length&&(0,T.tZ)(ne.r,{gridTemplateColumns:"repeat(3, 1fr)",marginY:2,gridGap:6,children:[1,2,3].map((e=>(0,T.tZ)(fe,{},e)))}),n.length>0&&(0,T.tZ)(ne.r,{gridTemplateColumns:"repeat(3, 1fr)",marginY:2,marginTop:6,gridGap:6,children:n.map((e=>(0,T.tZ)(oe.P,{children:(0,T.tZ)(be,{template:e,onViewRequest:a,onUseRequest:l},e.id)},e.id)))})]}),o.length>0&&(0,T.tZ)(ie.i,{marginY:8}),(0,T.BX)(z.xu,{children:[o.length>0&&(0,T.tZ)(Q.x,{as:"h2",fontSize:"sm",color:"gray.700",fontWeight:400,marginBottom:2,children:"Deepnote Templates"}),(0,T.tZ)(ne.r,{gridTemplateColumns:"repeat(3, 1fr)",marginY:2,marginTop:6,gridGap:6,children:e&&0===o.length?[1,2,3].map((e=>(0,T.tZ)(fe,{},e))):o.map((e=>{var t,r;return(0,T.tZ)(oe.P,{children:(0,T.tZ)(ge,{description:null!==(t=e.description)&&void 0!==t?t:"",image:null!==(r=e.thumbnail)&&void 0!==r?r:"/static/project-templates/blank-project.png",name:e.name,onUseRequest:()=>s(e)})},e.id)}))})]})]})})},ve=({teamId:e,isPrivateProject:t,categoryId:r,source:o,onDeleteProjectListCacheRequest:i,onCreatingProjectChange:a,onClose:l})=>{const{deepnoteTemplates:s,workspaceTemplates:d,loading:p}=function(e){var t;const{data:r,loading:n}=(0,Y.a)(K,{variables:{teamId:e},fetchPolicy:"cache-and-network"}),o=(0,c.useMemo)((()=>{var e;return(0,X.AP)(null!==(e=null==r?void 0:r.templateProjects)&&void 0!==e?e:[],parseInt("Profile"===(null==r?void 0:r.me.__typename)?r.me.id:"user",16))}),[r]),i="Team"===(null==r||null===(t=r.team)||void 0===t?void 0:t.__typename)?r.team.templateProjects:[];return{loading:n&&!r,data:r,workspaceTemplates:i,deepnoteTemplates:o}}(e),g=(0,u.k6)(),{commonApi:m}=(0,_.WG)(),f=(0,c.useCallback)((async()=>{const{projectSlug:a}=await m.createNewProject(e,{isPrivateTeamProject:t,categoryId:r,source:o,isTemplate:!0});i({teamId:e}),g.push((0,$.X)(n._.workspaceProject,a)),null==l||l()}),[r,m,g,l,i,t,o,e]),h=(0,c.useCallback)((async e=>{g.push((0,$.X)(n._.workspaceProject,e.slug)),l()}),[g,l]),y=(0,c.useCallback)((async c=>{try{null==a||a(!0);const{projectSlug:s}=await m.createNewProject(e,{isPrivateTeamProject:t,categoryId:null!=r?r:null,template:c.name,templateId:c.id,source:o});i({teamId:e}),g.push((0,$.X)(n._.workspaceProject,s)),null==l||l()}finally{null==a||a(!1)}}),[r,m,g,l,a,i,t,o,e]),b=(0,c.useCallback)((async c=>{try{null==a||a(!0);const{projectSlug:s}=await m.createNewProject(e,{isPrivateTeamProject:t,template:c.name,categoryId:null!=r?r:null,source:o});i({teamId:e}),g.push((0,$.X)(n._.workspaceProject,s)),null==l||l()}finally{null==a||a(!1)}null==l||l()}),[r,m,g,l,a,i,t,o,e]);return(0,T.tZ)(Ie,{loading:p,isPrivateProject:t,onNewTemplateRequest:f,onViewTemplateRequest:h,onUseTemplateRequest:y,onUseGlobalTemplateRequest:b,workspaceTemplates:d,deepnoteTemplates:s,onClose:l})};var Oe=r(2858),Ee=r(44539),we=r(85686),Ae=r(39174),Pe=r(96645),_e=r(98244),Te=r(65736),Se=r(63376),Ce=r(79472),je=r(92516),ke=r(5056),Ne=r(93660),Re=r(87093),De=r(87340),Ze=r(25960);const Me=({workspaceId:e})=>{var t,r,n;const{profilesApi:o}=(0,Ze.mM)(),[i,a]=(0,c.useState)(),[l,{error:s}]=(0,Ee.D)(Ne.pR),{data:d,error:u,loading:p}=(0,Y.a)(Ne.Yb,{variables:{workspaceId:e}});if("TeamUnauthorized"===(null==d||null===(t=d.team)||void 0===t?void 0:t.__typename))return(0,T.tZ)(Se.b,{m:3,status:"error",children:"Unathorized, unable to display billing alerts."});const g=null!==(r=null==d||null===(n=d.team)||void 0===n?void 0:n.billingAlertThreshold)&&void 0!==r?r:0,m=!!i,f=async t=>{try{await l({variables:{workspaceId:e,amount:t}})}catch(e){return void De.Z.error({message:"Failed to set billing alert"})}De.Z.success({message:t>0?`Billing alert set to $${i}.`:"Billing alert was disabled."}),o.closeModal()};return(0,T.BX)(ce.Z,{title:"Billing alerts",onClose:o.closeModal,children:[(0,T.BX)(ae.f,{children:[u&&(0,T.tZ)(Se.b,{status:"error",children:(0,T.tZ)(ke.M,{error:u,defaultMessage:"We couldn't fetch billing alert settings."})}),s&&(0,T.tZ)(Se.b,{status:"error",children:(0,T.tZ)(ke.M,{error:s,defaultMessage:"We couldn't update billing alert settings."})}),!u&&(0,T.BX)(Re.Z,{isLoading:p,children:[(0,T.BX)(we.NI,{marginBottom:4,children:[(0,T.tZ)(Ae.l,{children:"Alert amount"}),(0,T.BX)(Pe.B,{children:[(0,T.tZ)(_e.Ui,{children:"$"}),(0,T.BX)(Te.Y2,{value:String(null!=i?i:g),min:0,onChange:e=>{a(e?parseInt(e,10):0)},children:[(0,T.tZ)(Te.zu,{borderTopLeftRadius:0,borderBottomLeftRadius:0}),(0,T.BX)(Te.Fi,{children:[(0,T.tZ)(Te.WQ,{}),(0,T.tZ)(Te.Y_,{})]})]})]})]}),(0,T.BX)(Ce.i,{children:["If your pay-as-you-go machine usage exceeds ",(0,T.BX)("b",{children:["$",null!=i?i:g]})," in one calendar month, we will send an email to all workspace admins."]})]})]}),(0,T.BX)(je.m,{children:[(0,T.tZ)(te.z,{variant:"outline",colorScheme:"gray",isDisabled:0===g,onClick:()=>f(0),children:"Disable alert"}),(0,T.tZ)(te.z,{isDisabled:!i||!m,onClick:()=>f(null!=i?i:0),children:"Update alert"})]})]})};var xe=r(36599),Le=r(49512),Be=r(85110),Ue=r.n(Be),Ge=r(51438),He=r(65100),We=r(50464);const Xe={projects:[]},qe=V.Ps`
  ${We.i}
  query SearchProjects($teamId: String!, $searchQuery: String, $orderBy: String, $limit: Int) {
    me {
      __typename
      ... on AnonymousProfile {
        id
      }
      ... on Profile {
        id
      }
    }
    team(id: $teamId) {
      __typename
      ... on Team {
        id
        slug
        projects(searchQuery: $searchQuery, orderBy: $orderBy, limit: $limit) {
          ...ProjectListProject
        }
      }
    }
  }
`;var Fe=r(26288),$e=r(84156),Ve=r.n($e),Ye=r(20581),Ke=r(23451),ze=r(76486);const Je=(0,c.memo)((function({sections:e,selectedProject:t,searchQuery:r,projectsError:n,projectsLoading:o,onSearchQueryChanged:i}){const{isOpen:a,onOpen:l,onClose:s}=(0,Ye.q)(),[d]=(0,Ke.a)(["(min-height: 800px)"]),u=(0,c.useCallback)((e=>{e?l():s()}),[s,l]),p=null===r&&o;return(0,T.BX)(T.HY,{children:[(0,T.tZ)(ze.L,{sections:e,visible:a,loading:o,searchPlaceholder:"Search projects",onVisibilityChanged:u,width:"300px",maxHeight:d?"290px":"240px",placement:"bottom-start",isSearchable:!0,searchQuery:null!=r?r:"",onSearchQueryChanged:i,children:(0,T.tZ)(te.z,{"data-cy":pe.vat,"data-testid":pe.vat,isLoading:p,colorScheme:"gray",justifyContent:p?"center":"space-between",variant:"outline",color:t?"gray.800":"gray.500",fontWeight:400,marginTop:4,width:"100%",rightIcon:(0,T.tZ)(v.J,{as:a?O.UAF:O.XKS,boxSize:4,color:"gray.600"}),children:(0,T.tZ)(Q.x,{noOfLines:1,children:t?t.name:"Pick a project"})})}),n&&(0,T.tZ)(Se.b,{status:"error",mt:4,children:(0,T.tZ)(ke.M,{error:n,defaultMessage:"We couldn't fetch projects."})})]})})),Qe=(0,c.memo)((function({connecting:e,integrationName:t,projectSections:r,selectedProject:n,projectsError:o,projectsLoading:i,searchQuery:a,onSearchQueryChanged:c,onConnectRequest:l,onCloseModalRequest:s,onSkipRequest:d}){return(0,T.tZ)(Ve(),{active:!0,focusTrapOptions:{allowOutsideClick:!0,clickOutsideDeactivates:!0,initialFocus:!1},children:(0,T.BX)(ce.Z,{title:"Integration created",onClose:s,children:[(0,T.tZ)(ae.f,{children:(0,T.BX)(J.k,{flexDirection:"column",children:[(0,T.BX)(Ce.i,{mb:2,children:["You're all set with",(0,T.tZ)(Q.x,{as:"span",fontWeight:600,maxWidth:"220px",children:t}),"."]}),(0,T.tZ)(Ce.i,{my:2,children:"Would you like to connect it to a project right away?"}),(0,T.tZ)(Je,{sections:r,selectedProject:n,projectsError:o,projectsLoading:i,searchQuery:a,onSearchQueryChanged:c})]})}),(0,T.BX)(je.m,{children:[(0,T.tZ)(te.z,{"data-testid":"button-skip",type:"button",variant:"ghost",colorScheme:"gray",onClick:d,children:"Skip"}),(0,T.tZ)(te.z,{"data-testid":"button-submit",type:"submit",isDisabled:!n,isLoading:e,onClick:l,children:"create-new-project"===(null==n?void 0:n.id)?"Connect to new project":"Connect to project"})]})]})})}));function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const nt=(0,c.memo)((function({icon:e,fontWeight:t,path:r,title:n,boxProps:o,onSelect:i}){return(0,T.BX)(J.k,tt(tt({cursor:"pointer",onClick:i,alignItems:"center",height:"48px",paddingLeft:2,paddingY:.5},o),{},{children:[e&&(0,T.tZ)(v.J,{as:e,color:"gray.500",mr:2,boxSize:4}),(0,T.BX)(J.k,{flexDirection:"column",children:[(0,T.tZ)(Q.x,{color:"gray.800",fontWeight:null!=t?t:400,fontSize:"xs",noOfLines:1,maxWidth:"220px",children:n}),r&&(0,T.BX)(Q.x,{fontSize:"xxs",color:"gray.600",noOfLines:1,children:["in",r]})]})]}))}));const ot=(0,c.memo)((function({hasProjectLimitBeenHit:e,integration:t,workspaceId:r}){const o=(0,u.k6)(),i=(0,He.d)(),{profilesApi:a}=(0,Ze.mM)(),{integrationApi:l}=(0,Le.h_)(),{commonApi:s}=(0,_.WG)(),[d,p]=(0,c.useState)(!1),[g,m]=(0,c.useState)(null),[f,h]=(0,c.useState)(null),[y,b]=(0,c.useState)(""),{data:{name:I}}=(0,Fe.z)(r),{data:{projects:v},loading:E,error:A}=function(e){var t,r,n,o,i,a,c;const{data:l,loading:s,error:d=null}=(0,Y.a)(qe,{variables:{teamId:e.workspaceId,searchQuery:null!==(t=e.searchQuery)&&void 0!==t?t:null,orderBy:null!==(r=e.orderBy)&&void 0!==r?r:null,limit:null!==(n=e.limit)&&void 0!==n?n:null},fetchPolicy:"cache-and-network",skip:e.skip});return{data:{team:{slug:"Team"===(null==l||null===(o=l.team)||void 0===o?void 0:o.__typename)?l.team.slug:""},userId:null!==(i=null==l||null===(a=l.me)||void 0===a?void 0:a.id)&&void 0!==i?i:null,projects:"Team"===(null==l||null===(c=l.team)||void 0===c?void 0:c.__typename)?l.team.projects:Xe.projects},loading:s,error:d}}({workspaceId:r,limit:30,searchQuery:y}),P=(0,c.useCallback)((()=>{a.closeModal()}),[a]),S=(0,c.useCallback)((()=>{P()}),[P]),C=(0,c.useCallback)((async e=>{(0,w.j)("Integration connection initiated",{trigger:"connect-integration-modal",source:"connect-integration-modal",type:t.type,workspaceId:r,projectId:e});(await l.connectIntegration(t.id)).ok||De.Z.error({message:"Failed to connect integration. Please, try again."}),p(!1),a.closeModal(),o.push((0,$.X)(n._.workspaceProject,e))}),[t.type,t.id,r,l,a,o]),j=(0,c.useCallback)((()=>{i((e=>(0,T.tZ)(Ge.I,{workspaceId:r,type:"project-limit",onModalClose:e})))}),[i,r]),k=(0,c.useMemo)((()=>Ue()(b,300)),[]),N=(0,c.useCallback)((e=>{h(e),k(e)}),[k]),R=(0,c.useCallback)((async()=>{if(g)if("create-new-project"!==g.id)p(!0),await C(g.id);else{if(e)return void j();p(!0);const{projectId:t}=await s.createNewProject(r,{source:"new_integration"});await C(t)}}),[g,C,e,s,r,j]),D=(0,c.useMemo)((()=>function(e){const t=()=>{e.setSelectedProject({id:"create-new-project",name:"Create a new project"})},r={title:"Create new project",isDisabled:!1,element:(0,T.tZ)(nt,{title:"Create new project",icon:O.Oh7,fontWeight:500,boxProps:{height:8,mb:2},onSelect:t}),onSelect:t};if(e.projectsError||!e.projects)return[{divider:!1,items:[r]}];const n=e.projects.map((t=>{const r=()=>{e.setSelectedProject({id:t.id,name:t.name})},n=t.breadcrumbs.map((e=>e.name)),o=(e.workspaceName?[e.workspaceName,...n]:n).join("/");return{title:t.name,isDisabled:!1,element:(0,T.tZ)(nt,{path:o,title:t.name,onSelect:r}),onSelect:r}})),o={divider:!1,items:[r]},i={divider:n.length>0,items:n};return e.debouncedSearchQuery?[i]:[o,i]}({projects:v,debouncedSearchQuery:y,projectsError:A,workspaceName:I,setSelectedProject:m})),[y,A,v,I]);return(0,T.tZ)(Qe,{connecting:d,integrationName:t.name,projectSections:D,selectedProject:g,projectsError:A,projectsLoading:E,type:t.type,searchQuery:f,onSearchQueryChanged:N,onConnectRequest:R,onCloseModalRequest:P,onSkipRequest:S})}));function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e){return(0,T.tZ)(Le.gs,{children:(0,T.tZ)(xe.X,{limit:"LIMIT_WORKSPACE_PROJECTS",children:({hasLimitBeenHit:t})=>(0,T.tZ)(ot,at(at({},e),{},{hasProjectLimitBeenHit:t}))})})}var st=r(37936),dt=r(27214),ut=r(58491),pt=r(60746),gt=r(88361);var mt=r(18415);const ft=["data"];function ht(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vt=V.Ps`
  mutation testIntegrationConnection($type: String!, $metadata: JSONObject!, $workspaceId: String!) {
    testIntegrationConnection(type: $type, metadata: $metadata, workspaceId: $workspaceId) {
      __typename
      ... on FailedConnectionTestResponse {
        message
      }
    }
  }
`;function Ot(e){return"FailedConnectionTestResponse"===e.__typename?{status:"fail",message:e.message}:{status:"success"}}var Et=r(93851),wt=r(93081),At=r(44906),Pt=r(57103),_t=r(99666),Tt=r(60809),St=r(7351),Ct=r(96057);const jt=e=>{const t=(0,gt.pt)();return(0,T.tZ)(te.z,{colorScheme:"red",variant:"outline",marginRight:3,onClick:()=>{t({title:"Revoke access to Google Drive?",content:"Integrations using this Drive will be also deleted.",confirmText:"Revoke access",confirmColorScheme:"red",onConfirm:e.revoke})},"data-cy":pe.cab,children:"Revoke access"})},kt=["children"];function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){Dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Mt(e){const{children:t}=e,r=Zt(e,kt);return(0,T.tZ)(Q.x,Rt(Rt({fontWeight:600,fontSize:"xxs",textTransform:"uppercase"},r),{},{children:t}))}const xt=({workspaceId:e,onModalClose:t})=>{const r=(0,u.k6)(),o=(0,c.useCallback)((()=>{(0,w.j)("Integration modal invite link clicked",{workspaceId:e}),r.push((0,$.X)(n._.workspaceSettingsMembers)),t()}),[r,t,e]);return(0,T.BX)(Pt.K,{spacing:2,children:[(0,T.tZ)(Mt,{children:"Don't have integration credentials?"}),(0,T.BX)(Q.x,{children:[(0,T.tZ)(b.r,{onClick:o,fontSize:"xs",href:"#",tabIndex:-1,children:"Invite a team member who does."})," ","Make sure to give them Admin permissions."]})]})};var Lt=r(47498),Bt=r(84998);const Ut=(0,c.memo)((function({planVersion:e,type:t}){return(0,T.tZ)(z.xu,{children:(0,T.BX)(de.g,{alignItems:"flex-start",spacing:2,children:[(0,T.tZ)(Mt,{children:"Allow list"}),(0,T.BX)(Q.x,{fontSize:"xs",children:["To enable Deepnote to connect to your data source, please ensure that you are on a"," ",(0,T.BX)(b.r,{tabIndex:-1,href:n._.docsPage("authorize-deepnote-ip-addresses"),isExternal:!0,children:[(0,Bt.Nt)({name:a.yh.PRO,version:e})," or"," ",(0,Bt.Nt)({name:a.yh.ENTERPRISE,version:e})," plan"]})," ","and your firewall accepts incoming requests from the following IP addresses:"]}),(0,T.BX)(J.k,{width:"100%",flexDirection:"column",paddingY:3,paddingX:4,background:"gray.100",border:"1px solid",borderColor:"gray.300",borderRadius:"3px",fontFamily:"mono",fontSize:"xs",color:"black",children:[(0,T.tZ)(Q.x,{as:"span",children:"3.220.159.34"}),(0,T.tZ)(Q.x,{as:"span",children:"34.236.123.2"}),(0,T.tZ)(Q.x,{as:"span",children:"52.5.148.98"}),(0,T.tZ)(Q.x,{as:"span",children:"3.230.134.18"}),(0,T.tZ)(Q.x,{as:"span",children:"3.209.101.227"})]}),"sql-server"===t?(0,T.tZ)(Q.x,{children:"If available, we will attempt to encrypt the connection between Deepnote and your integrations by SSL (TLS)."}):(0,T.tZ)(Q.x,{children:"Connections between Deepnote and your data source are encrypted by SSL (TLS)."})]})})})),Gt=(0,c.memo)((function({type:e,workspaceId:t}){const{data:r,loading:n}=(0,Lt.m)(t);return n?null:(0,T.tZ)(Ut,{planVersion:r.version,type:e})})),Ht=({type:e})=>(0,T.BX)(de.g,{alignItems:"flex-start",spacing:2,children:[(0,T.tZ)(Mt,{children:st.kM[e].modalDescriptionTitle}),(0,T.tZ)(Q.x,{fontSize:"xs",children:st.kM[e].modalDescription})]});var Wt=r(28630);const Xt=({type:e})=>(0,T.tZ)(z.xu,{children:(0,T.BX)(de.g,{alignItems:"flex-start",spacing:2,children:[(0,T.tZ)(Mt,{children:"Resources"}),(0,T.tZ)(b.r,{fontSize:"xs",href:st.kM[e].docsLink,isExternal:!0,tabIndex:-1,children:Wt.QW[e].howToTitle}),st.kM[e].secondDocsLink&&Wt.QW[e].secondHowToTitle&&(0,T.tZ)(b.r,{fontSize:"xs",href:st.kM[e].secondDocsLink,isExternal:!0,tabIndex:-1,children:Wt.QW[e].secondHowToTitle}),(0,T.tZ)(b.r,{fontSize:"xs",href:"https://deepnote.com/security",isExternal:!0,tabIndex:-1,children:"Credentials are encrypted & securely stored"}),(0,T.tZ)(b.r,{fontSize:"xs",href:"https://deepnote.com/privacy",isExternal:!0,tabIndex:-1,children:"More details about our privacy policy"})]})}),qt=["github_package"],Ft=["pgsql","mysql","mindsdb","redshift","mongodb","clickhouse","snowflake","dbt","big-query","sql-server"],$t=["pgsql","mysql","mindsdb","redshift","mongodb","clickhouse","snowflake","dbt","s3","gcr","athena","big-query","gcs","ecr","dockerhub","sql-server"],Vt=({type:e,workspaceId:t,onModalClose:r})=>(0,T.BX)(Pt.K,{spacing:6,width:"320px",padding:4,background:"gray.50",borderRadius:"6px",children:[qt.includes(e)&&(0,T.tZ)(Ht,{type:e}),Ft.includes(e)&&(0,T.tZ)(Gt,{type:e,workspaceId:t}),(0,T.tZ)(Xt,{type:e}),$t.includes(e)&&(0,T.tZ)(xt,{onModalClose:r,workspaceId:t})]});var Yt=r(95001),Kt=r(37139),zt=r(5244),Jt=r(46330);const Qt=["placeholder","value","onChange"];function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const or=(0,zt.G)(((e,t)=>{let{placeholder:r="Password",value:n,onChange:o}=e,i=nr(e,Qt);const[a,l]=(0,c.useState)(!1);return(0,T.tZ)(J.k,{children:(0,T.BX)(Pe.B,{children:[(0,T.tZ)(Kt.I,tr({type:a?"text":"password",placeholder:r,value:n,onChange:o,ref:t},i)),(0,T.tZ)(Jt.x,{color:"gray.500",cursor:"pointer",_hover:{color:"gray.950"},onClick:()=>l(!a),children:(0,T.tZ)(v.J,{as:a?O.q$h:O.C1S,boxSize:4})})]})})}));or.displayName="PasswordInput";var ir=r(7446);function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const sr=({placeholder:e})=>{const{register:t}=(0,dt.Gc)();return(0,T.tZ)(ir.H,{name:"name",label:"Integration name",children:(0,T.tZ)(Kt.I,cr({"data-cy":pe.jDG,placeholder:e},t("name",{required:"Integration name is required",validate:e=>!(0,X.rB)(e).match(/^_+$/)||"Invalid integration name"})))})};function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const gr=()=>{const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Production log analytics"}),(0,T.BX)(ir.H,{name:"region",label:"AWS Region",children:[(0,T.BX)(we.Q6,{children:["Learn more about available AWS regions"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://docs.aws.amazon.com/general/latest/gr/athena.html",children:"here"})]}),(0,T.tZ)(Kt.I,ur({placeholder:"us-east-2","data-cy":pe.ngW},e("region",{required:"Region is required"})))]}),(0,T.BX)(ir.H,{name:"s3_output_path",label:"S3 Location",children:[(0,T.tZ)(we.Q6,{children:"The S3 bucket location used to store Amazon Athena query results."}),(0,T.tZ)(Kt.I,ur({placeholder:"s3://bucket-name/output-directory","data-cy":pe.Y06},e("s3_output_path",{required:"S3 Location is required"})))]}),(0,T.BX)(ir.H,{name:"access_key_id",label:"Access key ID",children:[(0,T.BX)(we.Q6,{children:["Learn more about AWS access keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://aws.amazon.com/premiumsupport/knowledge-center/create-access-key/",children:"here"})]}),(0,T.tZ)(Kt.I,ur({placeholder:"AYMJRBVZOC1DO5L4R38Q","data-cy":pe.MMI},e("access_key_id",{required:"Access key ID is required"})))]}),(0,T.BX)(ir.H,{name:"secret_access_key",label:"Secret key",children:[(0,T.tZ)(we.Q6,{children:"The secret associated with the access key ID entered above."}),(0,T.tZ)(or,ur({placeholder:"65EzI2Hr15GJa5YGSKw2MlLZGTPPwkq4h0nUXG2o","data-cy":pe.JZd},e("secret_access_key",{required:"Secret key is required"})))]})]})};var mr=r(79319),fr=r(69682),hr=r(8993),yr=r(88879),br=r(40424);function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Er=(0,zt.G)((function(e,t){return(0,T.BX)(J.k,vr(vr({ref:t,role:"menuitem",height:8,paddingX:4,alignItems:"center",justifyContent:"space-between",background:e.isSelected?"gray.100":"white",_hover:{bg:"gray.100",cursor:"pointer"}},e),{},{children:[(0,T.tZ)(Q.x,{fontSize:"xs",color:"gray.800",noOfLines:1,children:e.label}),e.requiredPlan&&(0,T.tZ)(br.Vp,{borderRadius:"full",variant:"subtle",size:"xs",children:e.requiredPlan})]}))})),wr=({innerRef:e,children:t,footerElement:r})=>(0,T.BX)(z.xu,{ref:e,border:"1px solid",borderColor:"gray.200",borderRadius:"4px",paddingY:2,overflowX:"hidden",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)",children:[t,r&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ie.i,{marginTop:2}),(0,T.tZ)(T.HY,{children:r})]})]}),Ar=["menuFooterElement"];function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Cr=(0,c.memo)((function(e){const{menuFooterElement:t}=e,r=Sr(e,Ar);return(0,T.tZ)(yr.Z,_r({size:"xs",autoWidth:!0,isSearchable:!1,closeMenuOnSelect:!0,components:{Option:e=>(0,T.tZ)(Er,_r({isSelected:e.isFocused||e.isSelected,label:e.label,requiredPlan:e.data.requiredPlan},e.innerProps)),MenuList:({innerRef:e,children:r})=>(0,T.tZ)(wr,{innerRef:e,footerElement:t,children:r})},styles:{menu:e=>_r(_r({},e),{},{width:"256px",boxShadow:"none"}),container:e=>_r(_r({},e),{},{cursor:"pointer"})}},r))}));function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Rr=(0,c.memo)((function({value:e,menuFooterElement:t,authOptions:r,workspaceId:n,onModalClose:o}){var i;const{data:a,loading:l}=(0,Lt.m)(n),{canUseFeature:s,options:d}=(0,fr.E)("INTEGRATION_FEDERATED_AUTH"),u=(0,He.d)(),{setValue:p,register:g}=(0,dt.Gc)(),m=(0,c.useMemo)((()=>{const e=null!=d&&d.minimumRequiredPlan?(0,Bt.Nt)({name:d.minimumRequiredPlan,version:a.version}):null;return r.map((t=>kr(kr({},t),{},{requiredPlan:!s&&t.isOptionFeatureGated?e:null})))}),[r,s,d.minimumRequiredPlan,a.version]),f=(0,c.useCallback)((()=>{u((e=>(0,T.tZ)(hr.I,{workspaceId:n,type:"integration-federated-auth",onModalClose:t=>{"view_plans"===t&&o(),e()}})))}),[o,u,n]),h=(0,c.useCallback)((e=>{if(e)return e.requiredPlan?f():void p("authMethod",e.value)}),[f,p]);return l?null:(0,T.tZ)(Cr,kr(kr({},g("authMethod",{value:e})),{},{options:m,menuFooterElement:t,value:null!==(i=m.find((t=>t.value===e)))&&void 0!==i?i:m[0],onChange:h}))})),Dr=[{value:st.rw.SERVICE_ACCOUNT,label:"Service Account",isOptionFeatureGated:!1},{value:st.rw.GOOGLE_OAUTH,label:st.zH[st.rw.GOOGLE_OAUTH],isOptionFeatureGated:!0}],Zr=(0,c.memo)((function({value:e,workspaceId:t,onModalClose:r}){return(0,T.tZ)(Rr,{menuFooterElement:(0,T.BX)(Q.x,{padding:4,paddingBottom:2,fontSize:"xs",color:"gray.800",children:["Learn more about"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://deepnote.com/docs/google-bigquery",children:"OAuth access providers"}),"."]}),value:e,authOptions:Dr,workspaceId:t,onModalClose:r})}));function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){Lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br({workspaceId:e,onModalClose:t}){var r;const{register:n,watch:o}=(0,dt.Gc)(),i=null!==(r=o("authMethod"))&&void 0!==r?r:st.rw.SERVICE_ACCOUNT;return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Sales and marketing analytics"}),(0,T.tZ)(ir.H,{name:"authMethod",label:"Authentication",children:(0,T.tZ)(Zr,{value:i,workspaceId:e,onModalClose:t})}),i===st.rw.SERVICE_ACCOUNT&&(0,T.BX)(ir.H,{name:"service_account",label:"Service account JSON",children:[(0,T.BX)(we.Q6,{children:["Learn more about GCP service account keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys",children:"here."})]}),(0,T.tZ)(mr.g,xr({minHeight:"230px",marginTop:2,marginBottom:4,placeholder:P.Iy},n("service_account",{required:"Service account JSON is required"})))]}),i===st.rw.GOOGLE_OAUTH&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"clientId",label:"Client ID",children:(0,T.tZ)(Kt.I,xr({placeholder:"","data-cy":pe.bMj},n("clientId",{required:"Client ID is required"})))}),(0,T.tZ)(ir.H,{name:"clientSecret",label:"Client Secret",children:(0,T.tZ)(or,xr({"data-cy":pe.pWR,placeholder:"********"},n("clientSecret",{required:"Client Secret is required"})))}),(0,T.tZ)(ir.H,{name:"project",label:"Google Project ID",children:(0,T.tZ)(Kt.I,xr({"data-cy":pe.S$_,placeholder:""},n("project",{required:"Google Project ID is required"})))})]})]})}function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wr(){const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"Google Cloud SQL"}),(0,T.BX)(ir.H,{name:"service_account",label:"Service account JSON",children:[(0,T.BX)(we.Q6,{children:["Learn more about GCP service account keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys",children:"here."})]}),(0,T.tZ)(mr.g,Gr({minHeight:"230px",marginTop:2,marginBottom:4,placeholder:P.Iy},e("service_account",{required:"Service account JSON is required"})))]})]})}function Xr({children:e,label:t}){return(0,T.BX)(z.xu,{children:[(0,T.tZ)(Mt,{pb:4,pt:2,children:t}),e]})}var qr=r(99351);const Fr=V.Ps`
  query GetPublicSSHKey($workspaceId: String!) {
    team(id: $workspaceId) {
      ... on Team {
        id
        sshPublicKey
      }
    }
  }
`;var $r=r(49478),Vr=r(32797);function Yr(e){const{sshKey:t,isInvalid:r=!1}=e;return(0,T.tZ)(we.NI,{isInvalid:r,children:(0,T.BX)(Pt.K,{spacing:2,children:[(0,T.tZ)(Ae.l,{marginBottom:0,lineHeight:1.6,color:"gray.800",children:"Workspace SSH key"}),(0,T.tZ)(Vr.C,{copyMessage:"The workspace's public SSH key was copied to the clipboard",placeholder:"Workspace key will appear here",type:"password",value:t}),(0,T.tZ)($r.J1,{children:"A problem occurred when generating the SSH key. Please try again or contact our support."}),(0,T.BX)(we.Q6,{children:["SSH key is shared by all integrations in the workspace."," ",(0,T.tZ)(b.r,{isExternal:!0,href:n._.docsPage("using-ssh-to-connect-to-your-data")+"#workspace-ssh-key",children:"Learn more"})]})]})})}function Kr(e){const{sshKey:t,error:r}=function(e){var t,r;const{data:n,error:o}=(0,Y.a)(Fr,{variables:{workspaceId:e}});return{sshKey:"Team"===(null==n||null===(t=n.team)||void 0===t?void 0:t.__typename)&&null!==(r=n.team.sshPublicKey)&&void 0!==r?r:"",error:o}}(e.workspaceId);return(0,T.tZ)(Yr,{sshKey:t,isInvalid:Boolean(r)})}function zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(r),!0).forEach((function(t){Qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const en=(0,c.memo)((function(e){const{register:t,sshEnabled:r,placeholders:o}=e;return(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"sshEnabled",label:"Use SSH",children:(0,T.BX)(At.U,{children:[(0,T.tZ)(qr.r,Jr({"data-cy":pe.bm$},t("sshEnabled",{}))),(0,T.BX)(Q.x,{margin:0,children:["Learn more about"," ",(0,T.tZ)(b.r,{isExternal:!0,href:n._.docsPage("securing-connections")+"#using-ssh-to-connect-to-your-data",children:"SSH connections"})]})]})}),r&&(0,T.BX)(T.HY,{children:[(0,T.BX)(ne.r,{gridTemplateColumns:"2fr 1fr",gridGap:4,children:[(0,T.tZ)(ir.H,{name:"sshHost",label:"SSH host",children:(0,T.tZ)(Kt.I,Jr({placeholder:o.sshHost,"data-cy":pe.ngM},t("sshHost",{required:"SSH Host is required"})))}),(0,T.tZ)(ir.H,{name:"sshPort",label:"SSH port",children:(0,T.tZ)(Kt.I,Jr({placeholder:o.sshPort,"data-cy":pe.nHd},t("sshPort",{required:"SSH Port is required"})))})]}),(0,T.tZ)(ir.H,{name:"sshUser",label:"User",children:(0,T.tZ)(Kt.I,Jr({placeholder:o.sshUser,"data-cy":pe.M7N},t("sshUser",{required:"SSH User is required"})))}),(0,T.tZ)(Kr,{workspaceId:e.workspaceId})]})]})})),tn=(0,c.memo)((function(e){const{watch:t,register:r}=(0,dt.Gc)(),n=t("sshEnabled");return(0,T.tZ)(en,{workspaceId:e.workspaceId,register:r,sshEnabled:n,placeholders:e.placeholders})}));function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){on(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function on(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const an=(0,c.memo)((function(e){const{sslEnabled:t,register:r,handleUploadFiles:o,caCertificateName:i,clearFileInput:a}=e,l=(0,c.useRef)(null);return(0,T.tZ)(Xr,{label:"Security",children:(0,T.BX)(ir.H,{name:"sslEnabled",label:"Enforce SSL encryption",children:[(0,T.BX)(At.U,{children:[(0,T.tZ)(qr.r,nn({"data-cy":pe.bm$},r("sslEnabled",{}))),(0,T.BX)(Q.x,{margin:0,children:["Always require integration to use"," ",(0,T.tZ)(b.r,{isExternal:!0,href:n._.docsPage("securing-connections")+"#encrypting-your-connections-with-ssl",children:"SSL encryption"})]})]}),t&&(0,T.BX)(z.xu,{paddingTop:3,children:[(0,T.BX)(ir.H,{name:"caCertificate",label:"SSL Certificate",optionalLabel:!0,children:[(0,T.tZ)(Kt.I,nn(nn({"data-cy":pe.bWh},r("caCertificateName",{required:!1})),{},{type:"text",hidden:!0})),(0,T.tZ)(Kt.I,nn(nn({"data-cy":pe.bWh},r("caCertificateText",{required:!1})),{},{type:"text",hidden:!0})),(0,T.tZ)(Kt.I,{onChange:o,type:"file",ref:l,hidden:!0}),(0,T.BX)(At.U,{gap:3,children:[(0,T.tZ)(te.z,{leftIcon:(0,T.tZ)(v.J,{as:O.QmL,color:"gray.500"}),onClick:()=>{var e;return null==l||null===(e=l.current)||void 0===e?void 0:e.click()},variant:"outline",colorScheme:"gray",children:"Upload server CA"}),(0,T.BX)(At.U,{gap:0,hidden:!i,children:[(0,T.tZ)(Q.x,{color:"gray.800",fontSize:"xs",noOfLines:1,maxWidth:"140px",children:i}),(0,T.tZ)(f.h,{height:5,width:5,size:"xxs","aria-label":"Clear certificate",icon:(0,T.tZ)(v.J,{as:O.Two}),onClick:a,variant:"ghost",colorScheme:"gray"})]})]})]}),(0,T.BX)(Q.x,{paddingTop:1,children:["Learn more about"," ",(0,T.tZ)(b.r,{isExternal:!0,href:n._.docsPage("securing-connections")+"#encrypting-your-connections-with-ssl",children:"CA certificate verification"})," ","in Deepnote"]})]})]})})})),cn=(0,c.memo)((function(e){const{workspaceId:t}=e,{register:r,watch:n,setValue:o}=(0,dt.Gc)(),i=n("sslEnabled"),a=n("caCertificateName");(0,c.useEffect)((()=>{!i&&a&&(o("caCertificateName",void 0),o("caCertificateText",void 0))}),[i,a,o]);return(0,T.tZ)(an,{register:r,handleUploadFiles:e=>{var t;const r=new FileReader,n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(o("caCertificateName",n.name),r.onload=async e=>{var t;const r=null==e||null===(t=e.target)||void 0===t?void 0:t.result;o("caCertificateText",null==r?void 0:r.toString())},r.readAsText(n))},sslEnabled:i,caCertificateName:a,workspaceId:t,clearFileInput:()=>{o("caCertificateName",void 0),o("caCertificateText",void 0)}})}));function ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(r),!0).forEach((function(t){dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const un=e=>{const{register:t}=(0,dt.Gc)(),r=st.wX.includes(e.type);return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:e.placeholders.name}),(0,T.BX)(ne.r,{gridTemplateColumns:"2fr 1fr",gridGap:4,children:[(0,T.tZ)(ir.H,{name:"host",label:"Host name",children:(0,T.tZ)(Kt.I,sn({"data-cy":pe.Thc,placeholder:e.placeholders.host},t("host",{required:"Hostname is required"})))}),(0,T.tZ)(ir.H,{name:"port",label:"Port",children:(0,T.tZ)(Kt.I,sn({"data-cy":pe.rBs,placeholder:e.placeholders.port},t("port",{required:"Port is required"})))})]}),(0,T.tZ)(Xr,{label:"Authentication",children:(0,T.tZ)(ir.H,{name:"user",label:"Username",children:(0,T.tZ)(Kt.I,sn({placeholder:e.placeholders.user,"data-cy":pe.jY7},t("user",{required:"Username is required"})))})}),(0,T.tZ)(ir.H,{name:"password",label:"Password",children:(0,T.tZ)(or,sn({placeholder:e.placeholders.password,"data-cy":pe.wLC},t("password",{required:"Password is required"})))}),(0,T.tZ)(ir.H,{name:"database",label:"Database",children:(0,T.tZ)(Kt.I,sn({placeholder:e.placeholders.database,"data-cy":pe.pC8},t("database",{required:"Database is required"})))}),r&&(0,T.tZ)(cn,{workspaceId:e.workspaceId}),(0,T.tZ)(tn,{workspaceId:e.workspaceId,placeholders:e.placeholders})]})};function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fn=e=>{const{register:t}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Revenue forecasts"}),(0,T.BX)(ne.r,{gridTemplateColumns:"2fr 1fr",gridGap:4,children:[(0,T.tZ)(ir.H,{name:"host",label:"Host name",children:(0,T.tZ)(Kt.I,gn({"data-cy":pe.YsU,placeholder:"data.dremio.cloud"},t("host",{required:"Hostname is required"})))}),(0,T.tZ)(ir.H,{name:"port",label:"Port",children:(0,T.tZ)(Kt.I,gn({"data-cy":pe.e$N,placeholder:"443"},t("port",{required:"Port is required"})))})]}),(0,T.tZ)(ir.H,{name:"schema",label:"Schema",optionalLabel:!0,children:(0,T.tZ)(Kt.I,gn({"data-cy":pe.Z$J,placeholder:"postgres.project"},t("schema")))}),(0,T.tZ)(ir.H,{name:"token",label:"Token",children:(0,T.tZ)(or,gn({"data-cy":pe.iFw,placeholder:"********"},t("token",{required:"Token is required"})))}),(0,T.tZ)(tn,{workspaceId:e.workspaceId,placeholders:{sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}})]})};function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){bn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const In=()=>{const{register:e,watch:t}=(0,dt.Gc)(),{fields:r,append:n,remove:o}=(0,dt.Dq)({name:"keyValuePairs"}),i=t("keyValuePairs",[]),a=r.map(((e,t)=>yn(yn({},e),i[t])));return(0,c.useEffect)((()=>{if(0===a.length||a.every((({key:e,value:t})=>e&&t)))return void n({key:"",value:""},{shouldFocus:!1});const e=[];a.forEach((({key:t,value:r},n)=>{t||r||e.push(n)})),e.length>1&&o(e[0])}),[a,n,o]),(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. CONNECTION_CREDENTIALS"}),a.map((({id:t},r)=>(0,T.BX)(At.U,{marginBottom:2,children:[(0,T.tZ)(ir.H,{label:"Key",name:`integration-env-var-key-input-${r}`,children:(0,T.tZ)(Kt.I,yn({flexGrow:1,"data-cy":`integration-env-var-key-input-${r}`,placeholder:"MY_SERVICE_NAME"},e(`keyValuePairs.${r}.key`)))}),(0,T.tZ)(ir.H,{label:"Value",name:`integration-env-var-value-input-${r}`,children:(0,T.tZ)(Kt.I,yn({flexGrow:1,"data-cy":`integration-env-var-value-input-${r}`,placeholder:"MY_SECRET_TOKEN"},e(`keyValuePairs.${r}.value`)))})]},t)))]})};function vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function En(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wn(){const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. my-application-logging-data"}),(0,T.tZ)(ir.H,{name:"bucket_name",label:"Bucket name",children:(0,T.tZ)(Kt.I,On({placeholder:"bucket.storage.googleapis.com"},e("bucket_name",{required:"Bucket name is required"})))}),(0,T.BX)(ir.H,{name:"service_account_key",label:"Service account JSON",optionalLabel:!0,children:[(0,T.BX)(we.Q6,{children:["Required if public access is blocked. Learn more about GCP service account keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys",children:"here"})]}),(0,T.tZ)(mr.g,On({height:"240px",resize:"none",placeholder:P.Iy},e("service_account_key",{required:"Service account JSON is required"})))]})]})}var An=r(77649),Pn=r(46606),_n=r(73825),Tn=r(38016);function Sn(e){return(0,T.tZ)(z.xu,{height:"300px",children:e.children})}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Nn=(0,c.memo)((function(e){var t;const{data:{role:r}}=(0,Fe.z)(e.workspaceId),{register:o,setValue:i,watch:a}=(0,dt.Gc)(),l=null!==(t=a("repositoryFullName"))&&void 0!==t?t:e.repositories[0].fullName,s=e.repositories.find((e=>e.fullName===l)),d=(0,c.useCallback)((e=>{i("owner",e.owner),i("repositoryName",e.name),i("repositoryFullName",e.fullName)}),[i]);return(0,c.useEffect)((()=>{i("name",null==s?void 0:s.name)}),[s,i]),(0,T.BX)(Sn,{children:[(0,T.BX)(ir.H,{name:"repository",label:"Repository",optionalLabel:!1,children:[(0,T.tZ)(Kt.I,jn({hidden:!0},o("owner",{value:null==s?void 0:s.owner}))),(0,T.tZ)(Kt.I,jn({hidden:!0},o("repositoryName",{value:null==s?void 0:s.name}))),(0,T.tZ)(Kt.I,jn({hidden:!0},o("repositoryFullName",{value:null==s?void 0:s.fullName}))),(0,T.tZ)(Tn.i,{repositories:e.repositories,selectedRepository:null!=s?s:e.repositories[0],teamRole:r,onAddRepositories:e.onAddRepositoriesRequest,onSelectRepository:d}),l&&!s?(0,T.BX)(we.Q6,{paddingBottom:4,color:"yellow.700",children:["We no longer have access to ",(0,T.tZ)("b",{children:l}),". Please select another repository."]}):(0,T.BX)(we.Q6,{paddingBottom:4,children:["Select a repository you want to use."," ",(0,T.tZ)(b.r,{isExternal:!0,href:`${n._.docsPage("github")}#troubleshooting`,children:"Don't see your repository?"})]})]}),(0,T.BX)(ir.H,{name:"branch",label:"Branch or commit hash",optionalLabel:!0,children:[(0,T.tZ)(Kt.I,jn({placeholder:"main"},o("branch"))),(0,T.tZ)(we.Q6,{children:"Specify branch or commit to import. Defaults to main."})]})]})})),Rn=(0,c.memo)((function(e){const{data:t,loadingGitHubData:r,loadingRepositories:n,failedLoadingRepositories:o,handleAddRepositoriesRequest:i}=(0,_n.Y)(e.workspaceId);return r?(0,T.tZ)(Sn,{children:(0,T.tZ)(Pn.p,{})}):0===t.gitHubRepositories.length?(0,T.tZ)(Sn,{children:(0,T.tZ)(An.e,{loading:n,requestFailed:o,onAddRepositoriesRequest:i})}):(0,T.tZ)(Nn,{repositories:t.gitHubRepositories,workspaceId:e.workspaceId,onAddRepositoriesRequest:i})}));function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xn=e=>{const{register:t}=(0,dt.Gc)(),{isDriveAuthorized:r,authFailedError:n,isLoaded:o,authorizeDriveAccess:i,checkDriveAuthorization:a,isNew:l}=e.googleDriveIntegrationContext,s=o&&r,d=o&&!r;return(0,c.useEffect)((()=>{a()}),[a]),(0,T.tZ)(Re.Z,{isLoading:!o,children:(0,T.BX)(de.g,{alignItems:"flex-start",children:[s&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. my-business-drive"}),(0,T.tZ)(ir.H,{name:"teamDriveId",label:"Team Drive ID",optionalLabel:!0,children:(0,T.tZ)(Kt.I,Zn({required:!1,placeholder:"team-drive-id"},t("teamDriveId",{required:!1})))})]}),d&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(J.k,{children:(0,T.tZ)(te.z,{onClick:i,"data-cy":pe.$T3,children:"Grant permission to Google Drive"})}),n&&(0,T.BX)(Se.b,{status:"error",children:["Authorization failed. Please try revoking your Google Drive access in your"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://support.google.com/accounts/answer/3466521?hl=en",target:"_blank",rel:"noopener noreferrer",children:"Google Account settings"})," ","and then try again."]}),!l&&(0,T.tZ)(Se.b,{status:"error",children:"Your Google Drive credentials have expired or have been revoked. Please authorize Google Drive again"})]})]})})};function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){Un(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Un(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Gn=()=>{const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. ML team environment"}),(0,T.tZ)(ir.H,{name:"server",label:"Host name",children:(0,T.tZ)(Kt.I,Bn({placeholder:"gcr.io, us.gcr.io, eu.gcr.io, or asia.gcr.io","data-cy":pe.JK3},e("server",{required:"Hostname is required"})))}),(0,T.BX)(ir.H,{name:"password",label:"Service account JSON",children:[(0,T.BX)(we.Q6,{children:["Learn more about GCP service account keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys",children:"here"})]}),(0,T.tZ)(mr.g,Bn({minHeight:"240px",placeholder:P.Iy},e("password",{required:"Service account JSON is required"})))]}),(0,T.tZ)(ir.H,{name:"username",hidden:!0,children:(0,T.tZ)(Kt.I,Bn({hidden:!0},e("username",{value:"_json_key"})))})]})},Hn=()=>{const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Data science team environment"}),(0,T.BX)(ir.H,{name:"awsRegion",label:"AWS Region",children:[(0,T.BX)(we.Q6,{children:["Learn more about available AWS regions"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://docs.aws.amazon.com/general/latest/gr/ecr.html",children:"here."})]}),(0,T.tZ)(Kt.I,Bn({placeholder:"us-east-2","data-cy":pe.EqE},e("awsRegion",{required:"Region is required"})))]}),(0,T.BX)(ir.H,{name:"awsAccountId",label:"Account ID",children:[(0,T.BX)(we.Q6,{children:["Learn more about finding your AWS account ID"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html",children:"here."})]}),(0,T.tZ)(Kt.I,Bn({placeholder:"123456789012","data-cy":pe.bXU},e("awsAccountId",{required:"Account ID is required",pattern:{value:/^\d*$/,message:"Account ID invalid"}})))]}),(0,T.BX)(ir.H,{name:"username",label:"Access key ID",children:[(0,T.BX)(we.Q6,{children:["Learn more about AWS access keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://aws.amazon.com/premiumsupport/knowledge-center/create-access-key/",children:"here."})]}),(0,T.tZ)(Kt.I,Bn({placeholder:"AYMJRBVZOC1DO5L4R38Q","data-cy":pe.iyK},e("username",{required:"Access key ID is required"})))]}),(0,T.BX)(ir.H,{name:"password",label:"Secret key",children:[(0,T.tZ)(we.Q6,{children:"The secret associated with the access key ID entered above."}),(0,T.tZ)(or,Bn({placeholder:"65EzI2Hr15GJa5YGSKw2MlLZGTPPwkq4h0nUXG2o","data-cy":pe.rPI},e("password",{required:"Secret key is required"})))]})]})},Wn=()=>{const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. People analytics environment"}),(0,T.tZ)(ir.H,{name:"username",label:"Username",children:(0,T.tZ)(Kt.I,Bn({placeholder:"my_docker_username","data-cy":pe.iyK},e("username",{required:"Username is required"})))}),(0,T.tZ)(ir.H,{name:"password",label:"Password",children:(0,T.tZ)(or,Bn({placeholder:"********","data-cy":pe.rPI},e("password",{required:"Password is required"})))})]})},Xn=e=>{switch(e.type){case"gcr":return(0,T.tZ)(Gn,{});case"ecr":return(0,T.tZ)(Hn,{});case"dockerhub":return(0,T.tZ)(Wn,{})}};function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){$n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Vn=e=>{const{register:t}=(0,dt.Gc)(),r=st.wX.includes(e.type);return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:e.placeholders.name}),(0,T.BX)(ne.r,{gridTemplateColumns:"2fr 1fr",gridGap:4,children:[(0,T.tZ)(ir.H,{name:"host",label:"Host name",children:(0,T.tZ)(Kt.I,Fn({"data-cy":pe.Thc,placeholder:e.placeholders.host},t("host",{required:"Hostname is required"})))}),(0,T.tZ)(ir.H,{name:"port",label:"Port",children:(0,T.tZ)(Kt.I,Fn({"data-cy":pe.rBs,placeholder:e.placeholders.port},t("port",{required:"Port is required"})))})]}),(0,T.tZ)(Xr,{label:"Authentication",children:(0,T.tZ)(ir.H,{name:"user",label:"Username",children:(0,T.tZ)(Kt.I,Fn({placeholder:e.placeholders.user,"data-cy":pe.jY7},t("user",{required:"Username is required"})))})}),(0,T.tZ)(ir.H,{name:"password",label:"Password",children:(0,T.tZ)(or,Fn({placeholder:e.placeholders.password,"data-cy":pe.wLC},t("password",{required:"Password is required"})))}),(0,T.tZ)(ir.H,{name:"database",label:"Database",children:(0,T.tZ)(Kt.I,Fn({placeholder:e.placeholders.database,"data-cy":pe.pC8},t("database",{required:"Database is required"})))}),(0,T.tZ)(ir.H,{name:"Cluster",label:"Cluster",children:(0,T.tZ)(Kt.I,Fn({"data-cy":pe.pC8,placeholder:e.placeholders.cluster},t("cluster",{required:"Cluster is required"})))}),r&&(0,T.tZ)(cn,{workspaceId:e.workspaceId}),(0,T.tZ)(tn,{workspaceId:e.workspaceId,placeholders:e.placeholders})]})};var Yn=r(12316),Kn=r(24756),zn=r(21420);const Jn=e=>{let t="",r="",n="",o="";var i,a;return e.user&&e.password&&(i=e.user,a=e.password,t=encodeURIComponent(i)+":"+encodeURIComponent(a)+"@"),e.port&&(r=":"+e.port),e.database&&(n="/"+e.database),e.options&&(o="?"+(e=>e.replace(/,|\n/g,"&").replace(/\s/g,""))(e.options)),e.prefix+t+e.host+r+n+o};function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){to(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function to(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ro=function(e){return e.MONGO="mongodb://",e.SRV="mongodb+srv://",e}(ro||{}),no=function(e){return e.CREDENTIALS="credentials",e.STRING="string",e}(no||{});const oo=e=>{const{register:t,getValues:r,setValue:n,watch:o}=(0,dt.Gc)(),[i,a]=(0,c.useState)(r("rawConnectionString")?no.STRING:no.CREDENTIALS),l=o("rawConnectionString",!1),s=o("prefix"),d=st.O7.includes("mongodb");(0,c.useEffect)((()=>{if(l){const e=(e=>{if(!e.includes("@"))return e;const[t,r]=e.split(/\/\/(.*)/),[n,o]=r.split(/@(.*)/),[i,a]=n.split(/:(.*)/),c=[];return i&&c.push(encodeURIComponent(i)),a&&c.push(encodeURIComponent(a)),t+"//"+c.join(":")+"@"+o})(l);n("connection_string",e),n("database",(e=>{var t;if((null!==(t=e.match(/\//g))&&void 0!==t?t:[]).length<3)return"admin";let r=e.substr(e.lastIndexOf("/")+1,e.length);return r=r.split("?")[0],r})(l))}r("prefix")||n("prefix",ro.MONGO)}),[l,r,n]);const u=(0,c.useCallback)((()=>{const e=Jn(r());n("connection_string",e)}),[r,n]),p=(0,c.useCallback)((()=>{u()}),[u]);return(0,c.useEffect)((()=>{u()}),[u]),(0,T.BX)(T.HY,{children:[(0,T.BX)(z.xu,{fontSize:"xs",children:[(0,T.tZ)(sr,{placeholder:"e.g. IoT production data"}),(0,T.tZ)(Yn.E,{onChange:e=>{"string"===e?a(no.STRING):"credentials"===e&&a(no.CREDENTIALS)},name:"connectionType",value:i,marginTop:6,children:(0,T.BX)(Pt.K,{spacing:4,children:[(0,T.tZ)(Kn.Y,{value:no.CREDENTIALS,children:"I have connection credentials"}),(0,T.tZ)(Kn.Y,{value:no.STRING,children:"I have a connection string"})]})})]}),i===no.CREDENTIALS&&(0,T.BX)(T.HY,{children:[(0,T.BX)(At.U,{justifyContent:"space-between",children:[(0,T.tZ)(ir.H,{name:"prefix",label:"Prefix",formControlProps:{flexBasis:"35%"},children:(0,T.BX)(zn.P,eo(eo({},t("prefix",{required:"Prefix is required",onChange:p})),{},{children:[(0,T.tZ)("option",{value:ro.MONGO,children:ro.MONGO}),(0,T.tZ)("option",{value:ro.SRV,children:ro.SRV})]}))}),(0,T.tZ)(ee.L,{}),(0,T.tZ)(ir.H,{name:"host",label:"Host name",formControlProps:{flexBasis:"35%"},children:(0,T.tZ)(Kt.I,eo({"data-cy":pe.Nr,placeholder:"cluster.abc.mongodb.net"},t("host",{required:"Host name is required",onChange:p})))}),(0,T.tZ)(ir.H,{name:"port",label:"Port",formControlProps:{flexBasis:"25%"},children:(0,T.tZ)(Kt.I,eo({"data-cy":pe.aI5,placeholder:"27017"},t("port",{required:s===ro.MONGO&&"Port is required",onChange:p})))})]}),(0,T.tZ)(ir.H,{name:"user",label:"Username",children:(0,T.tZ)(Kt.I,eo({"data-cy":pe.HPF,placeholder:"admin"},t("user",{required:"Username is required",onChange:p})))}),(0,T.tZ)(ir.H,{name:"password",label:"Password",children:(0,T.tZ)(or,eo(eo({placeholder:"*********"},t("password",{required:"Password is required",onChange:p})),{},{"data-cy":pe.k$C}))}),(0,T.tZ)(ir.H,{name:"database",label:"Database",children:(0,T.tZ)(Kt.I,eo({"data-cy":pe.opz,placeholder:"db"},t("database",{required:s===ro.MONGO&&"Database is required",onChange:p})))}),(0,T.BX)(ir.H,{name:"options",label:"Additional arguments",optionalLabel:!0,children:[(0,T.BX)(we.Q6,{children:["Learn more about available options"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://www.mongodb.com/docs/manual/reference/connection-string/#connection-string-options",children:"here"})]}),(0,T.tZ)(mr.g,eo({"data-cy":pe.jFe,placeholder:"",minHeight:"44px"},t("options",{required:!1,onChange:p})))]})]}),i===no.STRING&&(0,T.tZ)(T.HY,{children:(0,T.tZ)(ir.H,{name:"rawConnectionString",label:"Connection String",children:(0,T.tZ)(mr.g,eo({placeholder:"mongodb://username:password@host1:port1/defaultauthdb?options",minHeight:"120px"},t("rawConnectionString",{required:"Connection String is required"})))})}),(0,T.tZ)(ir.H,{name:"connection_string",hidden:!0,children:(0,T.tZ)(Kt.I,eo({hidden:!0},t("connection_string",{})))}),(0,T.tZ)(tn,{workspaceId:e.workspaceId,placeholders:{sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}}),d&&(0,T.tZ)(cn,{workspaceId:e.workspaceId})]})};function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(Object(r),!0).forEach((function(t){co(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function co(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lo=()=>{const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. my-application-imaging-data"}),(0,T.tZ)(ir.H,{name:"bucket_name",label:"Bucket name",children:(0,T.tZ)(Kt.I,ao({placeholder:"bucket","data-cy":pe.sDX},e("bucket_name",{required:"Bucket name is required"})))}),(0,T.BX)(ir.H,{name:"access_key_id",label:"Access key ID",optionalLabel:!0,children:[(0,T.BX)(we.Q6,{children:["Required if public access is blocked. Learn more about AWS access keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://aws.amazon.com/premiumsupport/knowledge-center/create-access-key/",children:"here."})]}),(0,T.tZ)(Kt.I,ao({placeholder:"AYMJRBVZOC1DO5L4R38Q","data-cy":pe.bqT},e("access_key_id",{})))]}),(0,T.BX)(ir.H,{name:"secret_key",label:"Secret access key",optionalLabel:!0,children:[(0,T.tZ)(we.Q6,{children:"The secret associated with the access key ID entered above."}),(0,T.tZ)(Kt.I,ao({placeholder:"65EzI2Hr15GJa5YGSKw2MlLZGTPPwkq4h0nUXG2o","data-cy":pe.BRJ},e("secret_key",{})))]})]})};var so=r(29975),uo=r(89146);var po=r(42782),go=r(92074),mo=r(29403);function fo(e){const{item:t,onRemoveRequest:r}=e;return(0,T.BX)(J.k,{children:[t.status===so.D.STARTED&&(0,T.tZ)(Et.u,{placement:"left",label:"Uploading...",children:(0,T.tZ)(J.k,{alignItems:"center",children:(0,T.tZ)(go.$,{size:"sm"})})}),t.status===so.D.DONE&&(0,T.tZ)(Et.u,{placement:"left",label:"Uploaded successfully",children:(0,T.tZ)(J.k,{"data-cy":pe.RAI,alignItems:"center",children:(0,T.tZ)(v.J,{as:O.nQG,boxSize:4,color:"green.500"})})}),t.status===so.D.ERROR&&(0,T.tZ)(T.HY,{children:(0,T.tZ)(Et.u,{placement:"left",label:"An error ocurred",children:(0,T.tZ)(J.k,{"data-cy":pe.Y6P,alignItems:"center",children:(0,T.tZ)(v.J,{as:O.Two,boxSize:4,color:"red.600"})})})}),(0,T.tZ)(Et.u,{title:t.name,children:(0,T.tZ)(Q.x,{marginX:2,noOfLines:1,fontSize:"xs",children:t.name})}),(0,T.BX)(J.k,{alignItems:"center",flexGrow:1,justifyContent:"flex-end",children:[t.status===so.D.STARTED&&t.source===so.A.LOCAL&&(0,T.tZ)(J.k,{alignItems:"center",minWidth:"100px",children:(0,T.tZ)(z.xu,{width:"100%",children:(0,T.tZ)(mo.E,{colorScheme:"gray",size:"xs",value:t.progress})})}),(0,T.tZ)(J.k,{"data-cy":pe.dZY,alignItems:"center",children:(0,T.tZ)(te.z,{variant:"ghost",size:"xxs",borderRadius:"md",colorScheme:"gray",boxSize:5,marginLeft:1,_hover:{backgroundColor:"gray.300"},onClick:r,children:(0,T.tZ)(v.J,{as:O.Two,boxSize:4,color:"gray.500"})})})]})]})}function ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(r),!0).forEach((function(t){bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Io=(0,c.memo)((function(e){const{register:t}=(0,dt.Gc)(),{onDropRequest:r,uploadedFiles:n,onFileDeleteRequest:o}=e,{getRootProps:i,getInputProps:a,isDragActive:c}=(0,po.uI)({noClick:!1,noKeyboard:!1,multiple:!0,onDrop:r});return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. people-analytics-employee-data"}),(0,T.tZ)(ir.H,{name:"integrationId",label:"",hidden:!0,children:(0,T.tZ)(Kt.I,yo({hidden:!0},t("integrationId",{})))}),(0,T.BX)(we.NI,{children:[(0,T.BX)("div",yo(yo({"data-cy":pe.O2d},i()),{},{children:[(0,T.tZ)("input",yo({},a())),(0,T.BX)(J.k,{role:"group",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"md",border:c?"2px dashed":"1px dashed",borderColor:c?"blue.300":"gray.300",width:"full",height:"210px",color:c?"blue.500":"gray.500",background:c?"blue.50":"",cursor:"pointer",_hover:{border:"2px dashed",borderColor:"blue.300",color:"blue.500"},children:[(0,T.tZ)(Q.x,{fontSize:"lg",fontWeight:600,textAlign:"center",children:"Drag and drop files here"}),(0,T.tZ)(Q.x,{fontSize:"md",fontWeight:600,children:"or click here to upload"})]})]})),(0,T.tZ)(we.Q6,{children:" Select one or multiple files to upload. Uploading folders is not supported."})]}),(0,T.tZ)(de.g,{spacing:2,align:"stretch",children:Object.entries(n).map((([e,t])=>(0,T.tZ)(fo,{item:t,onRemoveRequest:()=>{o(e)}},e)))})]})}));function vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(r),!0).forEach((function(t){Eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const wo=(0,c.memo)((function(e){const{setValue:t}=(0,dt.Gc)(),{deleteFilesFromBucket:r,getSignedUrl:n}={getSignedUrl:async function(e,t){return new Promise(((r,n)=>{fetch(`/api/integration/${t}/gsurl`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fileName:e})}).then((e=>(200!==e.status&&((0,o.D)(new Error(`Failed to create dataset: ${JSON.stringify(e)}`),"error"),n(new Error("Failed to create dataset"))),e.json()))).then((e=>{r(e.link)})).catch((e=>{(0,o.D)(e,"error"),n(new Error("Failed to create dataset"))}))}))},deleteFilesFromBucket:async function(e,t){return new Promise(((r,n)=>{fetch(`/api/integration/${t}/deleteFiles`,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fileName:e})}).then((e=>{e.ok||n(new Error("Failed to create dataset")),r()})).catch((()=>{n(new Error("Failed to create dataset"))}))}))}},{createNewIntegration:i}=(0,mt.T)({workspaceId:e.workspaceId,isNew:!1}),[a,l]=(0,c.useState)({}),s=(0,c.useRef)(null),d=(0,c.useRef)(null),u=(0,c.useCallback)((()=>{if(null===s.current&&null===d.current){const r={name:`shared-dataset-${Date.now()}`,type:"local",metadata:{integrationId:""},is_public:!1,duplicated_from:null,team_id:e.workspaceId,user_id:null},n=i({variables:{integration:{integration:r}}}).then((e=>{var r;const n=null===(r=e.data)||void 0===r?void 0:r.createIntegration.id;return s.current=n,t("integrationId",n),n}));d.current=(0,X.v7)(n)}return d.current}),[e,i,t]),p=(0,c.useCallback)((async(e,t)=>{e.forEach((async e=>{const t=e.name,r={done:!1,status:so.D.STARTED,progress:0,name:e.name,path:e.path,source:so.A.LOCAL};l((e=>Oo(Oo({},e),{},{[t]:r})));try{await u()}catch(e){throw l((e=>Oo(Oo({},e),{},{[t]:Oo(Oo({},r),{},{status:so.D.ERROR})}))),e}const i=await n(e.name,s.current),a=new XMLHttpRequest;a.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const r=(0,uo.Sx)(e);l((e=>Oo(Oo({},e),{},{[t]:Oo(Oo({},e[t]),{},{progress:r})})))}}),!1),a.upload.addEventListener("load",(()=>{l((e=>Oo(Oo({},e),{},{[t]:Oo(Oo({},e[t]),{},{done:!0,status:so.D.DONE})})))}),!1),a.upload.addEventListener("error",(()=>{(0,o.D)(new Error(`Error of uploading file to bucket. Message: ${a.responseText}`),"error"),l((e=>Oo(Oo({},e),{},{[t]:Oo(Oo({},e[t]),{},{done:!0,status:so.D.ERROR})})))}),!1),a.open("PUT",i),a.setRequestHeader("Content-Type",e.type),a.send(e)}))}),[n,u]),g=(0,c.useCallback)((e=>{s.current?(r(e,s.current).catch((e=>(0,o.D)(e,"warning"))),l((t=>{const r=Oo({},t);return delete r[e],r}))):(0,o.D)(new Error("Want to delete dataset but there is no datasetId"),"error")}),[r]);return(0,T.tZ)(Io,{uploadedFiles:a,onDropRequest:p,onFileDeleteRequest:g})})),Ao=[{value:st.As.PASSWORD,label:"Username & password",isOptionFeatureGated:!1},{value:st.As.OKTA,label:st.zH[st.As.OKTA],isOptionFeatureGated:!0},{value:st.As.NATIVE_SNOWFLAKE,label:st.zH[st.As.NATIVE_SNOWFLAKE],isOptionFeatureGated:!0},{value:st.As.AZURE_AD,label:st.zH[st.As.AZURE_AD],isOptionFeatureGated:!0}],Po=(0,c.memo)((function({value:e,workspaceId:t,onModalClose:r}){return(0,T.tZ)(Rr,{menuFooterElement:(0,T.BX)(Q.x,{padding:4,paddingBottom:2,fontSize:"xs",color:"gray.800",children:["Learn more about"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://deepnote.com/docs/snowflake",children:"OAuth access providers"}),"."]}),value:e,authOptions:Ao,workspaceId:t,onModalClose:r})}));function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){So(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function So(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Co=({isDbtIntegration:e,workspaceId:t,onModalClose:r})=>{var o;const{register:i,watch:a,setValue:l}=(0,dt.Gc)(),s=null!==(o=a("authMethod"))&&void 0!==o?o:st.As.PASSWORD,d=a("dbt");return(0,c.useEffect)((()=>{e&&l("dbt",{value:!0})}),[e,l]),(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Production user tracking"}),(0,T.BX)(ir.H,{name:"accountName",label:"Account name",children:[(0,T.BX)(we.Q6,{children:["Learn more about Snowflake account names"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://docs.snowflake.com/en/user-guide/admin-account-identifier.html",children:"here."})]}),(0,T.tZ)(Kt.I,To({placeholder:"org_name-account_name or account_locator.region.cloud_provider","data-cy":pe.lbv},i("accountName",{required:"Account name is required"})))]}),(0,T.tZ)(Xr,{label:"Authentication",children:(0,T.tZ)(ir.H,{name:"authMethod",label:"Method",children:(0,T.tZ)(Po,{value:s,workspaceId:t,onModalClose:r})})}),s===st.As.PASSWORD&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"username",label:"Username",children:(0,T.tZ)(Kt.I,To({placeholder:"admin","data-cy":pe.TiM},i("username",{required:"Username is required"})))}),(0,T.tZ)(ir.H,{name:"user",label:"Password",children:(0,T.tZ)(or,To({"data-cy":pe.GMZ,placeholder:"********"},i("password",{required:"Password is required"})))})]}),s===st.As.OKTA&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"clientId",label:"Client ID",children:(0,T.tZ)(Kt.I,To({placeholder:"","data-cy":pe.yvE},i("clientId",{required:"Client ID is required"})))}),(0,T.tZ)(ir.H,{name:"clientSecret",label:"Client Secret",children:(0,T.tZ)(or,To({"data-cy":pe.gv3,placeholder:"********"},i("clientSecret",{required:"Client Secret is required"})))}),(0,T.tZ)(ir.H,{name:"oktaSubdomain",label:"Okta Subdomain",children:(0,T.tZ)(Kt.I,To({"data-cy":pe.S$_,placeholder:""},i("oktaSubdomain",{required:"Okta subdomain is required"})))}),(0,T.tZ)(ir.H,{name:"identityProvider",label:"Identity Provider",children:(0,T.tZ)(Kt.I,To({"data-cy":pe._JC,placeholder:""},i("identityProvider",{required:"Identity provider ID is required"})))}),(0,T.tZ)(ir.H,{name:"authorizationServer",label:"Authorization server ID",children:(0,T.tZ)(Kt.I,To({"data-cy":pe.gZT,placeholder:""},i("authorizationServer",{required:"Authorization server ID is required"})))})]}),s===st.As.NATIVE_SNOWFLAKE&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"clientId",label:"Client ID",children:(0,T.tZ)(Kt.I,To({placeholder:"","data-cy":pe.yvE},i("clientId",{required:"Client ID is required"})))}),(0,T.tZ)(ir.H,{name:"clientSecret",label:"Client Secret",children:(0,T.tZ)(or,To({"data-cy":pe.gv3,placeholder:"********"},i("clientSecret",{required:"Client Secret is required"})))})]}),s===st.As.AZURE_AD&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ir.H,{name:"clientId",label:"Client ID",children:(0,T.tZ)(Kt.I,To({placeholder:"","data-cy":pe.yvE},i("clientId",{required:"Client ID is required"})))}),(0,T.tZ)(ir.H,{name:"clientSecret",label:"Client Secret",children:(0,T.tZ)(or,To({"data-cy":pe.gv3,placeholder:"********"},i("clientSecret",{required:"Client Secret is required"})))}),(0,T.tZ)(ir.H,{name:"resource",label:"Resource",children:(0,T.tZ)(Kt.I,To({"data-cy":pe.bbe,placeholder:""},i("resource",{required:"Resource is required"})))}),(0,T.tZ)(ir.H,{name:"tenant",label:"Tenant",children:(0,T.tZ)(Kt.I,To({"data-cy":pe.DXp,placeholder:""},i("tenant",{required:"Tenant is required"})))})]}),(0,T.tZ)(ir.H,{name:"database",label:"Database",optionalLabel:!0,children:(0,T.tZ)(Kt.I,To({"data-cy":pe.y_H,placeholder:"dev"},i("database",{})))}),s===st.As.OKTA?(0,T.tZ)(ir.H,{name:"role",label:"Role",children:(0,T.tZ)(Kt.I,To({"data-cy":pe.A6b,placeholder:"editor"},i("role",{required:"Role is required"})))}):(0,T.tZ)(ir.H,{name:"role",label:"Role",optionalLabel:!0,children:(0,T.tZ)(Kt.I,To({"data-cy":pe.A6b,placeholder:"editor"},i("role",{required:!1})))}),(0,T.tZ)(ir.H,{name:"warehouse",label:"Warehouse",optionalLabel:!0,children:(0,T.tZ)(Kt.I,To({"data-cy":pe.ULu,placeholder:"user_tracking"},i("warehouse",{})))}),!e&&(0,T.tZ)(Xr,{label:"Integrations",children:(0,T.tZ)(ir.H,{name:"dbt",label:"dbt semantic layer",children:(0,T.BX)(J.k,{flexDirection:"row",alignItems:"center",marginTop:4,children:[(0,T.tZ)(qr.r,To({marginTop:0,marginRight:2,"data-cy":pe.gNz},i("dbt",{}))),(0,T.BX)(Q.x,{children:["Learn more about"," ",(0,T.tZ)(b.r,{isExternal:!0,href:n._.docsPage("dbt"),children:"dbt integrations"})]})]})})}),(0,T.tZ)(ir.H,{name:"dbtServiceToken",label:"dbt service token",formControlProps:{hidden:!d},children:(0,T.tZ)(Kt.I,To({"data-cy":pe.KB5,placeholder:"dbts_sAmplEZ9hcu05yqwydb51n186zpUUngGsvzKreFkN290k5T6rN5QTX51=="},i("dbtServiceToken",{})))}),(0,T.tZ)(ir.H,{name:"dbtPrimaryJobId",label:"dbt primary Job ID",formControlProps:{hidden:!d},children:(0,T.tZ)(Kt.I,To({"data-cy":pe.Lcs,placeholder:"12300"},i("dbtPrimaryJobId",{})))}),(0,T.tZ)(ir.H,{name:"dbtProxyServerUrl",label:"Proxy Server URL",formControlProps:{hidden:!d},children:(0,T.tZ)(Kt.I,To({"data-cy":pe.FWM,placeholder:"eagle-hqya7.proxy.cloud.getdbt.com"},i("dbtProxyServerUrl",{})))})]})};function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){No(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function No(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ro(){const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. Sales and marketing analytics"}),(0,T.tZ)(ir.H,{name:"instance",label:"Instance",children:(0,T.tZ)(Kt.I,ko({placeholder:"instance"},e("instance",{required:"Instance name is required"})))}),(0,T.tZ)(ir.H,{name:"database",label:"Database",children:(0,T.tZ)(Kt.I,ko({placeholder:"database"},e("database",{required:"Database name is required"})))}),(0,T.tZ)(ir.H,{name:"useDataBoost",label:"Use Data Boost",children:(0,T.BX)(At.U,{children:[(0,T.tZ)(qr.r,ko({},e("dataBoostEnabled",{}))),(0,T.BX)(Q.x,{margin:0,children:["Read more about Data Boost"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/spanner/docs/databoost/databoost-overview",children:"here"})]})]})}),(0,T.BX)(ir.H,{name:"service_account",label:"Service account JSON",children:[(0,T.BX)(we.Q6,{children:["Learn more about GCP service account keys"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys",children:"here."})]}),(0,T.tZ)(mr.g,ko({minHeight:"230px",marginTop:2,marginBottom:4,placeholder:P.Iy},e("service_account",{required:"Service account JSON is required"})))]})]})}function Do(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(r),!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xo(){const{register:e}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"e.g. MY_VM_SSH"}),(0,T.tZ)(ir.H,{name:"ssh_key",label:"SSH key",children:(0,T.tZ)(mr.g,Zo({minHeight:"240px",marginBottom:4,placeholder:"-----BEGIN ENCRYPTED PRIVATE KEY-----\nMIIJrTBXBgkqhkiG9w0BBQ0wSjApBgkqhkiG9w0BBQwwHAQIW+BK6UQtCPACAggA\n[...]\nSvu0sdTwh1tIs/sxRGuSta+iXPfHJnW4sZzh/2lAMvkgML6h9JAeIYV6e/qUqYSq\nGxSfj7s0Qs0K5e3Xv1lCQUhSz82fBysznjeAhWa45YEV\n-----END ENCRYPTED PRIVATE KEY-----"},e("ssh_key",{required:"SSH key is required"})))})]})}function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){Uo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Go=(0,c.memo)((function(e){const{register:t}=(0,dt.Gc)();return(0,T.BX)(T.HY,{children:[(0,T.tZ)(sr,{placeholder:"My SSH Tunnel"}),(0,T.BX)(ir.H,{name:"sshUser",label:"SSH User",optionalLabel:!1,children:[(0,T.tZ)(Kt.I,Bo({placeholder:"user"},t("sshUser",{required:"SSH User is required"}))),(0,T.tZ)(we.Q6,{children:"The user on your SSH machine."})]}),(0,T.BX)(ir.H,{name:"sshHost",label:"SSH Host",optionalLabel:!1,children:[(0,T.tZ)(Kt.I,Bo({placeholder:"127.0.0.1"},t("sshHost",{required:"SSH Host is required"}))),(0,T.tZ)(we.Q6,{children:"The host of your SSH machine."})]}),(0,T.BX)(ir.H,{name:"sshPort",label:"SSH Port",optionalLabel:!0,children:[(0,T.tZ)(Kt.I,Bo({placeholder:"22"},t("sshPort",{value:22,valueAsNumber:!0}))),(0,T.tZ)(we.Q6,{children:"The port of your SSH machine."})]}),(0,T.BX)(ir.H,{name:"remoteHost",label:"Remote Host",optionalLabel:!1,children:[(0,T.tZ)(Kt.I,Bo({placeholder:"local.network"},t("remoteHost",{required:"Remote Host is required"}))),(0,T.tZ)(we.Q6,{children:"The host of the machine in your local network."})]}),(0,T.BX)(ir.H,{name:"remotePort",label:"Remote Port",optionalLabel:!1,children:[(0,T.tZ)(Kt.I,Bo({placeholder:"5432"},t("remotePort",{required:"Remote Port is required",valueAsNumber:!0}))),(0,T.tZ)(we.Q6,{children:"The port of the machine in your local network."})]}),(0,T.tZ)(Kr,{workspaceId:e.workspaceId})]})})),Ho=({integrationType:e,workspaceId:t,googleDriveIntegrationContext:r,onModalClose:n})=>{switch(e){case"clickhouse":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Real time website logs",host:"play.clickhouse.com",port:"443",user:"explorer",password:"********",database:"default",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"pgsql":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. App user analytics",host:"pgsql.myhost.com",port:"5432",user:"admin",password:"********",database:"postgres",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"materialize":return(0,T.tZ)(Vn,{workspaceId:t,type:e,placeholders:{name:"e.g. Materialize connection",host:"xxxxxx.us-east-1.aws.materialize.cloud",port:"6875",user:"user@company.com",password:"********",database:"materialize",cluster:"my_cluster",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"mysql":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Online store sales data",host:"mysql.myhost.com",port:"3306",user:"admin",password:"********",database:"default_db",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"mariadb":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Online store sales data",host:"mariadb.myhost.com",port:"3306",user:"admin",password:"********",database:"default_db",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"mindsdb":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Revenue forecasts",host:"cloud.mindsdb.com",port:"47334",user:"admin",password:"********",database:"mindsdb",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"trino":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Revenue forecasts",host:"trino.galaxy.starburst.io",port:"8080",user:"admin",password:"********",database:"sample",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"redshift":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Production user tracking",host:"examplecluster.abc123.aws-region.redshift.amazonaws.com",port:"5439",user:"admin",password:"********",database:"dev",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"dremio":return(0,T.tZ)(fn,{workspaceId:t});case"sql-server":return(0,T.tZ)(un,{workspaceId:t,type:e,placeholders:{name:"e.g. Sales data",host:"myserver.windows.net",port:"1433",user:"admin",password:"********",database:"default",sshHost:"localhost",sshPort:"22",sshUser:"deepnote"}});case"athena":return(0,T.tZ)(gr,{});case"big-query":return(0,T.tZ)(Br,{workspaceId:t,onModalClose:n});case"s3":return(0,T.tZ)(lo,{});case"gcs":return(0,T.tZ)(wn,{});case"ssh-key":return(0,T.tZ)(xo,{});case"snowflake":return(0,T.tZ)(Co,{workspaceId:t,onModalClose:n});case"dbt":return(0,T.tZ)(Co,{isDbtIntegration:!0,workspaceId:t,onModalClose:n});case"ecr":return(0,T.tZ)(Xn,{type:"ecr"});case"gcr":return(0,T.tZ)(Xn,{type:"gcr"});case"dockerhub":return(0,T.tZ)(Xn,{type:"dockerhub"});case"mongodb":return(0,T.tZ)(oo,{workspaceId:t});case"google-drive":return(0,T.tZ)(xn,{workspaceId:t,googleDriveIntegrationContext:r});case"local":return(0,T.tZ)(wo,{workspaceId:t});case"env":return(0,T.tZ)(In,{});case"ssh_tunnel":return(0,T.tZ)(Go,{workspaceId:t});case"github_package":return(0,T.tZ)(Yt.i,{children:(0,T.tZ)(Rn,{workspaceId:t})});case"alloydb":return(0,T.tZ)(un,{workspaceId:t,type:"pgsql",placeholders:{name:"e.g. App user analytics",host:"127.0.0.1",port:"9999",user:"postgres",password:"********",database:"postgres"}});case"spanner":return(0,T.tZ)(Ro,{});case"cloud-sql":return(0,T.tZ)(Wr,{});default:return(0,X.UT)(e),null}},Wo=()=>(0,T.BX)(z.xu,{children:[(0,T.tZ)(z.xu,{height:"32px"}),(0,T.tZ)(me.ZP,{count:3,height:"30px",style:{marginBottom:"20px"}}),(0,T.tZ)(me.ZP,{count:1,height:"30px",style:{marginTop:"20px"}})]}),Xo=(0,c.memo)((function(e){const{onCreateAnywayRequest:t}=e;return(0,T.tZ)(Se.b,{hasIcon:!0,"data-cy":pe.ctt,status:"error",children:(0,T.BX)(de.g,{spacing:3,alignItems:"flex-start",children:[(0,T.BX)(Q.x,{color:"red.950",fontSize:"xs",children:["We are unable to connect to the integration. Please check your connection details and permissions, then try again or ",(0,T.BX)(b.r,{onClick:t,children:[e.isNew?"create":"save"," integration anyway"]}),"."]}),(0,T.tZ)(Q.x,{as:"span",children:e.errorMessage.split("\n").map(((e,t)=>(0,T.tZ)(Q.x,{color:"red.900",fontSize:"xxs",fontFamily:"mono",children:e},t)))})]})})}));var qo=r(17571),Fo=r(72792),$o=r(61193);const Vo=(0,c.memo)((function(e){const{onCancel:t}=e,r=(0,c.useMemo)((()=>({backgroundColor:"gray.300",borderColor:"gray.400",outline:"none"})),[]),n=(0,c.useCallback)((e=>e.preventDefault()),[]);return(0,T.BX)(qo.J,{trigger:"hover",openDelay:0,closeDelay:5e3,defaultIsOpen:!0,children:[(0,T.tZ)(Fo.x,{children:(0,T.tZ)(te.z,{leftIcon:(0,T.tZ)(go.$,{color:"white"}),backgroundColor:"gray.300",borderColor:"gray.400",cursor:"not-allowed",_hover:r,_focus:r,_focusWithin:r,onClick:n,children:"Testing integration"})}),(0,T.tZ)($o.y,{backgroundColor:"black",borderWidth:0,width:"270px",padding:2,children:(0,T.BX)(Q.x,{color:"white",fontSize:"xs",children:["We are testing connection to the integration, this can take a while. ",(0,T.tZ)(b.r,{onClick:t,children:"Cancel"})]})})]})}));const Yo={mongodb:{editModalTitle:"Edit MongoDB integration",createModalTitle:"Connect to MongoDB"},pgsql:{editModalTitle:"Edit PostgreSQL integration",createModalTitle:"Connect to PostgreSQL"},clickhouse:{editModalTitle:"Edit ClickHouse integration",createModalTitle:"Connect to ClickHouse"},redshift:{editModalTitle:"Edit Amazon Redshift integration",createModalTitle:"Connect to Amazon Redshift"},athena:{editModalTitle:"Edit Amazon Athena integration",createModalTitle:"Connect to Amazon Athena"},env:{editModalTitle:"Edit environment variables",createModalTitle:"Create environment variables"},"google-drive":{editModalTitle:"Edit Google Drive integration",createModalTitle:"Connect to Google Drive"},local:{editModalTitle:"Edit shared workspace dataset",createModalTitle:"Create shared workspace dataset"},s3:{editModalTitle:"Edit Amazon S3 integration",createModalTitle:"Connect to Amazon S3"},mysql:{editModalTitle:"Edit MySQL integration",createModalTitle:"Connect to MySQL"},mariadb:{editModalTitle:"Edit Maria integration",createModalTitle:"Connect to MariaDB"},"sql-server":{editModalTitle:"Edit SQL Server integration",createModalTitle:"Connect to SQL Server"},mindsdb:{editModalTitle:"Edit MindsDB integration",createModalTitle:"Connect to MindsDB"},trino:{editModalTitle:"Edit Trino integration",createModalTitle:"Connect to Trino"},dremio:{editModalTitle:"Edit Dremio integration",createModalTitle:"Connect to Dremio"},"big-query":{editModalTitle:"Edit Google BigQuery integration",createModalTitle:"Connect to Google BigQuery"},gcs:{editModalTitle:"Edit Google Cloud Storage integration",createModalTitle:"Connect to Google Cloud Storage"},snowflake:{editModalTitle:"Edit Snowflake integration",createModalTitle:"Connect to Snowflake"},dbt:{editModalTitle:"Edit Snowflake integration",createModalTitle:"Connect to Snowflake"},ecr:{editModalTitle:"Edit Amazon Elastic Container Registry integration",createModalTitle:"Connect to Amazon Elastic Container Registry"},gcr:{editModalTitle:"Edit Google Container Registry integration",createModalTitle:"Connect to Google Container Registry"},dockerhub:{editModalTitle:"Edit Docker Hub integration",createModalTitle:"Connect to Docker Hub"},"ssh-key":{editModalTitle:"Edit SSH key",createModalTitle:"Create SSH Key"},ssh_tunnel:{editModalTitle:"Edit SSH tunnel",createModalTitle:"Create SSH Tunnel"},github_package:{editModalTitle:"Edit GitHub connection",createModalTitle:"Connect GitHub"},alloydb:{editModalTitle:"Edit Google AlloyDB connection",createModalTitle:"Connect Google AlloyDB"},"cloud-sql":{editModalTitle:"Edit Google Cloud SQL connection",createModalTitle:"Connect Google Cloud SQL"},spanner:{editModalTitle:"Edit Google Spanner connection",createModalTitle:"Connect Google Spanner"},materialize:{editModalTitle:"Edit Materialize connection",createModalTitle:"Connect Materialize"}};var Ko={name:"1d3w5wq",styles:"width:100%"};const zo=e=>{const{onSaveOrCreateRequest:t,onCreateAnywayRequest:r,onTestConnectionAbortRequest:n}=e,o=(0,c.useRef)(null),i=!e.id,a=e.googleDriveIntegrationContext.isLoaded&&e.googleDriveIntegrationContext.isDriveAuthorized,l=(0,c.useCallback)((e=>{t(),e.stopPropagation(),e.preventDefault()}),[t]),s=!(!i||"google-drive"!==e.type)&&!e.googleDriveIntegrationContext.isDriveAuthorized,d=(0,T.tZ)(Et.u,{shouldWrapChildren:!0,hasArrow:!0,label:s?'To begin, grant Deepnote access to your Google Drive. Please initiate the OAuth flow by clicking the "Grant Permission" button first. Then come back to this page and open the modal again.':void 0,children:(0,T.tZ)(te.z,{isLoading:e.isSubmitting,"data-cy":pe.xMS,isDisabled:s,type:"submit",form:"integration-form",children:i?"Create integration":"Save integration"})});return(0,c.useEffect)((()=>{var t;e.testConnectionErrorMessage&&(null===(t=o.current)||void 0===t||t.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"}))}),[e.testConnectionErrorMessage]),(0,T.BX)(_t.u,{scrollBehavior:"inside",isOpen:!0,isCentered:!0,onClose:e.onModalClose,children:[(0,T.tZ)(Tt.Z,{}),(0,T.BX)(wt.h,{width:"800px",maxWidth:"90vw",children:[(0,T.tZ)(St.o,{}),(0,T.tZ)(Ct.x,{children:i?Yo[e.type].createModalTitle:Yo[e.type].editModalTitle}),(0,T.tZ)(ae.f,{children:(0,T.tZ)(Re.Z,{skeleton:(0,T.tZ)(Wo,{}),isLoading:e.isLoading,children:(0,T.tZ)(x.m.form,{id:"integration-form",ref:o,css:Ko,onSubmit:l,children:(0,T.tZ)(de.g,{alignItems:"flex-start",spacing:8,children:(0,T.BX)(At.U,{alignItems:"flex-start",width:"100%",children:[(0,T.BX)(de.g,{flexBasis:"60%",alignItems:"flex-start",minHeight:"140px",spacing:5,children:[e.testConnectionErrorMessage&&(0,T.tZ)(Xo,{onCreateAnywayRequest:r,isNew:i,errorMessage:e.testConnectionErrorMessage}),(0,T.tZ)(Pt.K,{spacing:5,width:"100%",children:(0,T.tZ)(Ho,{workspaceId:e.workspaceId,integrationType:e.type,googleDriveIntegrationContext:e.googleDriveIntegrationContext,onModalClose:e.onModalClose})})]}),(0,T.tZ)(de.g,{flexBasis:"40%",height:"100%",alignItems:"flex-start",paddingLeft:6,children:(0,T.tZ)(Vt,{workspaceId:e.workspaceId,type:e.type,onModalClose:e.onModalClose})})]})})})})}),(0,T.BX)(je.m,{pb:5,children:["google-drive"===e.type&&a&&(0,T.tZ)(jt,{revoke:e.googleDriveIntegrationContext.revokeDrive}),e.isTestingConnection||(0,T.tZ)(te.z,{type:"button",variant:"ghost",colorScheme:"gray",onClick:e.onModalClose,children:"Cancel"}),e.isTestingConnection?(0,T.tZ)(Vo,{onCancel:n}):d]})]})]})},Jo=["name"],Qo=["name"];function ei(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(r),!0).forEach((function(t){ni(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ni(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const oi={NAME_ALREADY_EXISTS:"Integration with this name already exists, please choose a different name",INVALID_S3_ACCESS:"Bucket not found, the access key or secret key is invalid. Please check integration configuration."},ii=e=>{if("keyValuePairs"in e){const t=[...e.keyValuePairs];t.push({key:"",value:""}),e.keyValuePairs=t}return e},ai=({id:e,type:t,source:r,workspaceId:i,firstIntegration:a,integrationApi:l,projectId:s,onIntegrationCreated:d,projectToRouteTo:p,openConfirmationModalAfterCreation:g,connectIntegrationToProject:m})=>{var f;const h=(0,u.k6)(),{profilesApi:y}=(0,Ze.mM)(),b=(0,gt.pt)(),I=(0,ut.I0)(),v=!e,O=(0,c.useRef)(null),{isTestingConnection:E,testConnectionResult:A,testConnectionError:P,testIntegrationConnection:_,abortTestingConnection:S}=(()=>{const[e,t]=(0,c.useState)(null),r=(0,c.useRef)(null),[n,{data:o,loading:i,error:a,reset:l}]=(0,Ee.D)(vt,{}),s=(0,c.useCallback)((async e=>{var t;const o=new window.AbortController;r.current=o;const i=bt(bt({},e),{context:bt(bt({},null!==(t=null==e?void 0:e.context)&&void 0!==t?t:{}),{},{fetchOptions:{signal:o.signal}})}),a=await n(i),{data:c}=a,l=ht(a,ft);return bt({data:c?Ot(c.testIntegrationConnection):null},l)}),[n]),d=(0,c.useCallback)((e=>{r.current&&(l(),r.current.abort(),r.current=null,e&&t(new Error(e)))}),[l]);return{testIntegrationConnection:s,isTestingConnection:i,testConnectionResult:o?Ot(o.testIntegrationConnection):null,testConnectionError:null!=a?a:e,abortTestingConnection:d}})(),{data:C,dataLoading:j,dataError:k,createNewIntegration:N,updateIntegration:R}=(0,mt.T)({workspaceId:i,isNew:v,id:e}),D=null==C?void 0:C.getIntegration,Z=ri(ri({},null==D?void 0:D.metadata),{},{name:null!==(f=null==D?void 0:D.name)&&void 0!==f?f:""});ii(Z);const M=(0,dt.cI)({defaultValues:Z}),{handleSubmit:x,reset:L,getValues:B,formState:{dirtyFields:U}}=M,G=(({workspaceId:e,isNew:t})=>{const{profilesApi:r}=(0,Ze.mM)(),[n,o]=(0,c.useState)(!1),[i,a]=(0,c.useState)(!1),[l,s]=(0,c.useState)(!1),d=(0,c.useRef)(null);(0,c.useEffect)((()=>()=>{d.current&&clearInterval(d.current)}));const u=(0,c.useCallback)((()=>{const e=window.open("/auth/google-drive");window.deepnote.oauthDoneCallback=t=>{t?(a(!0),o(!1),null==e||e.close(),De.Z.success({message:"Your Google Drive was authorized."})):(De.Z.error({message:"Failed to authenticate with Google Drive."}),o(!0),null==e||e.close()),d.current&&clearInterval(d.current)},d.current=setInterval((()=>{null!=e&&e.closed&&d.current&&clearInterval(d.current),r.hasUserAuthorizedGoogleDrive().then((e=>{a(e),e&&d.current&&clearInterval(d.current)}))}),5e3)}),[r]);return{isDriveAuthorized:i,authFailedError:n,isLoaded:l,revokeDrive:(0,c.useCallback)((()=>{s(!1),r.revokeGoogleDriveAccess().then((()=>{a(!1),t||r.closeModal()})).catch((e=>{De.Z.error({message:e.message})})).finally((()=>{s(!0)}))}),[t,r]),authorizeDriveAccess:u,checkDriveAuthorization:(0,c.useCallback)((()=>{s(!1),r.hasUserAuthorizedGoogleDrive().then((e=>{a(e)})).catch((()=>{De.Z.error({message:"Unable to fetch Google Drive authorization status."})})).finally((()=>{s(!0)}))}),[r]),isNew:t}})({workspaceId:i,isNew:v}),H=(0,c.useCallback)(((e,t)=>{var r;(0,o.D)(e);const n=null!=e&&null!==(r=e.networkError)&&void 0!==r&&r.result&&oi[e.networkError.result]?oi[e.networkError.result]:t;De.Z.error({message:n})}),[]);k&&H(k,"Error loading integration");const W=(0,c.useCallback)((async(e,r,n)=>{if(r.integrationId)return R({variables:{id:r.integrationId,integration:{integration:{metadata:null,type:t,name:e,team_id:i},testStatus:n}}});throw new Error("Expected to have integration ID for shared dataset integration")}),[t,i,R]),X=(0,c.useCallback)((async(e,n,o)=>{try{let l;if("local"===t){const t=n;await W(e,t,o),l=t.integrationId}else{var a,c;const s=await N({variables:{integration:{integration:{metadata:n,type:t,name:e,team_id:i},source:r},testStatus:o}});l=null==s||null===(a=s.data)||void 0===a||null===(c=a.createIntegration)||void 0===c?void 0:c.id}if(l){const r={id:l,duplicated_from:null,name:e,is_public:!1,project_count:1,state:st.ws.AVAILABLE,type:t};return I({type:"INTEGRATION_ADD",payload:{integration:r}}),null==d||d(r),r}}catch(e){H(e,"Error creating integration, please try again or contact support")}}),[i,r,t,I,N,d,W,H]),q=(0,c.useCallback)((async(r,n,o)=>{try{await R({variables:{id:e,integration:{integration:{metadata:n,type:t,name:r,team_id:i},testStatus:o}}}),s&&l&&await l.refetchIntegrations(),y.closeModal(),De.Z.success({message:"Integration edited successfully"})}catch(e){H(e,"Error editing integration, please try again or contact support")}}),[i,s,e,l,t,y,R,H]),{prepare:F}=(0,pt.lc)(),V=(0,c.useCallback)((async t=>{var r;const o=(e=>("keyValuePairs"in e&&(e.keyValuePairs=e.keyValuePairs.filter((({key:e,value:t})=>e&&t))),e))(t);if(!(e=>!("keyValuePairs"in e)||0!==e.keyValuePairs.length||(De.Z.error({message:"At least one environment variable is required"}),!1))(o))return;const{name:c}=t,d=ei(t,Jo);var u;if(!v)return await q(c,d,null!==(u=null==A?void 0:A.status)&&void 0!==u?u:"not-tested"),void F({integrationId:e,invalidateCache:!1});const f=await X(c,d,null!==(r=null==A?void 0:A.status)&&void 0!==r?r:"not-tested");if(f)if(F({integrationId:f.id,invalidateCache:!1}),g)y.setOpenedModal("ConnectIntegrationModal",{integration:f,workspaceId:i});else{if(f&&l&&m&&s){(await l.connectIntegration(f.id)).ok?await l.refetchIntegrations():De.Z.error({message:"Failed to connect integration. Please, try again."})}De.Z.success({message:a?"Congratulations! You created your first integration ":"Integration created successfully"}),y.closeModal(),a&&i&&p&&h.push((0,$.X)(n._.workspaceProject,p))}}),[e,y,v,h,A,g,m,l,s,a,i,p,F,q,X]),Y=(0,c.useCallback)((()=>{M.formState.isDirty?b({title:"Close the dialog?",content:"The changes you've made will be discarded.",confirmText:"Close",confirmColorScheme:"red",onConfirm:y.closeModal}):y.closeModal()}),[M.formState.isDirty,y,b]),K=(0,st.in)(t),z=(0,c.useCallback)((async()=>{if(!K)return void x(V)();const e=B(),{name:r}=e,n=ei(e,Qo);if(!(Object.keys(U).filter((e=>"name"!==e)).length>0))return void x(V)();O.current=setTimeout((()=>S("Connection timed out after 30 seconds.")),3e4);const{data:o}=await _({variables:{type:t,metadata:n,workspaceId:i}});O.current&&(clearTimeout(O.current),O.current=null),"success"===(null==o?void 0:o.status)?x(V)():(0,w.j)("Integration test failed",{type:t,workspaceId:i})}),[U,K,t,i,B,_,x,S,V]),J=(0,c.useCallback)((()=>{S(),O.current&&(clearTimeout(O.current),O.current=null),(0,w.j)("Integration test cancelled",{type:t,workspaceId:i})}),[i,t,S]);(0,c.useEffect)((()=>{if(e&&D){const e=ii(ri({name:D.name},D.metadata));L(e)}}),[C,e,D,L]),(0,c.useEffect)((()=>{(0,w.j)("Integration modal opened",{type:t,source:r,workspaceId:i})}),[t,r,i]);const Q="fail"===(null==A?void 0:A.status)&&A.message,ee=null==P?void 0:P.message;return(0,T.tZ)(dt.RV,ri(ri({},M),{},{children:(0,T.tZ)(zo,{id:e,type:t,isLoading:j,isSubmitting:M.formState.isSubmitting,isTestingConnection:E,testConnectionErrorMessage:Q||ee||null,workspaceId:i,googleDriveIntegrationContext:G,onModalClose:Y,onSaveOrCreateRequest:z,onCreateAnywayRequest:x(V),onTestConnectionAbortRequest:J})}))};var ci=r(9372),li=r(68722);const si={paragraph:{name:"1h8jwah",styles:"margin-bottom:15px!important"},boldType:{name:"16ceglb",styles:"font-weight:600"}};function di(e){const[t,r]=(0,c.useState)(""),n="CANCEL"!==t;const o=e.balance>0?`Outstanding dues for this month ($${e.balance/100}) will be billed to your card.`:void 0;return(0,T.BX)(ce.Z,{title:"Cancel plan & delete team",onClose:e.onClose,children:[(0,T.tZ)(ae.f,{children:(0,T.BX)("form",{id:"cancel-plan-modal-form",onSubmit:t=>{t.preventDefault(),n||(0,li.fC)(e.workspaceId)},children:[(0,T.BX)(x.m.p,{css:si.paragraph,children:["Cancelling the plan will also delete this team. This action"," ",(0,T.tZ)(x.m.span,{css:si.boldType,children:"cannot"})," be undone. In order to archive projects, we recommend moving them to a different space."]}),o&&(0,T.tZ)("p",{children:o}),(0,T.BX)(x.m.p,{css:si.paragraph,children:["If you wish to proceed, please type ",(0,T.tZ)(x.m.span,{css:si.boldType,children:"CANCEL"})," below to confirm."]}),(0,T.tZ)(Kt.I,{autoFocus:!0,name:"name",value:t,onChange:e=>r(e.target.value),isRequired:!0})]})}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{"data-cy":pe.aum,type:"submit",form:"cancel-plan-modal-form",colorScheme:"red",isDisabled:n,children:"Cancel plan & delete team"})})]})}var ui=r(37496);function pi(e){const[t,r]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),i=(0,ui.x)();return(0,T.tZ)(ce.Z,{title:"Rename project",onClose:e.onClose,children:(0,T.BX)("form",{onSubmit:t=>{!function(t){t.preventDefault(),o(!0),r(null);const n=t.target.name.value,a={name:n};fetch(`/api/project/${e.projectId}`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((e=>{if(403===e.status)throw new Error("You are not allowed to change the project name, are you the owner?");return e.json()})).then((t=>{r(t.error||t.message),i.writeFragment({id:`Project:${e.projectId}`,fragment:V.Ps`
            fragment UpdatedProject on Project {
              name
            }
          `,data:{name:n}}),e.onClose()})).catch((e=>{r(e.error||e.message)})).finally((()=>{o(!1)}))}(t)},children:[(0,T.tZ)(ae.f,{children:(0,T.BX)(we.NI,{id:"rename",children:[(0,T.tZ)(Ae.l,{children:"Project name"}),(0,T.tZ)(Kt.I,{isInvalid:!!t,defaultValue:e.projectName,name:"name",autoFocus:!0,required:!0}),t&&(0,T.tZ)(Q.x,{color:"red",marginTop:"2",children:t})]})}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{isLoading:n,isDisabled:n,type:"submit",children:"Rename"})})]})})}const gi=V.Ps`
  mutation RenameTeam($id: String!, $name: String!) {
    renameTeam(id: $id, name: $name) {
      id
      slug
      name
    }
  }
`;function mi(e){const{mutations:t,error:r}=function(){const[e,{error:t}]=(0,Ee.D)(gi);return{error:t,mutations:{renameTeam:(0,c.useCallback)(((t,r)=>e({variables:{id:t,name:r}})),[e])}}}(),[o,i]=(0,c.useState)(!1),[a,l]=(0,c.useState)(e.team.name),s=(0,c.useCallback)((async r=>{i(!0),r.preventDefault();try{const{data:r}=await t.renameTeam(e.team.id,a);null!=r&&r.renameTeam&&(window.location.href=n._.workspaceSettingsGeneral(r.renameTeam.id,r.renameTeam.slug)),i(!1),e.onClose()}catch(e){i(!1)}}),[t,e,a]),d=(0,c.useCallback)((e=>{l(e.target.value)}),[]);return(0,T.BX)(ce.Z,{title:"Rename workspace",onClose:e.onClose,children:[(0,T.tZ)(ae.f,{children:(0,T.BX)("form",{id:"rename-workspace-form",onSubmit:s,children:[(0,T.BX)(we.NI,{isRequired:!0,children:[(0,T.tZ)(Ae.l,{children:"Name"}),(0,T.tZ)(Kt.I,{autoFocus:!0,type:"text",name:"name",value:a,required:!0,onChange:d})]}),r&&(0,T.tZ)(Se.b,{status:"error",mt:2,children:(0,T.tZ)(ke.M,{error:r,defaultMessage:"Something went wrong while renaming the workspace."})})]})}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{form:"rename-workspace-form",type:"submit",isLoading:o,children:"Submit"})})]})}var fi=r(46084),hi=r(51297),yi=r(82324),bi=r(67858),Ii=r(57771);const vi=async(e,t)=>{await(0,li.V3)(e,t)},Oi=async(e,t)=>{await(0,li.pQ)(e,t)};var Ei=r(5127);const wi=(0,c.memo)((function({type:e,link:t,workspaceId:r,workspaceSlug:n,canChange:i,onSuccess:a,onClose:l}){const s=(0,He.d)(),[d,u]=(0,c.useState)(!1),g=d||!i,m=(0,c.useCallback)((()=>{if(d)return;if(!i)return De.Z.error({message:"Oops, we cannot let you do that! You need to be at least a workspace admin to change workspace invite links."});u(!0);(t?Oi:vi)(n,e).then((()=>a())).catch((e=>{De.Z.error({message:`We failed to ${t?"invalidate":"generate"} a link. Please try again later.`}),(0,o.D)(e,"error")})).finally((()=>u(!1)))}),[t,n,e,d,i,a]),f=(0,c.useCallback)((()=>{l(),s((e=>(0,T.tZ)(Ge.I,{workspaceId:r,type:"more-roles-link",onModalClose:e})))}),[l,s,r]);return(0,T.BX)(z.xu,{marginTop:4,children:[(0,T.tZ)(J.k,{justifyContent:"space-between",alignItems:"center",children:(0,T.tZ)(p.j,{feature:yi.kM[e],children:({canUseFeature:n})=>{var o;return(0,T.BX)(T.HY,{children:[(0,T.BX)(J.k,{alignItems:"center",children:[(0,T.BX)(Ae.l,{marginBottom:0,fontSize:"xs",color:"black",marginRight:1,children:[bi.Ck[e]," invite link",(0,T.tZ)(Et.u,{shouldWrapChildren:!0,placement:"top",label:null===(o=bi.L5.find((t=>t.id===e)))||void 0===o?void 0:o.desc,children:(0,T.tZ)(v.J,{as:O.TG$,ml:1,w:4,h:4,color:"gray.500"})})]}),!n&&(0,T.tZ)(Ii.g,{workspaceId:r})]}),(0,T.tZ)(b.r,{onClick:()=>n?m():f(),children:t?"Invalidate link":"Generate new link"})]})}})}),(0,T.tZ)(z.xu,{marginY:1,children:(0,T.tZ)(Ei.x,{value:null!=t?t:"The sharing link will appear here",isDisabled:null===t||g,successMessage:"Link has been copied to clipboard"})})]})})),Ai=V.Ps`
  query getTeamTokens($id: String!) {
    team(id: $id) {
      __typename
      ... on Team {
        id
        slug
        userRole
        memberLinkToken
        userLinkToken
        viewerLinkToken
      }
    }
  }
`,Pi=({onClose:e,workspaceSlug:t,workspaceId:r})=>{var n,o,i,c,l,s,d;const{data:u,refetch:p,loading:g}=(0,Y.a)(Ai,{variables:{id:r}});if("TeamUnauthorized"===(null==u||null===(n=u.team)||void 0===n?void 0:n.__typename))return null;const m=null!==(o=(0,hi.Y8)(null==u||null===(i=u.team)||void 0===i?void 0:i.memberLinkToken))&&void 0!==o?o:null,f=null!==(c=(0,hi.Y8)(null==u||null===(l=u.team)||void 0===l?void 0:l.viewerLinkToken))&&void 0!==c?c:null,h=null!==(s=(0,hi.Y8)(null==u||null===(d=u.team)||void 0===d?void 0:d.userLinkToken))&&void 0!==s?s:null,y=(null==u?void 0:u.team)&&(0,X.hQ)(u.team.userRole,a.Ag.ADMIN),b=g&&!u;return(0,T.tZ)(ce.Z,{title:"Workspace invite links",onClose:e,children:(0,T.BX)(ae.f,{withoutFooter:!0,children:[(0,T.tZ)(Ce.i,{children:"Share a link to invite anyone into the workspace."}),(0,T.tZ)(fi.O,{isLoaded:!b,children:(0,T.BX)(T.HY,{children:[(0,T.tZ)(wi,{link:m,type:a.Ag.EDITOR,workspaceSlug:t,workspaceId:r,canChange:!!y,onSuccess:p,onClose:e}),(0,T.tZ)(wi,{link:h,type:a.Ag.CONTRIBUTOR,workspaceSlug:t,workspaceId:r,canChange:!!y,onSuccess:p,onClose:e}),(0,T.tZ)(wi,{link:f,type:a.Ag.VIEWER,workspaceSlug:t,workspaceId:r,canChange:!!y,onSuccess:p,onClose:e})]})})]})})},_i=()=>{const e=(0,Oe.gX)((e=>e.profile.modal)),{profilesApi:t}=(0,Ze.mM)(),r="RenameProjectModal"===e.id?(0,T.tZ)(pi,{projectName:e.content.project.name,projectId:e.content.project.id,onClose:t.closeModal}):"RenameTeamModal"===e.id?(0,T.tZ)(mi,{team:e.content.team,onClose:t.closeModal}):"CancelPlanModal"===e.id?(0,T.tZ)(di,{balance:e.content.balance,workspaceId:e.content.workspaceId,onClose:t.closeModal}):"TeamInviteLinkModal"===e.id?(0,T.tZ)(Pi,{workspaceSlug:e.content.teamSlug,workspaceId:e.content.workspaceId,onClose:t.closeModal}):"ErrorMessage"===e.id?(0,T.tZ)(F,{message:e.content.errorMessage,onClose:t.closeModal}):"SignUpModal"===e.id?(0,T.tZ)(ci.Z,{step:a.AF.SIGN_UP,description:e.content,onCloseRequest:t.closeModal}):"BillingAlertModal"===e.id?(0,T.tZ)(Me,{workspaceId:e.content.workspaceId}):"IntegrationModal"===e.id?(0,T.tZ)(ai,{id:e.content.id,type:e.content.type,source:e.content.source,workspaceId:e.content.workspaceId,projectId:e.content.projectId,integrationApi:e.content.integrationApi,firstIntegration:e.content.firstIntegration,openConfirmationModalAfterCreation:e.content.openConfirmationModalAfterCreation,connectIntegrationToProject:e.content.connectIntegrationToProject,onIntegrationCreated:e.content.onIntegrationCreated,projectToRouteTo:e.content.projectToRouteTo}):"ConnectIntegrationModal"===e.id?(0,T.tZ)(lt,{integration:e.content.integration,workspaceId:e.content.workspaceId}):"TemplatesModal"===e.id?(0,T.tZ)(ve,{teamId:e.content.teamId,isPrivateProject:e.content.isPrivateProject,categoryId:e.content.categoryId,source:e.content.source,onCreatingProjectChange:e.content.onCreatingProjectChange,onDeleteProjectListCacheRequest:e.content.onDeleteProjectListCacheRequest,onClose:()=>{var r,n;t.closeModal(),null===(r=(n=e.content).onClose)||void 0===r||r.call(n)}}):void(null!==e.id&&(0,X.UT)(e));return(0,T.tZ)("div",{children:r})};var Ti=r(85014),Si=r(95766),Ci=r.n(Si),ji=r(5902),ki=r(26592),Ni=r(43405),Ri=r(63001);function Di({onClose:e}){const t=(0,ji.$j)(),r=(0,c.useMemo)((()=>Ci()(t,"scope")),[t]),n=(0,c.useMemo)((()=>{var e,t,n;return Zi([...(null!==(e=r.system)&&void 0!==e?e:[]).flatMap((e=>e.commands)),...(null!==(t=r.project)&&void 0!==t?t:[]).flatMap((e=>e.commands)),...(null!==(n=r.notebook)&&void 0!==n?n:[]).flatMap((e=>e.commands))])}),[r]),o=(0,c.useMemo)((()=>{var e,t,n,o,i,a,c,l,s,d,u,p,g,m;return Zi([...(null!==(e=r.block)&&void 0!==e?e:[]).flatMap((e=>e.commands)),...(null!==(t=r["void-block"])&&void 0!==t?t:[]).flatMap((e=>e.commands)),...(null!==(n=r["executable-block"])&&void 0!==n?n:[]).flatMap((e=>e.commands)),...(null!==(o=r["executable-monaco-block"])&&void 0!==o?o:[]).flatMap((e=>e.commands)),...(null!==(i=r["monaco-block"])&&void 0!==i?i:[]).flatMap((e=>e.commands)),...(null!==(a=r["code-block"])&&void 0!==a?a:[]).flatMap((e=>e.commands)),...(null!==(c=r["sql-block"])&&void 0!==c?c:[]).flatMap((e=>e.commands)),...(null!==(l=r["block-output"])&&void 0!==l?l:[]).flatMap((e=>e.commands)),...(null!==(s=r["markdown-block"])&&void 0!==s?s:[]).flatMap((e=>e.commands)),...(null!==(d=r["input-block"])&&void 0!==d?d:[]).flatMap((e=>e.commands)),...(null!==(u=r["visualization-block"])&&void 0!==u?u:[]).flatMap((e=>e.commands)),...(null!==(p=r["image-block"])&&void 0!==p?p:[]).flatMap((e=>e.commands)),...(null!==(g=r["text-block"])&&void 0!==g?g:[]).flatMap((e=>e.commands)),...(null!==(m=r["callout-block"])&&void 0!==m?m:[]).flatMap((e=>e.commands))])}),[r]);return(0,T.tZ)(ki.Z,{onClose:e,title:"Keyboard shortcuts",headerIcon:"?",isDark:!0,width:"AUTO",padding:"LARGE",headerType:"RICH",children:(0,T.BX)(x.m.div,{css:Ri.Tv("shortcuts"),children:[(0,T.tZ)(x.m.div,{css:Ri.WP("shortcuts"),children:(0,T.tZ)(Ni.Q,{title:"General actions",items:n})}),(0,T.tZ)(x.m.div,{css:Ri.so}),(0,T.tZ)(x.m.div,{css:Ri.WP("shortcuts"),children:(0,T.tZ)(Ni.Q,{title:"Block actions",items:o})})]})})}function Zi(e){return e.map((e=>e.name&&e.shortcuts.label?{keys:e.shortcuts.label.split(" + "),description:e.name}:null)).filter(Boolean)}function Mi(e){return(0,T.BX)(ce.Z,{title:e.title,closable:!1,children:[(0,T.tZ)(ae.f,{children:e.message}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{onClick:()=>window.location.reload(),children:"Refresh"})})]})}var xi=r(46250),Li=r(36178);const Bi=V.Ps`
  ${We.i}
  query RecentProjects($teamId: String, $limit: Int) {
    recentProjects(teamId: $teamId, limit: $limit) {
      ...ProjectListProject
    }
  }
`;function Ui(e){return(0,T.tZ)(Q.x,{fontSize:"md",color:"gray.950",fontWeight:"600",marginTop:6,children:e.children})}function Gi(e){const t=(0,c.useRef)(null);return(0,c.useEffect)((()=>{var r;e&&t.current&&(null===(r=t.current)||void 0===r||r.scrollIntoView({block:"nearest"}))}),[e]),t}var Hi=r(46023),Wi=r(37664);function Xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(r),!0).forEach((function(t){Fi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $i=(0,c.memo)((function({result:e,wrapperProps:t}){const r=(0,c.useMemo)((()=>{const t=[],r=e.split(/(<\/?xxxxx>)/).filter((e=>Boolean(e)));let n=!1;return r.forEach(((e,o)=>{if(e!==X.yu)return n&&e===X.IP?(t.push({highlight:!0,content:r[o-1]}),void(n=!1)):void(n||t.push({highlight:!1,content:e}));n=!0})),t}),[e]);return(0,T.tZ)(z.xu,qi(qi({},t),{},{children:r.map(((e,t)=>e.highlight?(0,T.tZ)(z.xu,{as:"span",background:"yellow.200",fontWeight:600,borderRadius:"sm",children:e.content},t):(0,T.tZ)(z.xu,{as:"span",children:e.content},t)))}))}));var Vi=r(50914),Yi=r(32976);const Ki=(0,c.memo)((function(e){return(0,T.tZ)(Yi.J,{menuButton:(0,T.tZ)(v.J,{as:O.bHd,width:5,height:5,pb:"2px"}),children:({open:t})=>t?(0,T.tZ)(Vi.k,{categoryId:e.categoryId,workspaceId:e.workspaceId,projectId:e.projectId,opened:t,url:e.url,onProjectRenameRequest:e.onProjectRenameRequest}):null})})),zi=["children"];function Ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(r),!0).forEach((function(t){ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ea(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ra(e){const{children:t}=e,r=ta(e,zi);return(0,T.tZ)(Q.x,Qi(Qi({fontSize:"xs",color:"gray.700",maxWidth:"100%",noOfLines:1,paddingRight:2},r),{},{children:t}))}const na=(0,c.memo)((function({breadcrumbs:e}){return e.length<=2?(0,T.tZ)(ra,{children:e.map((e=>e.name)).join("/")}):e.length>2?(0,T.BX)(ra,{children:[e[0].name,"/.../",e[e.length-1].name]}):(0,T.tZ)(z.xu,{})}));var oa=r(16183);const ia=(0,c.memo)((function({lastOpenedByMe:e}){return(0,T.tZ)(ra,{textAlign:"end",children:e?(0,T.BX)(T.HY,{children:["Opened ",(0,T.tZ)(oa.b,{date:new Date(e)})]}):"No recent activity"})}));function aa({children:e,onClick:t}){return(0,T.tZ)(J.k,{paddingX:4,paddingY:3,alignItems:"center",justifyContent:"space-between",cursor:"pointer",borderRadius:"md",_hover:{backgroundColor:"gray.100"},"data-testid":"search-result-wrapper",onClick:t,children:e})}const ca=(0,c.memo)((function({children:e,focused:t,project:r,highlightedProjectName:o,workspaceId:i,onClick:a}){const{id:l,breadcrumbs:s,name:d,author:u,last_opened_by_me:p}=r,{isPopoverOpen:g,openPopover:m,closePopover:f}=(0,Wi.v)({opened:!1}),h=(0,c.useMemo)((()=>(0,$.X)(n._.workspaceProject,r.slug)),[r.slug]),y=Gi(t);return(0,T.BX)(Pt.K,{gap:0,border:"1px solid",borderColor:"gray.300",borderRadius:"md",background:t?"gray.100":"white",ref:y,children:[(0,T.BX)(aa,{onClick:e=>a(h,{type:"Project",projectId:l},e.metaKey||e.ctrlKey),children:[(0,T.tZ)(J.k,{alignItems:"center",gap:2,flexGrow:2,noOfLines:1,maxWidth:"250px",children:(0,T.tZ)(Hi.G,{name:d,nameElement:o&&(0,T.tZ)($i,{result:o,wrapperProps:{mt:"2px","data-testid":"project-highlighted-result"}}),projectId:l,renaming:g,hoverColor:"gray.950",onClosePopoverRequest:f})}),(0,T.BX)(ne.r,{width:"440px",gridTemplateColumns:"3.5fr 3.5fr 3.5fr 0.5fr",justifyItems:"start",alignItems:"center",children:[(0,T.tZ)(na,{breadcrumbs:s}),(0,T.tZ)(ra,{children:null==u?void 0:u.name}),(0,T.tZ)(ia,{lastOpenedByMe:p}),(0,T.tZ)(Ki,{categoryId:null,projectId:l,workspaceId:i,url:h,onProjectRenameRequest:m})]})]}),e&&(0,T.tZ)(Pt.K,{borderTop:"1px solid",borderColor:"gray.300",borderRadius:"md",borderTopRadius:0,background:"gray.50",marginTop:"0 !important",spacing:1,paddingY:3,children:e})]})}));function la(){return(0,T.BX)(Pt.K,{gap:1,children:[(0,T.tZ)(me.ZP,{height:"48px"}),(0,T.tZ)(me.ZP,{height:"48px"}),(0,T.tZ)(me.ZP,{height:"48px"}),(0,T.tZ)(me.ZP,{height:"48px"}),(0,T.tZ)(me.ZP,{height:"48px"})]})}const sa=(0,c.memo)((function({selectedIndex:e,projects:t,loading:r,error:n,workspaceId:o,onResultClick:i}){return(0,T.BX)(Pt.K,{gap:2,paddingBottom:4,overflowY:"auto",children:[(0,T.tZ)(Ui,{children:"Recently opened projects"}),n&&(0,T.tZ)(Se.b,{status:"error",marginTop:6,children:(0,T.tZ)(ke.M,{error:n,defaultMessage:"There was a problem while loading recent projects."})}),r&&!t.length&&(0,T.tZ)(la,{}),!r&&!t.length&&!n&&(0,T.tZ)(Q.x,{fontSize:"cs",color:"gray.700",children:"There are no recently opened projects"}),t.map(((t,r)=>(0,T.tZ)(ca,{focused:r===e,project:t,workspaceId:o,onClick:(e,t,r)=>i(e,r)},t.id)))]})}));var da=r(44834);function ua(e,t){const[r,n]=(0,c.useState)(0),o=(0,c.useCallback)((()=>{n((t=>t===e-1?t:t+1))}),[e]),i=(0,c.useCallback)((()=>{n((e=>0===e?e:e-1))}),[]),a=(0,c.useCallback)((()=>{t(r)}),[t,r]);return(0,da.Z)("ArrowDown",o),(0,da.Z)("ArrowUp",i),(0,da.Z)("Enter",a),r}const pa=(0,c.memo)((function({workspaceId:e,onResultClick:t}){const{data:{recentProjects:r},loading:o,error:i}=function(e,t=50){var r;const{data:n,error:o,loading:i}=(0,Y.a)(Bi,{variables:{limit:t,teamId:e},fetchPolicy:"cache-and-network"});return{data:{recentProjects:null!==(r=null==n?void 0:n.recentProjects)&&void 0!==r?r:[]},loading:i,error:o}}(e),a=(0,c.useCallback)(((r,n)=>{(0,w.j)("Recent project clicked",{workspaceId:e}),t(r,n)}),[t,e]),l=(0,c.useCallback)((e=>{const t=r[e];t&&a((0,$.X)(n._.workspaceProject,t.slug),!1)}),[a,r]),s=ua(r.length,l);return(0,T.tZ)(sa,{selectedIndex:s,projects:r,loading:o,error:i,workspaceId:e,onResultClick:a})}));var ga=r(29656),ma=r(31249);const fa=(0,c.memo)((function({initialValue:e,searchResultsLoading:t,onSearchQueryRequest:r}){const n=(0,c.useRef)(null),[o,i]=(0,c.useState)(null!=e?e:"");(0,c.useEffect)((()=>{n.current&&(0,ma.x)(n.current)}),[]);const a=(0,c.useMemo)((()=>Ue()((e=>{r(e)}),250)),[r]),l=(0,c.useCallback)((e=>{i(e.target.value),a(e.target.value)}),[a]);return(0,T.BX)(Pe.B,{width:"100%",children:[(0,T.tZ)(Jt.Z,{pointerEvents:"none",children:t?(0,T.tZ)(go.$,{speed:"800ms"}):(0,T.tZ)(ga.Z,{as:O.Weu})}),(0,T.tZ)(Kt.I,{ref:n,type:"text",value:o,autoFocus:!0,"data-testid":"search-input",onChange:l})]})}));var ha=r(70199),ya=r(25159);const ba=(0,c.memo)((function({children:e,onClick:t}){return(0,T.tZ)(J.k,{role:"group",alignItems:"center",paddingLeft:5,cursor:"pointer",_hover:{bg:"gray.200"},minHeight:7,onClick:t,children:e})})),Ia=(0,c.memo)((function({children:e,notebookName:t}){return(0,T.tZ)(J.k,{justifyContent:"space-between",alignItems:"center",width:"100%",children:(0,T.BX)(J.k,{paddingLeft:4,width:"100%",position:"relative",fontSize:"xs",color:"gray.900",fontFamily:U.LZ.fontFamily.monospaceFontFamily,justifyContent:"space-between",children:[e,t&&(0,T.BX)(J.k,{_groupHover:{display:"flex"},alignItems:"center",position:"absolute",display:"none",maxWidth:"150px",paddingLeft:2,paddingRight:5,paddingY:2,top:0,right:0,background:"gray.200",height:"100%",children:[(0,T.tZ)(v.J,{as:O.t6u,boxSize:4,color:"gray.500"}),(0,T.tZ)(Q.x,{color:"gray.700",fontSize:"xs",noOfLines:1,children:t})]})]})})}));function va({icon:e,title:t}){return(0,T.BX)(J.k,{alignItems:"center",children:[(0,T.tZ)(re.J,{as:e,boxSize:4,marginRight:1,color:"gray.700"}),(0,T.tZ)(Q.x,{fontSize:"xxs",color:"gray.700",fontWeight:600,children:t})]})}const Oa=(0,c.memo)((function({workspaceId:e,workspaceSlug:t,block:r,project:n,onClick:o,result:i}){var a;const{icon:c,title:l}=function(e){switch(e){case"code":return{icon:ya.itk,title:"Code"};case"text-cell-p":case"text-cell-h1":case"text-cell-h2":case"text-cell-h3":case"text-cell-bullet":case"text-cell-callout":case"text-cell-todo":case"markdown":return{icon:ya.FxN,title:"Text"};case"sql":return{icon:ya.mYO,title:"SQL"};case"visualization":return{icon:ya.OT2,title:"Visualization"};case"image":return{icon:ya.Fwj,title:"Image"};case"input-text":case"input-select":case"input-slider":case"input-date":return{icon:ya.C3G,title:"Input"};default:(0,X.vE)(e)}}(r.block_type);return(0,T.BX)(ba,{onClick:i=>{var a;return o(function(e,t,r,n){var o,i;return`/workspace/${t}-${e}/project/${null==n?void 0:n.slug}/notebook/${null===(o=r.notebook)||void 0===o?void 0:o.name}-${null===(i=r.notebook)||void 0===i?void 0:i.id}#${r.id}`}(e,t,r,n),{type:"Block",projectId:n.id,blockId:r.id,notebookId:null===(a=r.notebook)||void 0===a?void 0:a.id},i.metaKey||i.ctrlKey)},children:[(0,T.tZ)(va,{icon:c,title:l}),(0,T.tZ)(Ia,{notebookName:null===(a=r.notebook)||void 0===a?void 0:a.name,children:(0,T.tZ)($i,{result:i,wrapperProps:{"data-testid":"block-highlighted-result"}})})]})}));var Ea=r(52475),wa=r(32085);const Aa=(0,c.memo)((function(e){return(0,T.tZ)(J.k,{flexDirection:"row",alignItems:"center",children:(0,T.tZ)(Yi.J,{menuButton:(0,T.tZ)(v.J,{as:O.bHd,width:5,height:5,pb:"2px"}),children:()=>(0,T.tZ)(wa.a,{workspaceId:e.workspaceId,categoryId:e.categoryId,onCategoryRenameRequest:e.onCategoryRenameRequest})})})})),Pa=(0,c.memo)((function({category:e,focused:t,highlightedCategoryName:r,workspaceId:o,onClick:i}){const{id:a,breadcrumbs:l,name:s,slug:d}=e,{isPopoverOpen:u,openPopover:p,closePopover:g}=(0,Wi.v)({opened:!1}),m=(0,c.useMemo)((()=>(0,$.X)(n._.workspaceCategory,d)),[d]),f=Gi(t);return(0,T.tZ)(Pt.K,{border:"1px solid",borderColor:"gray.300",borderRadius:"md",background:t?"gray.100":"white",ref:f,children:(0,T.BX)(aa,{onClick:e=>i(m,{type:"ProjectCategory",categoryId:a},e.ctrlKey||e.metaKey),children:[(0,T.tZ)(J.k,{alignItems:"center",gap:2,flexGrow:2,children:(0,T.tZ)(Ea.G,{categoryId:a,hoverColor:"gray.950",name:s,nameElement:r&&(0,T.tZ)($i,{result:r,wrapperProps:{mt:"2px","data-testid":"category-highlighted-result"}}),renaming:u,onClosePopoverRequest:g})}),(0,T.BX)(ne.r,{width:"440px",gridTemplateColumns:"10.5fr 0.5fr",justifyItems:"start",alignItems:"center",children:[(0,T.tZ)(na,{breadcrumbs:l}),(0,T.tZ)(Aa,{workspaceId:o,categoryId:a,onCategoryRenameRequest:p})]})]})})}));var _a=r(28607);const Ta=(0,c.memo)((function({comment:e,project:t,onClick:r,result:n}){var o;const a=e.notebook,l=(0,c.useCallback)((e=>{const{relativeUrlWithFile:n}=a?(0,_a.gC)({serverUrl:i.KB,project:t,notebookInDB:{id:a.id,name:a.name}}):{relativeUrlWithFile:""};r(n,{type:"Comment",projectId:t.id,notebookId:null==a?void 0:a.id},e.ctrlKey||e.metaKey)}),[a,r,t]);return(0,T.BX)(ba,{onClick:l,children:[(0,T.tZ)(va,{icon:ya.iSW,title:"Comment"}),(0,T.tZ)(Ia,{notebookName:null===(o=e.notebook)||void 0===o?void 0:o.name,children:(0,T.tZ)($i,{result:n,wrapperProps:{"data-testid":"comment-highlighted-result"}})})]})})),Sa=(0,c.memo)((function({notebook:e,project:t,onClick:r,result:n}){const o=(0,c.useCallback)((n=>{const{relativeUrlWithFile:o}=(0,_a.gC)({serverUrl:i.KB,project:t,notebookInDB:{id:e.notebookId,name:e.name}});r(o,{type:"Notebook",projectId:t.id,notebookId:e.notebookId},n.ctrlKey||n.metaKey)}),[e.name,e.notebookId,r,t]);return(0,T.BX)(ba,{onClick:o,children:[(0,T.tZ)(va,{icon:O.t6u,title:"Notebook"}),(0,T.tZ)(Ia,{children:(0,T.tZ)($i,{result:n,wrapperProps:{"data-testid":"notebook-highlighted-result"}})})]},e.notebookId)})),Ca=(0,c.memo)((function({workspaceId:e,workspaceSlug:t,focused:r,searchResult:n,onResultClick:o}){const i=n.container,a=(0,c.useMemo)((()=>{if("Project"!==(null==i?void 0:i.__typename))return null;const e=n.results.find((e=>"Project"===e.entity.__typename));return e?e.result:null}),[i,n.results]),l=(0,c.useMemo)((()=>{if("ProjectCategory"!==(null==i?void 0:i.__typename))return null;const e=n.results.find((e=>"ProjectCategory"===e.entity.__typename));return e?e.result:null}),[i,n.results]);if("ProjectCategory"===(null==i?void 0:i.__typename))return(0,T.tZ)(Pa,{focused:r,workspaceId:e,category:i,highlightedCategoryName:l,onClick:o});const s=i;if(!s)return null;const d=n.results.map(((r,n)=>"Block"===r.entity.__typename?(0,T.tZ)(Oa,{workspaceId:e,workspaceSlug:t,block:r.entity,result:r.result,project:s,onClick:o},`${r.entity.id}-${n}`):"Project"===r.entity.__typename?null:"Comment"===r.entity.__typename?(0,T.tZ)(Ta,{comment:r.entity,result:r.result,project:s,onClick:o},r.entity.id):"Notebook"===r.entity.__typename?(0,T.tZ)(Sa,{notebook:r.entity,project:s,result:r.result,onClick:o},r.entity.notebookId):null)).filter(Boolean);return(0,T.tZ)(ca,{workspaceId:e,project:s,highlightedProjectName:a,focused:r,onClick:o,children:d.length>0&&d},s.id)}));function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ka(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Na=(0,c.memo)((function({workspaceId:e,workspaceSlug:t,searchResponse:r,searchQuery:o,onResultClick:i}){const a=r.items,l=(0,c.useCallback)(((t,r={},n)=>{(0,w.j)("Search result clicked",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){ka(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({workspaceId:e},r)),i(t,n)}),[i,e]),s=(0,c.useCallback)((e=>{var t;const r=null===(t=a[e])||void 0===t?void 0:t.container;"ProjectCategory"===(null==r?void 0:r.__typename)&&l((0,$.X)(n._.workspaceCategory,r.slug)),"Project"===(null==r?void 0:r.__typename)&&l((0,$.X)(n._.workspaceProject,r.slug))}),[l,a]),d=ua(a.length,s);return(0,T.BX)(Pt.K,{justifyContent:"space-between",overflowY:"auto",gap:2,paddingBottom:6,children:[(0,T.BX)(Ui,{children:[r.total>100?"100+":r.total,' results for "',o,'"']}),0===a.length&&(0,T.tZ)(ha.g,{icon:O.U7Q,title:`No results for "${o}"`,description:"There are no results matching your query. Try to refine it."}),a.map(((r,n)=>{var o;return(0,T.tZ)(Ca,{focused:d===n,workspaceId:e,workspaceSlug:t,searchResult:r,onResultClick:l},null===(o=r.container)||void 0===o?void 0:o.id)}))]})}));var Ra=r(77673);const Da=["projectName","projectCategory","notebookName","blockCode","blockText","blockSql","comment"],Za={projectName:"Project title",projectCategory:"Folder title",notebookName:"Notebook title",blockCode:"Code",blockText:"Text",blockSql:"SQL",comment:"Comments"},Ma=(0,c.memo)((function({selected:e,onSelect:t}){return(0,T.tZ)(At.U,{spacing:4,marginLeft:1,marginTop:1,children:Da.map((r=>(0,T.tZ)(Ra.X,{"data-testid":`search-filter-${r}`,size:"md",icon:(0,T.tZ)(v.J,{as:O.nQG,boxSize:3}),isChecked:e[r],onChange:()=>t(r),children:(0,T.tZ)(Q.x,{fontSize:"xs",color:"gray.950",marginLeft:-1,children:Za[r]})},r)))})})),xa=(0,c.memo)((function({resultsSearchQuery:e,searchResponse:t,searchResultsLoading:r,searchResultsInitialLoading:n,selectedFilters:o,workspaceId:i,workspaceSlug:a,onResultClick:c,onSearchQueryRequest:l,handleOnFilterSelect:s}){return(0,T.BX)(Pt.K,{paddingX:6,height:"100%",overflowY:"auto",children:[(0,T.tZ)(J.k,{marginTop:10,width:"100%",children:(0,T.tZ)(fa,{initialValue:e,searchResultsLoading:r,onSearchQueryRequest:l})}),(0,T.tZ)(Ma,{selected:o,onSelect:s}),null!=e&&e.length&&!n?(0,T.tZ)(Na,{searchQuery:e,workspaceId:i,workspaceSlug:a,searchResponse:t,onResultClick:c}):(0,T.tZ)(pa,{workspaceId:i,onResultClick:c})]})}));var La=r(33581);function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach((function(t){Ga(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ga(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ha={projectName:!0,blockCode:!1,blockText:!1,blockSql:!1,comment:!0,notebookName:!0,projectCategory:!0};var Wa=r(14376);const Xa=V.Ps`
  ${We.i}
  query Search($teamId: String!, $searchQuery: String!, $filter: SearchFilterInput!) {
    me {
      __typename
      ... on AnonymousProfile {
        id
      }
      ... on Profile {
        id
      }
    }
    team(id: $teamId) {
      __typename
      ... on Team {
        id
        slug
        search(searchQuery: $searchQuery, filter: $filter) {
          __typename
          total
          failures
          items {
            container {
              __typename
              ... on Project {
                ...ProjectListProject
              }
              ... on ProjectCategory {
                id
                name
                slug
                breadcrumbs {
                  id
                  name
                }
              }
            }
            results {
              result
              entity {
                __typename
                ... on Notebook {
                  notebookId: id
                  name
                }
                ... on Comment {
                  id
                  commentContent: content
                  notebook {
                    id
                    name
                  }
                  author {
                    id
                    name
                    email
                  }
                }
                ... on ProjectCategory {
                  id
                  name
                }
                ... on Project {
                  id
                  name
                }
                ... on Block {
                  id
                  content
                  block_type: type
                  notebook {
                    id
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`;const qa=(0,c.memo)((function({workspaceId:e,onCloseRequest:t}){const r=(0,u.k6)(),n=(0,Ti.mr)((e=>e.config.lastSearchQuery)),o=(0,ut.I0)(),[i,a]=(0,c.useState)(n),{searchFilterInput:l,selectedFilters:s,onFilterSelect:d}=function(){const[e,t]=(0,La.Z)("fullTextSearchFilters",Ha),[r,n]=(0,c.useState)(e),o=(0,c.useMemo)((()=>Object.keys(r).reduce(((e,t)=>Ua(Ua({},e),{},{[t]:r[t]})),Ha)),[r]),i=(0,c.useCallback)((e=>{n((r=>{const n=Ua(Ua({},r),{},{[e]:!r[e]});return t(n),n}))}),[t]);return{searchFilterInput:o,selectedFilters:r,onFilterSelect:i}}(),{data:p,loading:g,initialLoading:m}=function(e){var t,r,n,o,i,a,l;const{data:s,loading:d,error:u=null}=(0,Y.a)(Xa,{variables:{teamId:e.workspaceId,searchQuery:e.searchQuery,filter:e.filter},fetchPolicy:"cache-and-network",skip:e.skip}),p=(0,c.useRef)(e.storedSearchQuery),[g,m]=(0,c.useState)(!0),f=(0,c.useMemo)((()=>({__typename:"SearchResponse",total:0,items:[],failures:!1})),[]),h=(0,c.useRef)(f);return"Team"===(null==s||null===(t=s.team)||void 0===t?void 0:t.__typename)&&null!==(r=s.team.search)&&void 0!==r&&r.failures&&Wa.y.warning({message:"Some content could not be searched. Search may be incomplete."}),(0,c.useEffect)((()=>{var e,t;h.current="Team"===(null==s||null===(e=s.team)||void 0===e?void 0:e.__typename)&&null!==(t=s.team.search)&&void 0!==t?t:f}),[s,f]),(0,c.useEffect)((()=>{p.current=e.searchQuery}),[g,d,e.searchQuery]),(0,c.useEffect)((()=>{(s||u)&&m(!1)}),[s,u,m]),{data:{team:{slug:"Team"===(null==s||null===(n=s.team)||void 0===n?void 0:n.__typename)?s.team.slug:""},userId:null!==(o=null==s||null===(i=s.me)||void 0===i?void 0:i.id)&&void 0!==o?o:null,results:d?h.current:"Team"===(null==s||null===(a=s.team)||void 0===a?void 0:a.__typename)&&null!==(l=s.team.search)&&void 0!==l?l:f,resultsSearchQuery:e.searchQuery?p.current:""},loading:d,initialLoading:d&&g,error:u}}({workspaceId:e,storedSearchQuery:n,searchQuery:i,skip:!i.length,filter:l}),f=(0,c.useCallback)(((e,n=!1)=>{n?window.open(e):(t(),r.push(e))}),[r,t]),h=(0,c.useCallback)((e=>{a(e),o({type:"SET_LAST_SEARCH_QUERY",lastSearchQuery:e})}),[o]);return(0,T.tZ)(xa,{resultsSearchQuery:p.resultsSearchQuery,searchResponse:p.results,searchResultsLoading:g,searchResultsInitialLoading:m,workspaceId:e,workspaceSlug:p.team.slug,onResultClick:f,onSearchQueryRequest:h,handleOnFilterSelect:d,selectedFilters:s})})),Fa=(0,c.memo)((function({workspaceId:e,onCloseRequest:t}){return(0,T.BX)(xi.u_,{scrollBehavior:"inside",isOpen:!0,onClose:t,children:[(0,T.tZ)(Li.Z,{}),(0,T.tZ)(wt.h,{width:"800px",maxWidth:"800px",children:(0,T.tZ)(qa,{workspaceId:e,onCloseRequest:t})})]})})),$a=(0,c.memo)((function({modalState:e,workspaceId:t,onCloseModalRequest:r}){return e.openedModal===A.Qi.REFRESH_MODAL?(0,T.tZ)(Mi,{title:e.title,message:e.message}):e.openedModal===A.Qi.SHORTCUTS_CHEAT_SHEETS_MODAL?(0,T.tZ)(Di,{onClose:r}):e.openedModal===A.Qi.SEARCH_MODAL?(0,T.tZ)(Fa,{workspaceId:t,onCloseRequest:r}):e.openedModal===A.Qi.SIGN_IN_MODAL?(0,T.tZ)(ci.Z,{step:a.AF.SIGN_UP,headingText:e.title,description:"Create an account with Deepnote, save your projects and get free compute.",onCloseRequest:r,redirectTo:e.redirectTo}):null})),Va=(0,c.memo)((function({workspaceId:e}){const t=(0,ut.I0)(),r=(0,Ti.mr)((e=>e.modalManager),ut.wU),n=(0,c.useCallback)((()=>{t({type:A.wO.CLOSE_MODAL})}),[t]);return(0,T.tZ)($a,{modalState:r,workspaceId:e,onCloseModalRequest:n})}));var Ya=r(40972),Ka=r(99201),za=r(50137);function Ja({children:e,fallback:t}){const{data:{anonymous:r},loading:n}=(0,Ka.X)();return n?null:r?t?(0,T.tZ)(T.HY,{children:t}):(0,T.tZ)(za.default,{}):(0,T.tZ)(T.HY,{children:e})}var Qa=r(669),ec=r(10959);function tc({children:e}){const{data:{userDetails:t},loading:r}=(0,Qa.P)();return r?null:null!=t&&t.suspended?(0,T.tZ)(ec.Q,{type:"user"}):(0,T.tZ)(T.HY,{children:e})}const rc=({onModalClose:e})=>{const t=(0,Bt.Nt)({name:a.yh.ACADEMIA,version:Bt.q2});return(0,T.BX)(_t.u,{closeOnOverlayClick:!0,isOpen:!0,onClose:e,size:"lg",isCentered:!0,children:[(0,T.tZ)(Tt.Z,{}),(0,T.BX)(wt.h,{children:[(0,T.tZ)(St.o,{}),(0,T.tZ)(J.k,{justifyContent:"center",children:(0,T.tZ)(ue.M,{width:"436px",height:"160px",children:(0,T.tZ)(v.J,{w:8,h:8,as:O.anp,color:"blue.600"})})}),(0,T.BX)(Ct.x,{pt:5,children:["Welcome to your free ",t," plan"]}),(0,T.tZ)(ae.f,{children:(0,T.tZ)(Ce.i,{children:"Were thrilled to help you on your data science journey."})}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{colorScheme:"blue",onClick:e,children:"Continue"})})]})]})},nc=()=>{const e=function(){const{search:e}=(0,u.TH)();return(0,c.useMemo)((()=>new URLSearchParams(e)),[e])}().get("welcome-to-edu-plan"),[t,r]=(0,c.useState)(!0),n=()=>{r(!1)};return e&&t?(0,T.tZ)(rc,{onModalClose:n}):null},oc=V.Ps`
  query GetWorkspaceSeenAnnouncements($id: String!) {
    me {
      ... on Profile {
        id
      }
      ... on AnonymousProfile {
        id
      }
    }
    team(id: $id) {
      __typename
      ... on Team {
        id
        seenAnnouncements {
          id
          name
          createdAt
          planId
        }
      }
    }
  }
`,ic=V.Ps`
  mutation UpdateWorkspaceSeenAnnouncements(
    $team_id: String!
    $seenAnnouncement: WORKSPACE_ANNOUNCEMENT_ENUM!
    $planId: Int
  ) {
    addSeenAnnouncementForWorkspace(team_id: $team_id, seenAnnouncement: $seenAnnouncement, planId: $planId) {
      id
      seenAnnouncements {
        id
        name
        createdAt
        planId
      }
    }
  }
`;const ac=V.Ps`
  query GetWorkspaceTrialStatus($id: String!) {
    team(id: $id) {
      __typename
      ... on Team {
        userRole
        trialStatuses {
          trialPlanId
          trialStatus
          planMemberUserIds
        }
      }
    }
  }
`;var cc=r(73185),lc=r(18887);const sc=(0,c.memo)((function({userId:e,seenAnnouncements:t,workspaceId:r,userRole:n,trialStatuses:o,onCloseAnnouncementRequest:i}){const a=(({trialStatuses:e,seenAnnouncements:t,userId:r})=>{const n=e.filter((e=>"TRIAL_EXPIRED"===e.trialStatus));return n.length<=0?[]:n.map((e=>{var n;const o=null==e||null===(n=e.planMemberUserIds)||void 0===n?void 0:n.includes(r),i=t.filter((t=>"WORKSPACE_PLAN_TRIAL_EXPIRED"===t.name&&t.planId===e.trialPlanId)).length>0;return{planId:e.trialPlanId,shouldBeAcknowledged:Boolean(o)&&!i}}))})({trialStatuses:o,seenAnnouncements:t,userId:e}),l=(0,c.useCallback)((e=>{i({name:"WORKSPACE_PLAN_TRIAL_EXPIRED",planId:e})}),[i]);return(0,T.tZ)(T.HY,{children:a.map((e=>e.shouldBeAcknowledged?(0,T.tZ)(lc.p,{workspaceId:r,type:(0,cc.wu)(n),onModalClose:()=>l(e.planId)},`downgrade-modal-${e.planId}`):null))})})),dc=(0,c.memo)((function({workspaceId:e}){const{data:{userId:t,seenAnnouncements:r},loading:n,error:o,mutations:i}=function(e){var t,r,n,o;const{data:i,loading:a,error:l}=(0,Y.a)(oc,{variables:{id:e}}),[s,{error:d}]=(0,Ee.D)(ic),u=(0,c.useCallback)((t=>s({variables:{team_id:e,seenAnnouncement:t.name,planId:t.planId}})),[s,e]);return{data:{userId:"Profile"===(null==i||null===(t=i.me)||void 0===t?void 0:t.__typename)||"AnonymousProfile"===(null==i||null===(r=i.me)||void 0===r?void 0:r.__typename)?i.me.id:"",seenAnnouncements:"Team"===(null==i||null===(n=i.team)||void 0===n?void 0:n.__typename)?null==i||null===(o=i.team)||void 0===o?void 0:o.seenAnnouncements:[]},error:null!=l?l:d,loading:a,mutations:{addSeenAnnouncement:u}}}(e),{data:{trialStatuses:a,userRole:l},loading:s,error:d}=function(e){var t,r;const{data:n,loading:o,error:i}=(0,Y.a)(ac,{fetchPolicy:"cache-first",variables:{id:e}});return{data:{userRole:"Team"===(null==n||null===(t=n.team)||void 0===t?void 0:t.__typename)?n.team.userRole:void 0,trialStatuses:"Team"===(null==n||null===(r=n.team)||void 0===r?void 0:r.__typename)?n.team.trialStatuses:[]},loading:o,error:i}}(e),u=n||s,p=null!=o?o:d,g=(0,c.useCallback)((async(e,t)=>{await i.addSeenAnnouncement(e),null==t||t()}),[i]);return!r||u||p?null:(0,T.tZ)(sc,{userId:t,workspaceId:e,seenAnnouncements:r,userRole:l,trialStatuses:a,onCloseAnnouncementRequest:g})}));var uc=r(63791),pc=r(55111);function gc({children:e}){const{setData:t}=(0,c.useContext)(pc.e),{workspaceSlugWithId:r}=(0,u.UO)(),{id:n,slug:o}=(0,uc.bN)(r);return(0,c.useEffect)((()=>{t&&n&&o&&t({workspaceId:n,workspaceSlug:o})}),[n,o,t]),(0,T.tZ)(T.HY,{children:e({workspaceId:n,workspaceSlug:o})})}var mc=r(72558);function fc({children:e}){const t=(0,c.useRef)(null);return(0,T.BX)(J.k,{ref:t,position:"absolute",inset:0,"data-debug-id":"workspace-wrapper-flex-outer",children:[(0,T.tZ)("style",{children:"body { overflow: hidden; }"}),(0,T.tZ)(mc.h,{containerRef:t,children:(0,T.tZ)(pt.eJ,{children:(0,T.tZ)(He.D,{children:(0,T.tZ)(J.k,{position:"absolute",inset:0,flexDirection:"row","data-debug-id":"workspace-wrapper-flex-inner",children:e})})})})]})}var hc=r(13277);function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ic=(0,c.memo)((function(){return(0,c.useEffect)((()=>{(0,w.e5)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(r),!0).forEach((function(t){bc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,w.Gc)()))})),null}));var vc=r(31222);const Oc=(0,c.memo)((function({workspaceId:e}){var t;const r=(0,u.$B)(n._.workspaceProjectPath(":workspaceSlugWithId",":projectSlug")),o=null==r||null===(t=r.params)||void 0===t?void 0:t.projectSlug;return(0,c.useEffect)((()=>{(0,w.W)("Workspace loaded",{workspaceId:e})}),[e]),o?(0,T.tZ)(Ec,{workspaceId:e,activeProjectSlug:o}):(0,T.tZ)(wc,{workspaceId:e})})),Ec=(0,c.memo)((function({activeProjectSlug:e,workspaceId:t}){var r;const n=null===(r=(0,uc.ae)(e))||void 0===r?void 0:r.id,{data:{userAccessType:o}}=(0,vc.m)({projectId:null!=n?n:"",skip:!n}),{data:i}=(0,Qa.P)();return(0,c.useEffect)((()=>{var e,r,n,a,c,l;o&&i&&((0,w.kG)(t),(0,w.e5)({workspaceId:t,createdAt:null==i||null===(e=i.userDetails)||void 0===e?void 0:e.created_at,isOnboarded:null==i||null===(r=i.userDetails)||void 0===r?void 0:r.is_onboarded,projectRole:o,userEmail:null==i||null===(n=i.userDetails)||void 0===n?void 0:n.email,userName:`${null==i||null===(a=i.userDetails)||void 0===a?void 0:a.name}`,firstName:null==i||null===(c=i.userDetails)||void 0===c?void 0:c.name,lastName:null==i||null===(l=i.userDetails)||void 0===l?void 0:l.last_name}))}),[n,o,t,i]),null})),wc=(0,c.memo)((function({workspaceId:e}){return(0,c.useEffect)((()=>{(0,w.kG)(e),(0,w.e5)({workspaceId:e})}),[e]),null}));var Ac=r(60498);const Pc=(0,c.memo)((function(e){const[t,r]=(0,c.useState)(!0);(0,c.useEffect)((()=>{const t=setTimeout((()=>{r(!1),(0,w.j)("Terms of service modal triggered",{workspaceId:e.workspaceId})}),2e3);return()=>{clearTimeout(t)}}),[e.workspaceId]);const o=(0,c.useCallback)((()=>{e.onCloseModalRequest("UPDATE_PRIVACY_AND_TERMS_2022_MODAL"),(0,w.j)("Terms of service accepted",{workspaceId:e.workspaceId}),r(!0)}),[e]);return t?null:(0,T.BX)(xi.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:()=>{r(!0)},size:"xl",isCentered:!0,children:[(0,T.tZ)(Tt.Z,{}),(0,T.BX)(wt.h,{"data-cy":pe.AkQ,children:[(0,T.tZ)(J.k,{alignItems:"center",justifyContent:"center",marginTop:6,marginBottom:6,minHeight:"140px",sx:{img:{borderRadius:"8px",maxWidth:"100%"}},children:(0,T.tZ)(L.E,{src:"/static/terms-and-services-modal-illu.webp",alt:"Weve updated our terms and policies - thumbnail"})}),(0,T.tZ)(Ct.x,{children:"Weve updated our terms and policies"}),(0,T.BX)(ae.f,{children:[(0,T.tZ)(Q.x,{marginY:4,children:"Weve updated our Terms of Service and Privacy Policy in order to make them more transparent and understandable to you."}),(0,T.tZ)(Q.x,{marginY:4,children:"By continuing, you agree to these terms. If you havent had a chance to review these updated documents, you can find them below:"}),(0,T.BX)(Ac.QI,{children:[(0,T.tZ)(Ac.HC,{marginLeft:5,children:(0,T.tZ)(b.r,{href:n._.terms(),children:"Terms of Service"})}),(0,T.tZ)(Ac.HC,{marginLeft:5,children:(0,T.tZ)(b.r,{href:n._.privacy(),children:"Privacy Policy"})})]})]}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{"data-cy":pe.Re1,onClick:o,children:"Continue"})})]})]})}));function _c(){return(0,T.tZ)("div",{style:{position:"relative",paddingBottom:"47.5%",height:0},children:(0,T.tZ)("iframe",{src:"https://www.loom.com/embed/b8bc181f7d294579a5dd6c08d5f70ebc",frameBorder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}})})}const Tc=(0,c.memo)((function({onCloseModalRequest:e}){const t=(0,c.useCallback)((()=>{e("WORKSPACE_ONBOARDING_MODAL")}),[e]);return(0,T.BX)(ce.Z,{title:"The new Deepnote experience",onClose:t,children:[(0,T.BX)(ae.f,{children:[(0,T.tZ)(Q.x,{children:"We are excited to introduce you to Workspaces; a collaborative space for your personal and team data science work. We have made some exciting changes and would love your feedback!"}),(0,T.BX)(J.k,{marginTop:6,children:[(0,T.tZ)(v.J,{as:O.vRc,color:"green.500",w:4,h:4,mr:"10px"}),(0,T.BX)(Q.x,{children:["All your projects are always accessible on the left, switch with just ",(0,T.tZ)("b",{children:"one click"})]})]}),(0,T.BX)(J.k,{marginTop:3,children:[(0,T.tZ)(v.J,{as:O.vRc,color:"green.500",w:4,h:4,mr:"10px"}),(0,T.BX)(Q.x,{children:["Create ",(0,T.tZ)("b",{children:"folders"})," to easily categorize your projects"]})]}),(0,T.BX)(J.k,{marginTop:3,children:[(0,T.tZ)(v.J,{as:O.vRc,color:"green.500",w:4,h:4,mr:"10px"}),(0,T.BX)(Q.x,{children:["Drag and drop folders or projects and create an ",(0,T.tZ)("b",{children:"organized workspace"})]})]}),(0,T.BX)(J.k,{marginTop:3,children:[(0,T.tZ)(v.J,{as:O.vRc,color:"green.500",w:4,h:4,mr:"10px"}),(0,T.BX)(Q.x,{children:["Instantly ",(0,T.tZ)("b",{children:"switch between"})," different Workspaces (formerly Teams)"]})]}),(0,T.tZ)(z.xu,{marginTop:6,children:(0,T.tZ)(_c,{})})]}),(0,T.tZ)(je.m,{children:(0,T.tZ)(te.z,{onClick:t,children:"Explore Workspace"})})]})})),Sc=(0,c.memo)((function({seenAnnouncements:e,userCreatedAt:t,workspaceId:r,onCloseAnnouncementRequest:n}){const o=!e.includes("WORKSPACE_ONBOARDING_MODAL");return!e.includes("UPDATE_PRIVACY_AND_TERMS_2022_MODAL")&&t&&t<new Date("2022-11-28").getTime()?(0,T.tZ)(Pc,{workspaceId:r,onCloseModalRequest:n}):o&&t&&t<new Date("2022-04-12").getTime()?(0,T.tZ)(Tc,{onCloseModalRequest:n}):null}));var Cc=r(37321);const jc=(0,c.memo)((function({workspaceId:e}){var t;const{data:r,loading:n,error:o,mutations:i}=(0,Cc.M)(),{data:{userDetails:a}}=(0,Qa.P)(),l=(0,c.useCallback)((async(e,t)=>{await i.addSeenAnnouncement(e),null==t||t()}),[i]);return n||o?null:(0,T.tZ)(Sc,{seenAnnouncements:r.seenAnnouncements,userCreatedAt:null!==(t=null==a?void 0:a.created_at)&&void 0!==t?t:null,workspaceId:e,onCloseAnnouncementRequest:l})}));function kc(e){return`last-active-workspace-url-${e}`}function Nc(e){const[t,r]=(0,La.Z)(kc(e),"");return[t,r]}const Rc=(0,c.memo)((function({workspaceId:e}){const t=(0,u.TH)(),{pathname:r}=t,[,n]=Nc(e);return(0,c.useEffect)((()=>{n(r)}),[r,n]),null}));var Dc=r(44529),Zc=r(80189),Mc=r(32784),xc=r(81830);const Lc=(0,c.memo)((function(){return(0,T.tZ)(xc.s,{title:"Internal server error",description:(0,T.BX)(T.HY,{children:["Something went wrong. Please try again later or"," ",(0,T.tZ)(b.r,{isExternal:!0,href:"mailto:help@deepnote.com",children:"contact our support"}),"."]})})}));var Bc=r(19234),Uc=r(81791),Gc=r(67379),Hc=r(98627),Wc=r(27960);var Xc=r(46556);const qc=(0,c.memo)((function({userId:e,workspaces:t,redirectToPageWithinExistingWorkspace:r}){const[o]=(0,Xc.s)(e),[i]=Nc(o),{data:{gettingStartedWorkspaceUrl:a}}=function(e){var t;const{data:r,loading:o,error:i}=(0,Hc.p)(e),{data:a,isLoading:c}=(0,Wc.h)(e),{data:{slug:l}}=(0,Fe.z)(e);if(o||c)return{data:{gettingStartedWorkspaceUrl:null},loading:!0};if(i)return{data:{gettingStartedWorkspaceUrl:null},loading:!1,error:i};const s=null===(t=r.team)||void 0===t?void 0:t.activePlan.planName;if(!s)return{data:{gettingStartedWorkspaceUrl:null},loading:!1,error:new Error("Missing active plan name in billing data")};const d=(null==a?void 0:a.metaData.completedSteps)!==(null==a?void 0:a.metaData.totalSteps);return(0,Bt.YE)(s)&&d?{data:{gettingStartedWorkspaceUrl:n._.gettingStarted(e,null!=l?l:"")},loading:!1}:{data:{gettingStartedWorkspaceUrl:null},loading:!1}}(o),[c]=t;if(r)return(0,T.tZ)(u.l_,{to:r(c.id,c.slug)});const l=o&&t.find((e=>e.id===o));return l?(0,T.tZ)(u.l_,{to:a||i||n._.workspace(l.id,l.slug)}):(0,T.tZ)(u.l_,{to:n._.workspace(c.id,c.slug)})})),Fc=(0,c.memo)((function({redirectToPageWithinExistingWorkspace:e,workspaceId:t}){const{data:{workspaces:r},loading:o,error:i}=(0,Zc.y)(),{data:{userDetails:a},error:c}=(0,Qa.P)(),{data:{workspaces:l},loading:s}=(0,Uc.E)(),{commonApi:d}=(0,_.WG)();if(o||s)return null;if("Profile"!==(null==a?void 0:a.__typename)&&t)return(0,T.tZ)(Gc.Z,{preloadedState:{workspaceId:t}});if("Profile"!==(null==a?void 0:a.__typename))return(0,T.tZ)(za.default,{});if(i&&(0,Mc.H0)(i,Dc.c.USER_SUSPENDED))return(0,T.tZ)(Bc.B,{anonymous:a.is_anonymous,type:"user",onOpenSupportChatRequest:d.openSupportChat});if(i||c)return(0,T.tZ)(Lc,{});if(null==a||!a.id)return(0,T.tZ)(za.default,{});return!(null!=r&&r.length||null!=l&&l.length)?(0,T.tZ)(u.l_,{to:n._.createFirstWorkspace()}):(0,T.tZ)(qc,{workspaces:[...null!=r?r:[],...null!=l?l:[]],userId:a.id,redirectToPageWithinExistingWorkspace:e})}));var $c=r(80624),Vc=r(57313),Yc=r(72421);const Kc=(0,c.memo)((function({workspaceId:e}){return(0,Vc.q)(e,{fetchPolicy:"cache-first"}),(0,Yc.W)(e,{fetchPolicy:"cache-first"}),(0,Fe.z)(e,{fetchPolicy:"cache-first"}),null}));var zc=r(7730),Jc=r(30577),Qc=r(92020),el=r(50657),tl=r(24452);const rl=V.Ps`
  ${We.i}
  query GetPublishedAppProjectList($workspaceId: String!, $searchQuery: String, $orderBy: String) {
    me {
      __typename
      ... on Profile {
        id
      }
    }
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        userRole
        publishedProjects(searchQuery: $searchQuery, orderBy: $orderBy) {
          ...ProjectListProject
        }
      }
    }
  }
`,nl={teamId:null,userId:null,userRole:null,projects:[]};var ol=r(67989);function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach((function(t){cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ll=(0,c.memo)((function(e){return(0,T.tZ)(Qc.$T,{children:(0,T.tZ)(ol.m,al({},e))})})),sl=(0,c.memo)((function(e){const[t,r]=(0,c.useState)(""),[o,i]=(0,el.f)(),{data:a,loadingInitially:l,error:s}=function(e){var t,r,n,o,i,a,c,l,s,d,u;const{data:p,loading:g,networkStatus:m,error:f}=(0,Y.a)(rl,{variables:{workspaceId:e.workspaceId,searchQuery:e.searchQuery,orderBy:e.orderBy},fetchPolicy:"cache-and-network"});return"TeamUnauthorized"===(null==p||null===(t=p.team)||void 0===t?void 0:t.__typename)||"AnonymousProfile"===(null==p||null===(r=p.me)||void 0===r?void 0:r.__typename)?{data:nl,loading:g,loadingInitially:g&&(m===tl.I.loading&&!p||m===tl.I.setVariables),networkStatus:m,error:f}:{data:{teamId:null!==(n=null==p||null===(o=p.team)||void 0===o?void 0:o.id)&&void 0!==n?n:nl.teamId,userId:"Profile"===(null==p||null===(i=p.me)||void 0===i?void 0:i.__typename)&&null!==(a=null==p||null===(c=p.me)||void 0===c?void 0:c.id)&&void 0!==a?a:nl.userId,userRole:null!==(l=null==p||null===(s=p.team)||void 0===s?void 0:s.userRole)&&void 0!==l?l:nl.userRole,projects:null!==(d=null==p||null===(u=p.team)||void 0===u?void 0:u.publishedProjects)&&void 0!==d?d:nl.projects},loading:g,loadingInitially:g&&(m===tl.I.loading&&!p||m===tl.I.setVariables),networkStatus:m,error:f}}({workspaceId:e.workspaceId,searchQuery:t,orderBy:o});return(0,T.tZ)(Qc.$T,{children:(0,T.tZ)(ll,{workspaceId:e.workspaceId,userId:a.userId,categoryId:null,projects:a.projects,currentUserMemberRole:a.userRole,loading:l,error:s,orderBy:o,searchQuery:t,onOrderRequest:i,onSearchRequest:r,emptyDialog:(0,T.tZ)(ha.g,{icon:O.ugZ,title:"Published apps will appear here",description:(0,T.BX)(z.xu,{maxWidth:680,children:["Creating an app allows you to organize and hide notebook blocks to present key insights from your projects. Workspace members can then find them here."," ",(0,T.tZ)(b.r,{href:n._.docsPage("publish-projects"),children:"Learn more"})]})})})})}));var dl=r(67259);function ul({workspaceId:e}){return(0,T.BX)(Jc.G,{topbarContent:(0,T.tZ)(dl.F,{workspaceId:e,title:"Published apps"}),children:[(0,T.tZ)(zc.X,{title:"Published apps"}),(0,T.tZ)(sl,{workspaceId:e})]})}const pl=(0,c.memo)(ul),gl=(0,Ya.Z)((()=>r.e(6876).then(r.bind(r,26876)))),ml=(0,Ya.Z)((()=>r.e(4687).then(r.bind(r,84687)))),fl=(0,Ya.Z)((()=>r.e(7769).then(r.bind(r,67769)))),hl=(0,Ya.Z)((()=>r.e(9720).then(r.bind(r,69720)))),yl=(0,Ya.Z)((()=>r.e(8955).then(r.bind(r,48955)))),bl=(0,Ya.Z)((()=>r.e(3858).then(r.bind(r,23858)))),Il=(0,Ya.Z)((()=>r.e(3341).then(r.bind(r,93341)))),vl=(0,Ya.Z)((()=>r.e(5452).then(r.bind(r,45452)))),Ol=(0,Ya.Z)((()=>Promise.all([r.e(8101),r.e(6577),r.e(8719),r.e(2004),r.e(8893),r.e(4403)]).then(r.bind(r,74403)))),El=(0,Ya.Z)((()=>r.e(9722).then(r.bind(r,99722)))),wl=(0,Ya.Z)((()=>r.e(5759).then(r.bind(r,35759)))),Al=(0,Ya.Z)((()=>Promise.all([r.e(1928),r.e(1630)]).then(r.bind(r,1630)))),Pl=(0,Ya.Z)((()=>r.e(3338).then(r.bind(r,63338)))),_l=(0,Ya.Z)((()=>r.e(1754).then(r.bind(r,71754)))),Tl=(0,Ya.Z)((()=>r.e(818).then(r.bind(r,40818)))),Sl=(0,Ya.Z)((()=>Promise.resolve().then(r.bind(r,50137)))),Cl=e=>{console.log(e),(0,o.D)(e,"fatal",{errorBoundary:"Workspace"})},jl=()=>{const e=(0,Ti.mr)((e=>e.config.isSupportedBrowser)),t=!(0,i.sk)()&&/bot|google/i.test(window.navigator.userAgent),{history:r}=(0,_.WG)();return e||t?(0,T.tZ)(d.ErrorBoundary,{onError:Cl,FallbackComponent:()=>(0,T.tZ)(W.Y,{}),children:(0,T.tZ)(l.W,{backend:s.PD,children:(0,T.tZ)(u.F0,{history:r,children:(0,T.tZ)(c.Suspense,{fallback:(0,T.tZ)("span",{}),children:(0,T.BX)(u.rs,{children:[(0,T.BX)(u.AW,{path:n._.onboarding(),children:[(0,T.tZ)(Ic,{}),(0,T.tZ)(_l,{})]}),(0,T.tZ)(u.AW,{path:n._.joinWorkspace(),children:(0,T.tZ)(Tl,{})}),(0,T.tZ)(u.AW,{path:n._.workspaceRoot(),exact:!0,children:(0,T.tZ)(Fc,{})}),(0,T.BX)(u.AW,{path:n._.workspaceRootAfterSignup(),exact:!0,children:[(0,T.tZ)(Ic,{}),(0,T.tZ)(Fc,{})]}),(0,T.tZ)(u.AW,{path:n._.createNewWorkspacePathWithoutWorkspace(),exact:!0,children:(0,T.tZ)(Fc,{redirectToPageWithinExistingWorkspace:(e,t)=>n._.createNewWorkspace(e,t)})}),(0,T.tZ)(u.AW,{path:n._.accountSettingsPathWithoutWorkspace(),exact:!0,children:(0,T.tZ)(Fc,{redirectToPageWithinExistingWorkspace:(e,t)=>n._.accountSettings(e,t)})}),(0,T.tZ)(u.AW,{path:n._.workspacePath(":workspaceSlugWithId"),children:(0,T.tZ)(gc,{children:({workspaceId:e,workspaceSlug:t})=>e?(0,T.BX)(T.HY,{children:[(0,T.tZ)(Kc,{workspaceId:e}),(0,T.tZ)(M.C,{workspaceId:e,children:(0,T.tZ)(Z.cp,{workspaceId:e,children:(0,T.BX)(fc,{children:[(0,T.tZ)(u.AW,{path:n._.workspacePath(":workspaceSlugWithId"),children:(0,T.BX)(Ja,{fallback:(0,T.tZ)(T.HY,{}),children:[(0,T.tZ)(Oc,{workspaceId:e}),(0,T.BX)(u.rs,{children:[(0,T.tZ)(u.AW,{path:n._.workspaceProjectPath(":workspaceSlugWithId",":projectSlug")}),(0,T.tZ)(u.AW,{children:(0,T.tZ)($c.C,{workspaceId:e})})]}),(0,T.tZ)(Rc,{workspaceId:e}),(0,T.tZ)(jc,{workspaceId:e}),(0,T.tZ)(dc,{workspaceId:e})]})}),(0,T.tZ)(tc,{children:(0,T.tZ)(c.Suspense,{fallback:(0,T.tZ)("span",{}),children:(0,T.BX)(u.rs,{children:[(0,T.tZ)(u.AW,{path:n._.workspaceIntegrationsPath(":workspaceSlugWithId"),exact:!0,children:(0,T.tZ)(hc.X,{teamAction:a.r_.VIEW_INTEGRATIONS,workspaceId:e,fallback:(0,T.tZ)(Fc,{workspaceId:e}),children:(0,T.tZ)(gl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.workspaceSettingsPath(":workspaceSlugWithId"),children:(0,T.tZ)(hc.X,{teamAction:a.r_.VIEW_MEMBERS,workspaceId:e,fallback:(0,T.tZ)(hc.X,{teamAction:a.r_.VIEW_GUEST_SETTINGS,workspaceId:e,fallback:(0,T.tZ)(Fc,{workspaceId:e}),children:(0,T.tZ)(Al,{workspaceId:e,isGuest:!0})}),children:(0,T.tZ)(Al,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.accountSettingsPath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(Pl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.workspacePath(":workspaceSlugWithId"),exact:!0,children:(0,T.BX)(hc.X,{teamAction:a.r_.VIEW_PROJECTS,workspaceId:e,fallback:(0,T.tZ)(hc.X,{teamAction:a.r_.VIEW_GUEST_PROJECTS,workspaceId:e,fallback:(0,T.tZ)(Fc,{workspaceId:e}),children:(0,T.tZ)(Il,{workspaceId:e})}),children:[(0,T.tZ)(nc,{}),(0,T.tZ)(bl,{workspaceId:e})]})}),(0,T.tZ)(u.AW,{path:n._.workspaceCategoryPath(":workspaceSlugWithId",":categorySlug"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(El,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.favoritesProjectsPath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(hl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.publishedAppsPath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(pl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.recentProjectsPath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(fl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.privateProjectsPath(":workspaceSlugWithId"),children:(0,T.tZ)(hc.X,{teamAction:a.r_.CREATE_PRIVATE_PROJECT,workspaceId:e,fallback:(0,T.tZ)(Sl,{}),children:(0,T.tZ)(ml,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.favoritesProjectsPath(":workspaceSlugWithId"),children:(0,T.tZ)(hc.X,{teamAction:a.r_.MANAGE_FAVORITE_PROJECTS,workspaceId:e,fallback:(0,T.tZ)(Fc,{workspaceId:e}),children:(0,T.tZ)(hl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.sharedWithMePath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(yl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.workspaceProjectPath(":workspaceSlugWithId",":projectSlug"),children:(0,T.tZ)(Ol,{workspaceId:e})}),(0,T.tZ)(u.AW,{path:n._.createNewWorkspacePath(":workspaceSlugWithId"),children:(0,T.tZ)(Ja,{children:(0,T.tZ)(wl,{workspaceId:e})})}),(0,T.tZ)(u.AW,{path:n._.gettingStartedPath(":workspaceSlugWithId"),exact:!0,children:(0,T.tZ)(Ja,{fallback:(0,T.tZ)(Fc,{workspaceId:e}),children:(0,T.tZ)(p.j,{feature:"GETTING_STARTED",children:(0,T.tZ)(vl,{workspaceId:e,workspaceSlug:t})})})}),(0,T.tZ)(u.AW,{children:(0,T.tZ)(Sl,{})})]})})}),(0,T.tZ)(_i,{}),(0,T.tZ)(Va,{workspaceId:e}),(0,T.tZ)(D,{workspaceId:e,position:"absolute",right:4,bottom:4})]})})})]}):(0,T.tZ)(Sl,{})})})]})})})})}):(0,T.tZ)(H,{})}},42820:(e,t,r)=>{"use strict";r.d(t,{e:()=>i,o:()=>o});var n=r(64119);function o(e,t){return e.readFragment({id:`Project:${t}`,fragment:n.Ps`
      fragment ProjectRenameData on Project {
        id
        name
        slug
      }
    `})}function i(e,t){return e.readFragment({id:`Project:${t}`,fragment:n.Ps`
      fragment ProjectData on Project {
        id
        is_private
        category {
          id
        }
      }
    `})}},71923:(e,t,r)=>{"use strict";r.d(t,{A$:()=>c,B:()=>u,rR:()=>l,xy:()=>a});var n=r(3285),o=r(26779),i=r.n(o);function a(e,t){const{teamId:r,projectId:n,sourceCategoryId:o,targetCategoryId:i,isPrivate:a}=t;e.performTransaction((e=>{!function(e,t,r){e.modify({id:`Project:${t}`,fields:{breadcrumbs:(e,{readField:t,toReference:n})=>{var o;const i=e?0===e.length?null:e[e.length-1]:void 0;if((void 0!==i?t("id",i):null)===r)return e;const a=n(`ProjectCategory:${r}`),c=null!==(o=t("breadcrumbs",a))&&void 0!==o?o:[];return c.some((e=>t("id",e)===t("id",a)))?c:[...c,a]}}})}(e,n,i),null===o?s(e,r,n):d(e,o,n),null===i?p(e,r,n):g(e,i,n),a?(function(e,t,r){e.modify({id:`Team:${t}`,fields:{projects:(e,{readField:t})=>e.filter((e=>t("id",e)!==r)),rootProjects:(e,{readField:t})=>e.filter((e=>t("id",e)!==r)),privateProjects:(e,{fieldName:t,readField:n,storeFieldName:o,toReference:i})=>{const a=i(`Project:${r}`);return a?e.find((e=>e.__ref===a.__ref))?e:[...null!=e?e:[],a]:(console.error("moveProjectToPrivate: No project reference"),e)}}})}(e,r,n),function(e,t){e.modify({id:`Project:${t}`,fields:{category:()=>null}})}(e,n)):function(e,t,r){e.modify({id:`Team:${t}`,fields:{privateProjects:(e,{readField:t})=>e.filter((e=>t("id",e)!==r)),projects:(e,{fieldName:t,readField:n,storeFieldName:o,toReference:i})=>{const a=i(`Project:${r}`);return a?e.find((e=>e.__ref===a.__ref))?e:[...null!=e?e:[],a]:(console.error("moveProjectToPrivate: No project reference"),e)}}})}(e,r,n)}))}function c(e,t){const{movedCategoryId:r,targetCategoryId:n}=t;e.modify({id:`ProjectCategory:${r}`,fields:{breadcrumbs:(e,{readField:t,toReference:r})=>{const o=e?0===e.length?null:e[e.length-1]:void 0,i=void 0!==o?t("id",o):null;if(n===i)return e;const a=r(`ProjectCategory:${n}`),c=t("breadcrumbs",a);return[...null!=c?c:[],a]}}})}function l(e,t,r){e.performTransaction((e=>{r.categoryId?d(e,r.categoryId,t):s(e,r.teamId,t)}))}function s(e,t,r){e.modify({id:`Team:${t}`,fields:{rootProjects:(e,{readField:t})=>e.filter((e=>t("id",e)!==r))}})}function d(e,t,r){e.modify({id:`ProjectCategory:${t}`,fields:{projects:(e,{readField:t})=>e.filter((e=>t("id",e)!==r))}})}function u(e,t,r){e.performTransaction((e=>{r.categoryId?g(e,r.categoryId,t):p(e,r.teamId,t)}))}function p(e,t,r){e.modify({id:`Team:${t}`,fields:{rootProjects:(e,{fieldName:t,readField:o,storeFieldName:a,toReference:c})=>{var l,s;const d=c(`Project:${r}`);if(!d)return(0,n.D)(new Error("addTeamProject: No project reference")),e;if(e.find((e=>e.__ref===d.__ref)))return e;const u=null!==(l=JSON.parse(a.substring(t.length+1)).searchQuery)&&void 0!==l?l:"",p=u.trim()?i()(u):null,g=i()(null!==(s=o("name",d))&&void 0!==s?s:"");return p&&1!==g.search(p)?e:[...null!=e?e:[],d]}}})}function g(e,t,r){e.modify({id:`ProjectCategory:${t}`,fields:{projects:(e,{fieldName:t,readField:o,storeFieldName:a,toReference:c})=>{var l,s;const d=c(`Project:${r}`);if(!d)return(0,n.D)(new Error("addCategoryProject: No project reference")),e;if(e.find((e=>e.__ref===d.__ref)))return e;const u=a.substring(t.length+1)||"{}",p=null!==(l=JSON.parse(u).searchQuery)&&void 0!==l?l:"",g=p.trim()?i()(p):null,m=i()(null!==(s=o("name",d))&&void 0!==s?s:"");return g&&1!==m.search(g)?e:[...null!=e?e:[],d]}}})}},5127:(e,t,r)=>{"use strict";r.d(t,{x:()=>g});var n=r(57640),o=r(55075),i=r(44776),a=r(93851),c=r(29389),l=r(39486),s=r(9551),d=r(91987),u=r(87340),p=r(51625);const g=(0,d.memo)((function({value:e,nowrap:t,successMessage:r,tooltipLabel:g,isDisabled:m=!1}){const f=(0,d.useCallback)((()=>{r&&u.Z.success({message:r}),(0,s.n)(e)}),[r,e]);return(0,p.BX)(n.E,{paddingY:1,paddingX:2,display:"flex",alignItems:"center",cursor:"pointer",color:"gray.800",background:"gray.200",_hover:{background:"gray.300"},onClick:m?void 0:f,minHeight:8,children:[(0,p.tZ)(o.xu,{as:"span",fontSize:"xxs",overflow:"hidden",whiteSpace:t?"nowrap":"normal",textOverflow:t?"ellipsis":"initial",children:e}),!m&&(0,p.tZ)(i.k,{marginLeft:"2px",children:(0,p.tZ)(a.u,{label:g,placement:"bottom",children:(0,p.tZ)(o.xu,{children:(0,p.tZ)(c.J,{as:l.jbQ})})})})]})}))},71123:(e,t,r)=>{"use strict";r.d(t,{h:()=>m,z:()=>f});var n=r(85511),o=r(58314),i=r(79283),a=r(91987),c=r(51625);const l=["avatarImageSize","displayBadge","src"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function g(e=null,t=150){return e?(0,i.f)(e)?`${e}?w=${t}&ar=1:1&fit=crop`:e:""}const m="16.666667%",f=(0,a.memo)((function(e){var t,r;const{avatarImageSize:i,displayBadge:a,src:s}=e,u=p(e,l),f="workspace"===e.variant?m:void 0,h=null!==(t=null!==(r=e.borderRadius)&&void 0!==r?r:f)&&void 0!==t?t:void 0;return(0,c.tZ)(n.q,d(d({},u),{},{src:g(s,i),borderRadius:h,children:a&&(0,c.tZ)(o.M,{boxSize:3,background:"red.500"})}))}))},18887:(e,t,r)=>{"use strict";r.d(t,{p:()=>k});var n=r(13636),o=r(19654),i=r(91987),a=r(45554),c=r(95444),l=r(73185),s=r(46250),d=r(93081),u=r(44776),p=r(6606),g=r(51192),m=r(60498),f=r(77673),h=r(55075),y=r(26612),b=r(97054),I=r(23248),v=r(29389),O=r(39486),E=r(38424),w=r(60809),A=r(7351),P=r(96057),_=r(83837),T=r(63376),S=r(92516),C=r(51625);const j=(0,i.memo)((function(e){return(0,C.BX)(s.u_,{closeOnOverlayClick:!e.primaryTrialButton,isOpen:e.isOpen,onClose:e.onClose,size:"lg",isCentered:!0,children:[(0,C.tZ)(w.Z,{}),(0,C.BX)(d.h,{children:[e.checkboxText&&(0,C.tZ)(A.o,{}),e.image&&(0,C.tZ)(u.k,{alignItems:"center",justifyContent:"center",margin:9,marginBottom:0,sx:{img:{borderRadius:"8px",maxWidth:"100%"}},children:(0,C.tZ)(p.E,{src:e.image,alt:`${e.title} - thumbnail`})}),(0,C.tZ)(P.x,{pt:5,children:e.title}),(0,C.BX)(_.f,{children:[e.subtitle&&(0,C.tZ)(g.x,{paddingBottom:6,color:"gray.800",children:e.subtitle}),e.listOfDowngradeFeatures&&(0,C.tZ)(m.aV,{children:e.listOfDowngradeFeatures.map(((t,r)=>(0,C.BX)(m.HC,{paddingBottom:3,display:"flex",alignItems:"start",children:[(0,C.tZ)(v.J,{mt:1,mr:2,w:4,h:4,color:e.checkboxText?"red.500":"blue.500",as:t.icon}),(0,C.BX)(u.k,{flexDirection:"column",children:[(0,C.tZ)(g.x,{color:"gray.950",fontWeight:"600",children:t.listHeader}),(0,C.tZ)(g.x,{color:"gray.800",fontWeight:"400",children:t.listText})]})]},r)))}),e.checkboxText&&(0,C.tZ)(f.X,{paddingBottom:3,size:"sm",paddingLeft:"2px",isChecked:e.isCheckboxChecked,onChange:e.onCheckboxChange,children:(0,C.tZ)(g.x,{color:"gray.800",children:e.checkboxText})}),e.showSendUsMessage&&(0,C.tZ)(h.xu,{paddingTop:3,paddingBottom:2,children:(0,C.tZ)(T.b,{textAlign:"center",children:(0,C.BX)(u.k,{alignItems:"center",justifyContent:"flex-start",children:[(0,C.tZ)(y.z,{as:O.G_m,marginRight:2,marginLeft:2,height:4,width:4,color:"blue.600"}),(0,C.tZ)(g.x,{color:"blue.800",children:(0,C.BX)(C.HY,{children:["Need more time to evaluate the Team plan?"," ",(0,C.tZ)(b.r,{isExternal:!0,href:E._Y,children:"Request an extension."})]})})]})})})]}),(0,C.BX)(S.m,{children:[e.checkboxText&&(0,C.BX)(C.HY,{children:[(0,C.tZ)(I.z,{colorScheme:"gray",variant:"ghost",onClick:e.onClose,children:"Cancel"}),(0,C.tZ)(I.z,{colorScheme:"red",isDisabled:!e.isCheckboxChecked,onClick:e.onRequestDowngradeClick,children:"Downgrade"})]}),!e.checkboxText&&(0,C.BX)(C.HY,{children:[!e.primaryTrialButton&&(0,C.tZ)(I.z,{onClick:e.onClose,children:"Continue"}),e.primaryTrialButton&&(0,C.BX)(C.HY,{children:[e.secondaryTrialButtton&&(0,C.tZ)(I.z,{colorScheme:"gray",variant:"ghost",onClick:e.onSecondaryTrialButttonClick,children:e.secondaryTrialButtton}),(0,C.tZ)(I.z,{onClick:e.onPrimaryTrialButtonClick,children:e.primaryTrialButton})]})]})]})]})]})}));function k(e){const t=(0,a.k6)(),{checkboxText:r,title:s,primaryTrialButton:d,secondaryTrialButtton:u,subtitle:p,image:g,showSendUsMessage:m,listOfDowngradeFeatures:f}=(0,l.KW)(e.type),h=(0,i.useCallback)((()=>{(0,o.j)("Trial expired modal CTA clicked",{type:"view-plan",workspaceId:e.workspaceId}),t.push((0,c.t)(n._.workspaceSettingsUpgrade,{source:"trial-expired-modal"})),e.onModalClose()}),[t,e]),y=(0,i.useCallback)((()=>{(0,o.j)("Trial expired modal CTA clicked",{type:"dismiss",workspaceId:e.workspaceId}),e.onModalClose()}),[e]),b=(0,i.useCallback)((()=>{(0,o.j)("Trial expired modal CTA clicked",{type:"request-demo",workspaceId:e.workspaceId}),window.open("mailto:sales@deepnote.com?subject=[Request] Trial extension"),e.onModalClose()}),[e]),I=(0,i.useCallback)((()=>{(0,o.j)("Downgrade modal confirmed",{workspaceId:e.workspaceId}),e.onModalClose()}),[e]),[v,O]=(0,i.useState)(!0),[E,w]=(0,i.useState)(!1),A=(0,i.useCallback)((()=>{w(!E)}),[E]);return(0,C.tZ)(j,{checkboxText:r,image:g,isCheckboxChecked:E,isOpen:v,listOfDowngradeFeatures:f,subtitle:p,title:s,showSendUsMessage:m,primaryTrialButton:d,secondaryTrialButtton:u,onClose:()=>{(0,o.j)("Downgrade modal cancelled",{workspaceId:e.workspaceId}),O(!1),e.onModalClose()},onCheckboxChange:A,onRequestDowngradeClick:I,onPrimaryTrialButtonClick:h,onSendUsMessageClick:b,onSecondaryTrialButttonClick:y})}},17672:(e,t,r)=>{"use strict";r.d(t,{S:()=>p});var n=r(97054),o=r(3285),i=r(63376),a=r(91987),c=r(49880),l=r(51625);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p({children:e,errorMessage:t,errorPartialMessage:r,fallback:s,scope:u,alertProps:p={}}){const g=(0,a.useCallback)((e=>{(0,o.D)(e,"error",{errorBoundary:u})}),[u]),m=(0,a.useCallback)((()=>void 0!==s?(0,l.tZ)(l.HY,{children:s}):(0,l.tZ)(i.b,d(d({margin:3,status:"error"},p),{},{children:(null!=t?t:r)?(0,l.BX)(l.HY,{children:["Something went wrong while rendering the ",r,". Please refresh the browser or"," ",(0,l.tZ)(n.r,{isExternal:!0,href:"mailto:help@deepnote.com",children:"contact our support"}),"."]}):(0,l.BX)(l.HY,{children:["Something went wrong while rendering the component. Please refresh the browser or"," ",(0,l.tZ)(n.r,{isExternal:!0,href:"mailto:help@deepnote.com",children:"contact our support"}),"."]})}))),[t,r,s,p]);return(0,l.tZ)(c.ErrorBoundary,{onError:g,FallbackComponent:m,children:e})}},81830:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(34231),o=r(44776),i=r(51192),a=r(76077),c=r(51625);function l({children:e,description:t,title:r}){return(0,c.tZ)(n.M,{"data-cy":a.A2j,width:"100%",height:"100vh",children:(0,c.BX)(o.k,{flexDirection:"column",alignItems:"center",maxWidth:"430px",children:[(0,c.tZ)(i.x,{color:"gray.1000",fontSize:"20px",fontWeight:"600",marginBottom:4,children:r}),(0,c.tZ)(i.x,{color:"gray.600",fontSize:"xs",textAlign:"center",marginBottom:4,children:t}),e]})})}},21161:(e,t,r)=>{"use strict";r.d(t,{o:()=>y});var n=r(17571),o=r(72792),i=r(55075),a=r(72558),c=r(61193),l=r(34231),s=r(37139),d=r(76077),u=r(91987),p=r(31249),g=r(51625);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const y=(0,u.memo)((function({placement:e,contentStyles:t,defaultValue:r,onCloseRequest:m,onSubmitRequest:h,onFocus:y}){const[b,I]=(0,u.useState)(!1),[v,O]=(0,u.useState)(r),E=(0,u.useCallback)((()=>{m(v)}),[m,v]),w=(0,u.useCallback)((e=>{"Enter"===e.key&&v.length&&h(v)}),[v,h]),A=(0,u.useCallback)((e=>{e&&(setTimeout((()=>{e.focus(),(0,p.x)(e)}),50),y&&y())}),[y]);(0,u.useEffect)((()=>{const e=setTimeout((()=>{I(!0)}),300);return()=>{e&&clearTimeout(e)}}),[I]);const P=(0,u.useCallback)((e=>{O(e.target.value)}),[]);return(0,g.BX)(n.J,{isOpen:!0,closeOnEsc:!0,closeOnBlur:b,placement:e,onClose:E,children:[(0,g.tZ)(o.x,{children:(0,g.tZ)(i.xu,{})}),(0,g.tZ)(a.h,{children:(0,g.tZ)(c.y,f(f({},t),{},{children:(0,g.tZ)(l.M,{paddingX:2,paddingY:1,borderRadius:"4px",border:"1px solid",borderColor:"gray.200",children:(0,g.tZ)(s.I,{"data-cy":d.e3x,size:"xs",ref:A,width:"240px",value:v,onChange:P,onKeyDown:w})})}))})]})}))},29656:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(5244),o=r(29389),i=r(91987),a=r(51625);const c=["as","color"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const p=(0,i.memo)((0,n.G)(((e,t)=>{var r,n;const{as:i,color:l}=e,d=u(e,c);return(0,a.tZ)(o.J,s(s({as:e.as,color:null!=l?l:"gray.500",w:null!==(r=e.w)&&void 0!==r?r:4,h:null!==(n=e.h)&&void 0!==n?n:4},d),{},{css:null}))})))},78136:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(64119),o=r(64705);const i=n.Ps`
  query IsEmailDomainPublic($email: String!) {
    isEmailDomainPublic(email: $email)
  }
`;var a=r(51625);function c({children:e,email:t,fallback:r}){var n;const{data:{isEmailDomainPublic:c},loading:l}=function(e){var t;const{data:r,loading:n,error:a}=(0,o.a)(i,{fetchPolicy:"cache-first",variables:{email:e}});return{data:{isEmailDomainPublic:null!==(t=null==r?void 0:r.isEmailDomainPublic)&&void 0!==t?t:null},loading:n,error:a}}(t);return l&&null===c?null:c?null!==(n=(0,a.tZ)(a.HY,{children:r}))&&void 0!==n?n:null:(0,a.tZ)(a.HY,{children:e})}},54394:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(1067),o=r(51625);function i({role:e,children:t,fallback:r,teamAction:i}){return!!e&&(0,n.ff)(e,i)?(0,o.tZ)(o.HY,{children:t}):r?(0,o.tZ)(o.HY,{children:r}):null}},8993:(e,t,r)=>{"use strict";r.d(t,{I:()=>j});var n=r(13636),o=r(19654),i=r(91987),a=r(45554),c=r(95444),l=r(669),s=r(47498),d=r(93081),u=r(44776),p=r(6606),g=r(97054),m=r(60498),f=r(44906),h=r(85511),y=r(23248),b=r(39486),I=r(99666),v=r(60809),O=r(96057),E=r(83837),w=r(79472),A=r(92516),P=r(95390),_=r(93851),T=r(51625);const S=({handleViewPlansClick:e,userName:t})=>(0,T.tZ)(_.u,{isDisabled:!t,openDelay:3e4,label:(0,T.BX)(T.HY,{children:["Hey ",t," ",(0,T.tZ)("br",{}),(0,T.tZ)("br",{}),"If you got any questions about Deepnote, upgrading, or life in general, you can always reach out directly to us at help@deepnote.com",(0,T.tZ)("br",{}),(0,T.tZ)("br",{}),"We would love to chat "]}),children:(0,T.tZ)(y.z,{colorScheme:"blue",onClick:e,children:"View plans"})}),C=({type:e,version:t,isModalOpen:r,handleModalClose:n,handleViewPlansClick:o,handleTrackUpgradeCTATriggered:a,userName:c})=>{const{title:l,subtitle:s,image:_,list:C,link:j,linkText:k,proof:N,logos:R,upgradePageTrackingSource:D,upgradePageTrackingSourceFeature:Z}=(0,P.rT)(e,t);return(0,i.useEffect)((()=>{a({upgradePageTrackingSourceFeature:Z})}),[a,D,Z]),(0,T.BX)(I.u,{closeOnOverlayClick:!1,isOpen:r,onClose:n,size:"lg",isCentered:!0,children:[(0,T.tZ)(v.Z,{}),(0,T.BX)(d.h,{overflow:"auto",children:[_&&(0,T.tZ)(u.k,{alignItems:"center",justifyContent:"center",margin:9,marginBottom:0,minHeight:"350px",sx:{img:{borderRadius:"8px",maxWidth:"100%"}},children:(0,T.tZ)(p.E,{src:_,alt:`${l} - thumbnail`})}),(0,T.tZ)(O.x,{pt:_?5:6,children:l}),(0,T.BX)(E.f,{overflow:"visible",children:[s&&(0,T.BX)(w.i,{pb:4,children:[s," ",j&&(0,T.tZ)(g.r,{href:j,children:k})]}),C&&(0,T.tZ)(m.aV,{children:C.map(((e,t)=>(0,T.BX)(m.HC,{paddingBottom:2,display:"flex",alignItems:"flex-start",children:[(0,T.tZ)(m.DE,{as:b.rE2,color:"green.500",marginTop:.5}),(0,T.tZ)(w.i,{children:e})]},t)))})]}),(0,T.BX)(A.m,{justifyContent:N?"space-between":"flex-end",children:[N&&R&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(w.i,{marginRight:1,children:"Trusted by teams at"}),(0,T.tZ)(f.U,{spacing:"-14px",children:R.map(((e,t)=>(0,T.tZ)(h.q,{src:e,background:"none",showBorder:!0},t)))})]}),(0,T.BX)(T.HY,{children:[(0,T.tZ)(y.z,{colorScheme:"gray",variant:"ghost",onClick:n,children:"Maybe later"}),(0,T.tZ)(S,{userName:c,handleViewPlansClick:()=>o({upgradePageTrackingSource:D,upgradePageTrackingSourceFeature:Z})})]})]})]})]})},j=({onModalClose:e,upgradePageTrackingSourceFeature:t,upgradePageTrackingSourceRole:r,workspaceId:d,type:u})=>{const p=(0,a.k6)(),[g,m]=(0,i.useState)(!0),{data:{userDetails:f}}=(0,l.P)(),{data:h,loading:y}=(0,s.m)(d),b=(t="maybe_later")=>(m(!1),e(t));return y&&!h?null:(0,T.tZ)(C,{isModalOpen:g,type:u,userName:null==f?void 0:f.name,version:h.version,handleModalClose:b,handleViewPlansClick:({upgradePageTrackingSource:e,upgradePageTrackingSourceFeature:i})=>{const a=null!=t?t:i;return(0,o.j)("Upgrade CTA clicked",{sourceFeature:a,sourceRole:r,workspaceId:d}),p.push((0,c.t)(n._.workspaceSettingsUpgrade,{source:e,sourceFeature:a,sourceRole:r})),b("view_plans")},handleTrackUpgradeCTATriggered:({upgradePageTrackingSourceFeature:e})=>{const n=null!=t?t:e;(0,o.j)("Upgrade CTA triggered",{sourceFeature:n,sourceRole:r,workspaceId:d})}})}},51438:(e,t,r)=>{"use strict";r.d(t,{I:()=>n.I});var n=r(8993)},30577:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});var n=r(44776),o=r(55075),i=r(65100),a=r(20826),c=r(51625);const l=e=>{var t,r,l;return(0,c.tZ)(i.D,{children:(0,c.BX)(n.k,{flex:1,minWidth:0,flexDirection:"column",alignItems:"stretch",backgroundColor:"white",children:[e.topbarContent&&(0,c.tZ)(a.d,{children:e.topbarContent}),(0,c.tZ)(o.xu,{overflow:"auto",children:(0,c.tZ)(n.k,{flex:1,flexDirection:"column",alignItems:"stretch",paddingX:"52px",paddingY:"52px",children:(0,c.tZ)(n.k,{flex:1,width:null!==(t=e.width)&&void 0!==t?t:"100%",minWidth:null!==(r=e.minWidth)&&void 0!==r?r:500,maxWidth:null!==(l=e.maxWidth)&&void 0!==l?l:1e3,flexDirection:"column",alignItems:"stretch",marginX:"auto",children:e.children})})})]})})}},73185:(e,t,r)=>{"use strict";r.d(t,{KW:()=>a,wu:()=>i});var n=r(39486),o=r(77424);const i=e=>{switch(e){case o.Ag.ADMIN:return"downgrade-trial-modal-admin";case o.Ag.VIEWER:default:return"downgrade-trial-modal-viewer"}},a=e=>{switch(e){case"downgrade-modal":return l();case"downgrade-trial-modal-admin":return s();case"downgrade-trial-modal-viewer":return d()}},c=[{icon:n.HP$,listHeader:"Editor and project limits",listText:"Free workspaces are limited to 5 projects and 3 editors."},{icon:n.N8c,listHeader:"Basic integrations",listText:"Snowflake, Redshift, BigQuery, Amazon Athena and Azure SQL are unavailable on the Free plan."},{icon:n.sAT,listHeader:"Less powerful machines",listText:"Teams on the Free plan only have access to basic machines with a 15 minute inactivity period."}],l=()=>({title:"Continue downgrading to Free?",subtitle:"By switching to the Free plan, your team will lose access to features and will be subject to additional limits:",listOfDowngradeFeatures:c,checkboxText:"I understand how changing plans affects my team",image:"/static/downgrade-modals/downgrade-illu.webp"}),s=()=>({title:"Your Team plan trial has expired",subtitle:"Thanks for giving the Team plan a try  we hope you found it useful. You can keep using Deepnote on the limited Free plan with fewer features and additional limits:",listOfDowngradeFeatures:c,showSendUsMessage:!0,primaryTrialButton:"View plans",secondaryTrialButtton:"Continue on Free plan",image:"/static/downgrade-modals/trial-expired-illu.webp"}),d=()=>({title:"Your Team plan trial has expired",subtitle:"Thanks for giving the Team plan a try  we hope you found it useful. You can keep using Deepnote on limited Free plan with fewer features and additional limits:",listOfDowngradeFeatures:c,image:"/static/downgrade-modals/trial-expired-illu.webp"})},95390:(e,t,r)=>{"use strict";r.d(t,{Gm:()=>C,qI:()=>d,rT:()=>a});var n=r(84998),o=r(1067),i=r(77424);const a=(e,t)=>{switch(e){case"editor-limit":return s(t);case"more-roles":return c(t);case"more-roles-link":return l(t);case"project-limit":return d(t);case"folders":return u(t);case"public-app-sharing":return p(t);case"integration-athena":return E;case"integration-gcr":return S(t);case"integration-ecr":return T(t);case"integration-dockerhub":return _(t);case"integration-s3":return O;case"integration-sql-server":return I;case"integration-redshift":return m;case"integration-gcs":return v;case"integration-snowflake":return f;case"integration-bigquery":return y;case"integration-trino":return b;case"integration-dremio":return h;case"paid-machines":return C;case"scheduling":return g;case"project-access-control":return j;case"whitelabelling-ipynb":return k(t);case"api-execute":return N(t);case"hardware-shutdown":return R(t);case"audit-logs":return D(t);case"integration-federated-auth":return Z(t);case"integration-ssh-tunnel":return M(t);case"integration-github-package":return x(t);case"sql-query-caching":return w;case"ai-code-completion":return A;case"deepnote-ai":return P;default:(0,o.vE)(e)}},c=e=>({title:`Manage access to your workspace with the ${(0,n.Nt)({name:i.yh.PRO,version:e})} plan`,list:["Set granular permissions for team members.","Add editors without giving them Admin permissions."],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"workspace-permissions",image:"/static/upsell-modals/editor-limit.webp"}),l=e=>({title:`Manage access to your workspace with the ${(0,n.Nt)({name:i.yh.PRO,version:e})} plan`,list:["Set granular permissions for team members.","Add editors without giving them Admin permissions."],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"workspace-permissions-generate-link",image:"/static/upsell-modals/editor-limit.webp"}),s=e=>({title:"Upgrade now to add unlimited members",subtitle:`You can still continue adding unlimited Viewers, or you can upgrade your plan to enjoy ${(0,n.Nt)({name:i.yh.PRO,version:e})} benefits, such as: `,list:["Add unlimited admins and editors for seamless collaboration.","Customize member permissions to keep your workspace secure."],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"limit-editors",image:"/static/upsell-modals/editor-limit.webp"}),d=e=>{const t=(0,n.Nt)({name:i.yh.PRO,version:e});return{title:`Create more projects with the ${t} plan`,list:["Create unlimited projects","Organize projects into folders to keep your workspace clean",`Enjoy other ${t} benefits, including unlimited team members`],image:"/static/upsell-modals/project-limit.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"limit-projects"}},u=e=>({title:"Upgrade now to create folders",list:["Organize your projects in folders, so your work is easy to find",`Enjoy other ${(0,n.Nt)({name:i.yh.PRO,version:e})} benefits, including unlimited projects and team members`],image:"/static/upsell-modals/project-limit.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"folders"}),p=e=>({title:`Keep your dashboards secure with the ${(0,n.Nt)({name:i.yh.PRO,version:e})} plan`,subtitle:"Set granular permissions on published apps, so you can ensure that your work is not accessible to anyone outside your team.",image:"/static/upsell-modals/public-app-sharing-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"publishing-permissions"}),g={title:"Upgrade to schedule your notebooks",list:["Schedule notebooks to run from hourly up to monthly intervals.","Receive instant email notifications about your notebook's results.","Review past runs in version history."],image:"/static/upsell-modals/scheduling-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"scheduling"},m={title:"Upgrade now to connect to Redshift ",list:["Query your Redshift data directly from your notebooks","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/redshift-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-redshift"},f={title:"Upgrade now to connect to Snowflake",list:["Query your Snowflake data directly from your notebooks","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/snowflake-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-snowflake"},h={title:"Upgrade now to connect to Dremio",list:["Query your Dremio data directly from your notebooks","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/dremio-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-dremio"},y={title:"Upgrade now to connect to BigQuery",list:["Query your Bigquery data directly from your notebooks","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/bigquery-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-bigquery"},b={title:"Upgrade now to connect to Trino",list:["Query your Trino data directly from your notebooks","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/trino-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-trino"},I={title:"Upgrade now to connect to SQL Server",list:["Query your SQL Server data directly from your notebook","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/sqlserver-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-sql-server"},v={title:"Upgrade now to connect to your cloud storage",list:["Read data from GCS directly into your notebooks","Integrate with other Google services such as Google BigQuery"],image:"/static/upsell-modals/googlecloud-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-gcs"},O={title:"Upgrade now to connect to your S3 buckets",list:["Read data from S3 buckets directly into your notebooks","Integrate with other AWS services such as Athena and Redshift"],image:"/static/upsell-modals/s3-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-s3"},E={title:"Upgrade now to query with Athena",list:["Query your S3 data directly from your notebook","Combine SQL queries with Python for ultimate flexibility"],image:"/static/upsell-modals/athena-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-athena"},w={title:"Upgrade now to speed up SQL queries with caching",list:["Improve notebook performance with cached results for recently run SQL queries","Take control of your database/warehouse costs with granular caching controls"],image:"/static/upsell-modals/sql-query-caching-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"sql-query-caching"},A={title:"Get instant code suggestions with AI completion",list:["AI completion speeds up coding and reduces errors, allowing you to focus on complex tasks.","Get suggestions for cleaner, maintainable code that's easier to understand and modify."],image:"/static/upsell-modals/ai-code-completion-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"ai-code-completion"},P={title:"Upgrade now to use Deepnote AI",list:["Boost productivity with Deepnote AI, your on-demand coding ally","Effortlessly generate and refine code using natural language","Grasp complex code faster with concise explanations"],image:"/static/upsell-modals/deepnote-ai-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"deepnote-ai"},_=e=>({title:"Upgrade to connect private docker images",subtitle:`Your current plan doesnt allow you to connect to private Docker Hub images. Upgrade to the ${(0,n.Nt)({name:i.yh.ENTERPRISE,version:e})} plan to enable this feature.`,image:"/static/upsell-modals/dockerhub-2-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-dockerhub"}),T=e=>{const t=(0,n.Nt)({name:i.yh.ENTERPRISE,version:e});return{title:`Private ECR images are on the ${t} plan`,subtitle:`Your current plan doesnt allow you to connect to private GCR and ECR docker images. Upgrade to the ${t} plan to enable this feature.`,image:"/static/upsell-modals/ECR-2-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-ecr"}},S=e=>{const t=(0,n.Nt)({name:i.yh.ENTERPRISE,version:e});return{title:`Private GCR images are on the ${t} plan`,subtitle:`Your current plan doesnt allow you to connect to private GCR and ECR docker images. Upgrade to the ${t} plan to enable this feature.`,image:"/static/upsell-modals/GCR-2-feature-gate.webp",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-gcr"}},C={title:"Speed up your work with powerful machines",subtitle:"",list:["Upgrade now for stronger machines","Run notebooks faster with more RAM and computation power","Enjoy other benefits, including unlimited projects and team members"],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"stronger-machines"},j={title:"Control who can access projects",subtitle:"",list:["Invite collaborators to only comment or execute on your projects","Make your projects private in your workspace and share them once they are ready"],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"project-permissions-team"},k=e=>({title:"Upgrade now to remove labels",list:["Remove Deepnote branding from exported notebooks",`Enjoy other ${(0,n.Nt)({name:i.yh.PRO,version:e})} benefits, including unlimited projects and team members`],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"whitelabelling-ipynb"}),N=e=>({title:"Execute notebooks anywhere, anytime",subtitle:`Upgrade to ${(0,n.Nt)({name:i.yh.PRO,version:e})} to generate an API key that allows you to execute Deepnote notebooks from anywhere.`,upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"api-execute"}),R=e=>({title:"Upgrade now to keep your machine on longer",subtitle:"Keep your notebooks live for up to 24 hours, so you dont need to worry about losing any progress overnight.",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"hardware-shutdown"}),D=e=>({title:"Upgrade and export the workspace audit log",subtitle:"Upgrade to the Enterprise plan and export a .CSV of the workspace activity from all members.",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"audit-logs",image:"/static/upsell-modals/audit-logs.webp"}),Z=e=>({title:"Upgrade and use OAuth access for integrations",subtitle:"Upgrade to the Enterprise plan and configure additional access types that will require each user to authenticate when they want to run a project containing sensitive information.",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-federated-auth"}),M=e=>({title:"Upgrade now to create an SSH Tunnel",subtitle:"Upgrade Connect to resources in a secure network.",upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-ssh-tunnel",image:"/static/upsell-modals/ssh-tunnel-feature-gate.webp"}),x=e=>({title:"Upgrade now to connect your GitHub repo",list:["Import packages or files from your repository","Available for both private & public repositories"],upgradePageTrackingSource:"paid-feature-cta",upgradePageTrackingSourceFeature:"integration-github-package",image:"/static/upsell-modals/github-package-gate.webp"})},78995:(e,t,r)=>{"use strict";r.d(t,{G:()=>u});var n=r(51625);function o({canUser:e,children:t,fallback:r}){return e?(0,n.tZ)(n.HY,{children:t}):r?(0,n.tZ)(n.HY,{children:r}):null}var i=r(95758);const a=["userAction"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){const{userAction:t}=e,r=d(e,a),c=(0,i.g)(t);return(0,n.tZ)(o,l(l({},r),{},{canUser:c}))}},43697:(e,t,r)=>{"use strict";r.d(t,{J:()=>v});var n=r(13636),o=r(3285),i=r(91987),a=r(45554),c=r(95444),l=r(87340),s=r(21161),d=r(12268),u=r(64119),p=r(44539),g=r(37496);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=u.Ps`
  mutation renameTeamCategory($categoryId: String!, $categoryName: String!, $color: String!) {
    renameCategory(categoryId: $categoryId, name: $categoryName, color: $color) {
      id
      slug
      name
      color
    }
  }
`;function y(e){const[t,{loading:r,error:n}]=(0,p.D)(h,{}),o=(0,g.x)().cache,a=(0,i.useCallback)((r=>{const n=(i=o,a=e.categoryId,i.readFragment({id:`ProjectCategory:${a}`,fragment:u.Ps`
      fragment ProjectCategory on ProjectCategory {
        id
        name
        slug
        parent_category_id
        projectCount
        position
        color
      }
    `}));var i,a;return t(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({variables:{categoryId:e.categoryId,categoryName:r.name,color:r.color}},n?{optimisticResponse:{renameCategory:{__typename:"ProjectCategory",id:n.id,slug:n.slug,name:r.name,color:r.color}}}:{})).then((e=>{var t,r,n,o;return{categoryId:null!==(t=null===(r=e.data)||void 0===r?void 0:r.renameCategory.id)&&void 0!==t?t:null,categorySlug:null!==(n=null===(o=e.data)||void 0===o?void 0:o.renameCategory.slug)&&void 0!==n?n:null}}))}),[e.categoryId,t,o]);return[a,{loading:r,error:n}]}var b=r(11602),I=r(51625);const v=(0,i.memo)((function({placement:e,categoryId:t,categoryName:r,contentStyles:u,onClosePopoverRequest:p}){var g;const{data:{category:m}}=(0,d.F)({categoryId:t}),[f]=y({categoryId:t}),h=(0,a.k6)(),v=(0,a.$B)((0,c.X)(n._.workspaceCategory,null!==(g=null==m?void 0:m.slug)&&void 0!==g?g:":categorySlug")),O=(0,i.useCallback)((async e=>{if(e!==r){p();try{const{categorySlug:t}=await f({name:e,color:b.N});m&&t&&m.slug!==t&&v&&h.replace((0,c.X)(n._.workspaceCategory,t))}catch(e){l.Z.error({message:"Failed to change folder's name. Please, try again."}),(0,o.D)(e)}}else p()}),[r,p,f,m,v,h]);return(0,I.tZ)(s.o,{contentStyles:u,placement:e,defaultValue:r,onCloseRequest:p,onSubmitRequest:O})}))},4658:(e,t,r)=>{"use strict";r.d(t,{B:()=>v});var n=r(13636),o=r(3285),i=r(91987),a=r(45554),c=r(95444),l=r(87340),s=r(21161),d=r(11034),u=r(64119),p=r(44539),g=r(37496),m=r(42820);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=u.Ps`
  mutation renameTeamProject($projectId: String!, $projectName: String!) {
    renameProject(id: $projectId, name: $projectName) {
      renamedProject {
        id
        name
        slug
      }
    }
  }
`;var I=r(51625);const v=(0,i.memo)((function({contentStyles:e,placement:t,projectId:r,projectName:u,onClosePopoverRequest:f}){const{data:{projectSlug:y}}=(0,d.Y)({projectId:r}),[v]=function(e){const[t,{loading:r,error:n}]=(0,p.D)(b,{}),o=(0,g.x)().cache;return[(0,i.useCallback)((r=>{const n=(0,m.o)(o,e.projectId);return t(h({variables:{projectId:e.projectId,projectName:r.name}},n?{optimisticResponse:{renameProject:{renamedProject:h(h({__typename:"Project"},n),{},{name:r.name})}}}:{})).then((e=>{var t,r,n,o,i,a;return{projectId:null!==(t=null===(r=e.data)||void 0===r?void 0:r.renameProject.renamedProject.id)&&void 0!==t?t:null,projectName:null!==(n=null===(o=e.data)||void 0===o?void 0:o.renameProject.renamedProject.name)&&void 0!==n?n:null,projectSlug:null!==(i=null===(a=e.data)||void 0===a?void 0:a.renameProject.renamedProject.slug)&&void 0!==i?i:null}}))}),[e.projectId,t,o]),{loading:r,error:n}]}({projectId:r}),O=(0,a.k6)(),E=(0,a.$B)((0,c.X)(n._.workspaceProject,null!=y?y:":projectSlug")),w=(0,i.useCallback)((async e=>{if(e&&e!==u)try{const{projectSlug:t}=await v({name:e});y&&t&&y!==t&&E&&O.replace((0,c.X)(n._.workspaceProject,t))}catch(e){l.Z.error({message:"Failed to change project's name. Please, try again."}),(0,o.D)(e)}}),[O,y,u,E,v]),A=(0,i.useCallback)((async e=>{await w(e),f()}),[f,w]),P=(0,i.useCallback)((async e=>{await w(e),f()}),[f,w]);return(0,I.tZ)(s.o,{contentStyles:e,placement:t,defaultValue:u,onCloseRequest:A,onSubmitRequest:P})}))},10959:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var n=r(91987),o=r(84899),i=r(99201),a=r(19234),c=r(51625);const l=(0,n.memo)((function({type:e,workspaceId:t}){const{data:{anonymous:r}}=(0,i.X)(),{commonApi:n}=(0,o.WG)();return(0,c.tZ)(a.B,{anonymous:r,type:e,workspaceId:t,onOpenSupportChatRequest:n.openSupportChat})}))},13277:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var n=r(54394),o=r(26288),i=r(51625);const a=["workspaceId"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){const{workspaceId:t}=e,r=d(e,a),{data:{role:c},loading:s}=(0,o.z)(t);return s?null:(0,i.tZ)(n.a,l(l({},r),{},{role:c}))}},19162:(e,t,r)=>{"use strict";r.d(t,{F:()=>x});var n=r(37496),o=r(91987),i=r(13636),a=r(45554),c=r(80189),l=r(64119),s=r(64705);const d=l.Ps`
  query GetProjectDuplicationModalData($projectId: String!) {
    teams {
      id
      name
      userRole
    }
    projectById(id: $projectId) {
      __typename
      ... on Project {
        id
        name
        active_integrations_count
        team {
          ... on Team {
            id
            name
          }
          ... on TeamUnauthorized {
            id
            name
          }
        }
      }
    }
  }
`;var u=r(84899),p=r(39174),g=r(77673),m=r(97054),f=r(23248),h=r(76077),y=r(83837),b=r(63376),I=r(79472),v=r(92516),O=r(54783),E=r(68596),w=r(92074),A=r(57313),P=r(3285),_=r(51625);function T({workspaceId:e,children:t,feature:r,fetchPolicy:n}){const{data:o,loading:i,error:a}=(0,A.q)(e,{fetchPolicy:n}),c=o.find((e=>e.name===r));if(a&&(0,P.D)(new Error(`Failed to get feature gates for target workspace: ${e}`,{cause:a})),!c)return"function"==typeof t?(0,_.tZ)(_.HY,{children:t({canUseFeature:!1,options:{},loading:i})}):null;if("function"==typeof t){var l;const e=null!==(l=c.options)&&void 0!==l?l:{};return(0,_.tZ)(_.HY,{children:t({canUseFeature:c.canUse,options:e,loading:i})})}return c.canUse?i?(0,_.tZ)(w.$,{}):(0,_.tZ)(_.HY,{children:t}):null}var S=r(43641),C=r(51438),j=r(65100),k=r(38612),N=r(49258);const R=(0,o.memo)((function(e){var t,r;const[n,a]=(0,o.useState)(e.defaultDestinationWorkspace),[c,l]=(0,o.useState)(!1),s=(0,j.d)();(0,o.useEffect)((()=>{a(e.defaultDestinationWorkspace)}),[e.defaultDestinationWorkspace]);const d=(0,o.useCallback)((t=>{var r;const n=null===(r=e.destinationWorkspaces)||void 0===r?void 0:r.find((e=>e.id===t));n&&a(n)}),[e.destinationWorkspaces]),u=(0,o.useCallback)((()=>{l(!c)}),[c]),w=(null==n?void 0:n.id)===e.project.teamId;return(0,_.BX)(N.Z,{title:"Duplicate project?",onClose:e.onCloseRequest,children:[(0,_.BX)(y.f,{children:[e.project.hasIntegrations&&!w&&(0,_.BX)(b.b,{fontSize:"xs",mt:1,mb:2,status:"warning",children:[(0,_.tZ)(b.C,{children:"This project has integrations or environments connected"}),"Duplicating a project to another workspace won't copy the connected integrations and environments."]}),e.error&&(0,_.tZ)(b.b,{status:"error",children:"There was a problem while fetching targets."}),null!==(t=e.destinationWorkspaces)&&void 0!==t&&t.length?(0,_.BX)(_.HY,{children:[(0,_.tZ)(p.l,{children:"Workspace"}),(0,_.tZ)(E.Q,{workspaces:e.destinationWorkspaces,selectedWorkspace:n,onWorkspaceSelect:d,menuProps:{width:"256px"},buttonProps:{width:"100%"}}),(0,_.BX)(I.i,{mt:3,children:[(0,_.tZ)("b",{children:e.project.name})," will be duplicated into this workspace."]}),n&&(0,_.tZ)(T,{workspaceId:n.id,feature:"PRIVATE_PROJECTS",children:({canUseFeature:e})=>e&&(0,_.tZ)(g.X,{marginTop:3,color:"gray.800","data-cy":h.EJh,isChecked:c,onChange:u,children:"Make the duplicated project Private"})})]}):(0,_.tZ)(S.Z,{heading:"No workspaces found",text:(0,_.BX)(_.HY,{children:["We'll create a new workspace for this project.",(0,_.tZ)("br",{}),(0,_.tZ)(m.r,{as:O.rU,to:i._.docsPage("workspaces"),isExternal:!0,children:"Learn more about workspaces."})]})})]}),(0,_.BX)(v.m,{children:[n&&(0,_.tZ)(k.D,{workspaceId:n.id,limit:"LIMIT_WORKSPACE_PROJECTS",children:({hasLimitBeenHit:t,loading:r})=>(0,_.tZ)(f.z,{"data-cy":h.qGL,isDisabled:!n,isLoading:e.isDuplicating||r,onClick:()=>{var r;return n?t?s((t=>(0,_.tZ)(C.I,{workspaceId:e.project.teamId,type:"project-limit",onModalClose:()=>{e.onCloseRequest(),t()}}))):null===(r=e.onSubmitRequest)||void 0===r?void 0:r.call(e,n,c,w):()=>({})},children:"Duplicate project"})}),!n&&!(null!==(r=e.destinationWorkspaces)&&void 0!==r&&r.length)&&(0,_.tZ)(f.z,{"data-cy":h.qGL,isLoading:e.isDuplicating,onClick:()=>{var t;return null===(t=e.onSubmitRequest)||void 0===t?void 0:t.call(e,n,c,w)},children:"Create workspace"})]})]})})),D=(0,o.memo)((function(e){const{commonApi:t}=(0,u.WG)(),r=(0,a.k6)(),[n,l]=(0,o.useState)(!1),{data:p,error:g}=function(e){var t,r;const{data:n,loading:o,error:i}=(0,s.a)(d,{variables:{projectId:e}});return{data:{teams:null!==(t=null==n?void 0:n.teams)&&void 0!==t?t:[],project:"Project"===(null==n||null===(r=n.projectById)||void 0===r?void 0:r.__typename)?null==n?void 0:n.projectById:null},loading:o,error:i}}(e.projectId),{categoryId:m,projectId:f,onCloseRequest:h,onDuplicate:y}=e,{data:{workspaces:b}}=(0,c.y)(),I=(0,o.useMemo)((()=>{const e=p.project&&b?b.find((e=>{var t,r;return e.id===(null===(t=p.project)||void 0===t||null===(r=t.team)||void 0===r?void 0:r.id)})):null;return null!=e?e:null}),[b,p.project]),v=(0,o.useCallback)((async(e,n,o)=>{l(!0);const a=!e;try{const{projectId:s,projectSlug:d,teamSlug:u,teamId:p}=await t.duplicateProject(f,n,null==e?void 0:e.id,a,o&&m?m:void 0);var c;if(l(!1),d)null==y||y({projectId:s,projectSlug:d,teamId:null!==(c=null==e?void 0:e.id)&&void 0!==c?c:null,teamSlug:u,isPrivate:n}),u&&p&&(r.push(i._.workspaceProject(p,u,d)),null==h||h())}catch(e){l(!1)}}),[t,m,f,r,h,y]),O=(0,o.useMemo)((()=>{var e,t,r;return p.project?{name:p.project.name,teamId:null!==(e=null===(t=p.project.team)||void 0===t?void 0:t.id)&&void 0!==e?e:"",hasIntegrations:(null===(r=p.project)||void 0===r?void 0:r.active_integrations_count)>0}:{name:"",hasIntegrations:!1,teamId:""}}),[p]);return(0,_.tZ)(R,{error:!!g,destinationWorkspaces:b,defaultDestinationWorkspace:I,isDuplicating:n,onSubmitRequest:v,project:O,onCloseRequest:e.onCloseRequest})}));function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x=(0,o.memo)((function(e){const{projectId:t,onCloseRequest:r}=e,i=(0,n.x)().cache,a=(0,o.useMemo)((()=>({categoryId:e.categoryId,projectId:t,onCloseRequest:r,onDuplicate:({teamId:t,isPrivate:r})=>{t&&(i.modify({id:`Team:${t}`,fields:r?{privateProjects:(e,{DELETE:t})=>t,privateProjectSearch:(e,{DELETE:t})=>t}:{rootProjects:(e,{DELETE:t})=>t,rootProjectSearch:(e,{DELETE:t})=>t,projects:(e,{DELETE:t})=>t,projectSearch:(e,{DELETE:t})=>t}}),e.categoryId&&i.modify({id:`ProjectCategory:${e.categoryId}`,fields:{projects:(e,{DELETE:t})=>t}}))}})),[i,t,r,e.categoryId]);return(0,_.tZ)(D,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a))}))},58632:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var n=r(91987),o=r(66851),i=r(80423),a=r(51625);function c(){const e=(0,n.createContext)(null);return{DragDropContext:e,DragDropProvider:function(t){const{children:r,onDrop:o}=t,i=(0,n.useRef)(new Map),[c,l]=(0,n.useState)(0),s=(0,n.useMemo)((()=>{for(const[e,t]of i.current.entries())for(const r of t.values())if(r.isOverLocation)return e;return null}),[c]),d=(0,n.useMemo)((()=>s?JSON.parse(s):null),[s]),u=(0,n.useCallback)(((e,t,r)=>{var n;const o=JSON.stringify(e),a=new Map(i.current),c=new Map(null!==(n=i.current.get(o))&&void 0!==n?n:new Map);c.set(t,r),a.set(o,c),i.current=a,l((e=>e+1))}),[]),p=(0,n.useCallback)(((e,t)=>{var r;const n=JSON.stringify(e),o=new Map(i.current),a=new Map(null!==(r=i.current.get(n))&&void 0!==r?r:new Map);a.delete(t),o.set(n,a),i.current=o,l((e=>e+1))}),[]),g=(0,n.useCallback)(((e,t)=>{null==o||o(e,t),i.current=new Map,l((e=>e+1))}),[o]),m=(0,n.useMemo)((()=>({activeDropTarget:d,setDropTargetLocationState:u,unregisterDropTargetLocation:p,dropItem:g})),[d,u,p,g]);return(0,a.tZ)(e.Provider,{value:m,children:r})},DropTarget:function(t){const r=(0,n.useContext)(e);if(!r)throw new Error("DropTarget can only be used within a DragDropProvider");const{activeDropTarget:i,dropItem:a,setDropTargetLocationState:c,unregisterDropTargetLocation:l}=r,s=(0,n.useMemo)((()=>Math.random().toString(36)),[]),d=(e,t)=>e&&t&&"object"==typeof e&&"object"==typeof t?Object.keys(t).every((r=>e[r]===t[r])):e===t,[{isOverLocation:u,draggedItem:p},g]=(0,o.L)({accept:t.acceptedItemType,drop:(e,r)=>{var n,o;if(r.didDrop())return;const c=null===(n=r.getItem())||void 0===n?void 0:n.item,l=Boolean(c&&(null===(o=t.ignoredItems)||void 0===o?void 0:o.some((e=>c.provides===e.provides&&c.id===e.id)))),s=Boolean(c&&void 0!==t.ignoredSource&&d(c.source,t.ignoredSource));i&&c&&!l&&!s&&a(i,c)},collect:e=>{var r,n,o;const i=null===(r=e.getItem())||void 0===r?void 0:r.item,a=Boolean(i&&(null===(n=t.ignoredItems)||void 0===n?void 0:n.some((e=>i.provides===e.provides&&i.id===e.id)))),c=Boolean(i&&void 0!==t.ignoredSource&&d(i.source,t.ignoredSource));return{isOverLocation:e.isOver({shallow:t.shallow})&&!a&&!c,draggedItem:!e.canDrop()||a||c?null:null===(o=e.getItem())||void 0===o?void 0:o.item}}});return(0,n.useEffect)((()=>{c(t.id,s,{isOverLocation:u})}),[t.id,s,u,c]),(0,n.useEffect)((()=>()=>{l(t.id,s)}),[t.id,s,l]),t.children({ref:g,activeDropTarget:i,isOverLocation:u,draggedItem:p})},DragSource:function(e){const t={provides:e.type,id:e.id,source:e.source},r=(0,i.c)({type:e.type,item:{item:t},canDrag:!e.disabled})[1];return(0,a.tZ)("div",{ref:r,children:e.children})}}}},60746:(e,t,r)=>{"use strict";r.d(t,{EF:()=>y,eJ:()=>f,lc:()=>b,tu:()=>h});var n=r(64119),o=r(37496),i=r(85508),a=r.n(i),c=r(91987),l=r(51625);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=n.Ps`
  query GetIntegrationStructure($integrationId: String!, $invalidateCache: Boolean) {
    integrationStructure(integrationId: $integrationId, invalidateCache: $invalidateCache) {
      fetchType
      databases {
        isDummy
        name
        schemas {
          name
          tables {
            type
            name
            columns {
              name
              type
            }
          }
        }
      }
      createdAt
    }
  }
`,g=n.Ps`
  query PrepareIntegrationStructure($integrationId: String!, $invalidateCache: Boolean) {
    integrationStructure(integrationId: $integrationId, invalidateCache: $invalidateCache) {
      fetchType
      createdAt
    }
  }
`,m=(0,c.createContext)({hasIntegrationStructure:()=>!1,getIntegrationStructure:()=>Promise.reject(new Error("IntegrationStructureCacheContext not initialized")),prepareIntegrationStructure:()=>Promise.reject(new Error("IntegrationStructureCacheContext not initialized"))}),f=(0,c.memo)((function(e){const t=(0,o.x)(),r=(0,c.useRef)({}),n=(0,c.useRef)({}),i=(0,c.useCallback)((e=>Boolean(r.current[e])),[]),s=(0,c.useCallback)(((e,o={})=>{var i;const c=d({refresh:!1,invalidateCache:!1},o),l=r.current[e];if(l&&!c.refresh&&!c.invalidateCache)return Promise.resolve(l);if(a()(c,null===(i=n.current[e])||void 0===i?void 0:i.params))return n.current[e].promise;const s=t.query({query:p,variables:{integrationId:e,invalidateCache:c.invalidateCache},fetchPolicy:"no-cache"}).then((({data:t,errors:o})=>{var i;if(delete n.current[e],o)throw r.current[e]=null,new Error(o.map((e=>e.message)).join("\n"));const a=null!==(i=t.integrationStructure)&&void 0!==i?i:null;if(!a)throw r.current[e]=null,new Error(`Integration structure not found for integration ${e}`);return r.current[e]=a,a}));return n.current[e]={params:c,promise:s},s}),[t]),u=(0,c.useCallback)((async(e,n={})=>{(!r.current[e]||n.refresh||n.invalidateCache)&&await t.query({query:g,variables:{integrationId:e,invalidateCache:Boolean(n.invalidateCache)},fetchPolicy:"no-cache"})}),[t]),f=(0,c.useMemo)((()=>({hasIntegrationStructure:i,getIntegrationStructure:s,prepareIntegrationStructure:u})),[i,s,u]);return(0,l.tZ)(m.Provider,{value:f,children:e.children})}));function h(e){const{hasIntegrationStructure:t,getIntegrationStructure:r}=(0,c.useContext)(m),[n,o]=(0,c.useState)({integrationStructure:null,loading:!1,error:null}),i=(0,c.useRef)(null),a=(0,c.useCallback)((t=>{r(e.integrationId,{refresh:t.refresh,invalidateCache:t.invalidateCache}).then((e=>{t.abortSignal.aborted||o((t=>d(d({},t),{},{integrationStructure:e,loading:!1,error:null})))}),(e=>{t.abortSignal.aborted||"AbortError"===e.name||o((t=>d(d({},t),{},{integrationStructure:null,loading:!1,error:e})))}))}),[e.integrationId,r]),l=(0,c.useCallback)((e=>{var t;null===(t=i.current)||void 0===t||t.abort();const r=new AbortController;i.current=r,o((e=>d(d({},e),{},{loading:!0,error:null}))),a(d(d({},e),{},{refresh:!0,abortSignal:r.signal}))}),[a]);return(0,c.useEffect)((()=>{var r;null===(r=i.current)||void 0===r||r.abort();const n=new AbortController;i.current=n,t(e.integrationId)||o((e=>d(d({},e),{},{loading:!0,error:null}))),a({refresh:!1,invalidateCache:!1,abortSignal:n.signal})}),[e.integrationId,t,a]),(0,c.useEffect)((()=>()=>{var e;null===(e=i.current)||void 0===e||e.abort()}),[]),d(d({},n),{},{refetch:l})}function y(){const{getIntegrationStructure:e}=(0,c.useContext)(m),t=(0,c.useRef)(null),r=(0,c.useCallback)((r=>{var n;null===(n=t.current)||void 0===n||n.abort();const o=new AbortController;return t.current=o,e(r.integrationId,{invalidateCache:r.invalidateCache}).then((e=>({integrationStructure:e,error:null})),(e=>o.signal.aborted||"AbortError"===e.name?{integrationStructure:null,error:null}:{integrationStructure:null,error:e}))}),[e]);return(0,c.useEffect)((()=>()=>{var e;null===(e=t.current)||void 0===e||e.abort()}),[]),{fetchIntegrationStructure:r}}function b(){const{prepareIntegrationStructure:e}=(0,c.useContext)(m),t=(0,c.useRef)(null);return{prepare:(0,c.useCallback)((r=>{var n;null===(n=t.current)||void 0===n||n.abort();const o=new AbortController;t.current=o,e(r.integrationId,{refresh:!0,invalidateCache:r.invalidateCache}).catch((e=>{o.signal.aborted||"AbortError"===e.name||console.warn("Failed to prepare integration structure",r.integrationId,e)}))}),[e])}}},65100:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,d:()=>l});var n=r(72558),o=r(91987),i=r(51625);const a=(0,o.createContext)(null);function c(e){const t=(0,o.useContext)(a),r=null==t?void 0:t.clearModal,[c,l]=(0,o.useState)(null),s=(0,o.useCallback)((e=>{null==r||r();let t=null;t=e((()=>{l((e=>e===t?null:e))})),l(t)}),[r]),d=(0,o.useCallback)((()=>{l(null),null==r||r()}),[r]),u=(0,o.useMemo)((()=>({openModal:s,clearModal:d})),[s,d]);return(0,i.BX)(i.HY,{children:[(0,i.tZ)(a.Provider,{value:u,children:e.children}),c?(0,i.tZ)(n.h,{children:c}):null]})}function l(){const e=(0,o.useContext)(a);if(!e)throw new Error("useModal must be used within a ModalProvider");return e.openModal}},40431:(e,t,r)=>{"use strict";r.d(t,{H6:()=>i,Yw:()=>o,_h:()=>c,cq:()=>a,x:()=>l});var n=r(39486);const o=`${r(24008).clientConfig.runtimeConfig.STRIPE_PUBLIC_KEY}`,i={title:"editors",description:" to your workspace.",limitDescription:"Upgrade your workspace plan to invite more editors.",icon:n.kH1},a={title:"projects created",limitDescription:"Upgrade your workspace plan to create more projects.",icon:n.FQU},c={title:"machine hours used",description:"Your workspace gets 750 free machine hours for every editor.",limitDescription:"Invite more members to get additional machine hours.",icon:n.RGX},l={title:"Unlimited machine hours",description:"You can use Basic (5GB RAM, 2vCPU) machines. View plans to use more powerful machines.",limitDescription:"",icon:n.FQU}},18438:(e,t,r)=>{"use strict";r.d(t,{D:()=>p,p:()=>g});var n=r(77424),o=r(69549),i=r.n(o);const a={puddle:{nodeSelector:{type:"project"},cpuCount:1,resources:{requests:{memory:"256M",cpu:"300m"},limits:{memory:"1536M",cpu:"1000m"}}},lake:{nodeSelector:{type:"project",hardware:"lake"},cpuCount:1,resources:{requests:{memory:"3695M",cpu:"310m"},limits:{memory:"5G",cpu:"1000m"}}},sea:{nodeSelector:{type:"project",hardware:"sea"},cpuCount:4,resources:{requests:{"nvidia.com/gpu":"1",memory:"58820M",cpu:"2800m"},limits:{"nvidia.com/gpu":"1",memory:"58820M",cpu:"2800m"}}},fjord:{nodeSelector:{type:"project",hardware:"fjord"},cpuCount:4,resources:{requests:{memory:"15570M",cpu:"1740m"},limits:{memory:"16G",cpu:"4"}}},ocean:{nodeSelector:{type:"project",hardware:"fjord"},cpuCount:16,resources:{requests:{memory:"62820M",cpu:"7325m"},limits:{memory:"64G",cpu:"14890m"}}},gulf:{nodeSelector:{type:"project",hardware:"fjord"},cpuCount:16,resources:{requests:{memory:"125820M",cpu:"14770m"},limits:{memory:"125820M",cpu:"14770m"}}},eoch_group:{nodeSelector:{type:"project",hardware:"eoch_group"},cpuCount:16,resources:{requests:{memory:"61820M",cpu:"14770m"},limits:{memory:"61820M",cpu:"14770m"}}},eoch_denali:{nodeSelector:{type:"project",hardware:"fjord"},cpuCount:16,resources:{requests:{memory:"125820M",cpu:"14770m"},limits:{memory:"125820M",cpu:"14770m"}}},eoch_elias:{nodeSelector:{type:"project",hardware:"moat"},cpuCount:32,resources:{requests:{memory:"125820M",cpu:"30730m"},limits:{memory:"125820M",cpu:"30730m"}}}};function c(e){var t,r;const n=null!==(t=null===(r=a[e].resources.limits)||void 0===r?void 0:r.cpu)&&void 0!==t?t:"1";return n.endsWith("m")?i()(Number(n.slice(0,-1))/1e3,1):Number(n)}const l=(0,r(60802).yv)(),s={[n.eG.LAKE]:l?"price_1I46LuBD0NYKzyxFysIs4BKE":"price_1I46OABD0NYKzyxF7gKiO3eo",[n.eG.FJORD]:l?"price_1I46MRBD0NYKzyxFl8m86uEx":"price_1I46OYBD0NYKzyxFZxVAdYGM",[n.eG.OCEAN]:l?"price_1I9HUGBD0NYKzyxFMZpaLq9q":"price_1I9HV7BD0NYKzyxFpB27oWHs",[n.eG.GULF]:l?"price_1JucFZBD0NYKzyxFOXQUElSI":"price_1JucGgBD0NYKzyxFSEh0wocz",[n.eG.SEA]:l?"price_1IIwf5BD0NYKzyxFQQGq1K7C":"price_1IIwg8BD0NYKzyxF8oJGEz1k",[n.eG.EOCH_GROUP]:l?"price_1IkuKcBD0NYKzyxFoU3jB5Gp":"undefined",[n.eG.EOCH_DENALI]:l?"price_1IkuMZBD0NYKzyxFS1iHIjqI":"undefined",[n.eG.EOCH_ELIAS]:l?"price_1IkuRdBD0NYKzyxFRU97VQyL":"undefined"},d={[n.eG.LAKE]:l?"prod_IaD2oTeDaFRxJo":"prod_IaA5xZbNrGRmuY",[n.eG.FJORD]:l?"prod_IVd3Xyan5WfF8n":"prod_IVd2RSdTcBV8hv",[n.eG.OCEAN]:l?"prod_Ikn4mZqQEn1mdJ":"prod_Ikn5VA7W7X2g6P",[n.eG.GULF]:l?"prod_KZlnyaQ6zIvnG5":"prod_KZlohBiK0vivmP",[n.eG.SEA]:l?"prod_IumD18lxZAuWVU":"prod_IumEfpUvmS9z9p",[n.eG.EOCH_GROUP]:l?"prod_IaD4o3ysA9jApd":"undefined",[n.eG.EOCH_DENALI]:l?"prod_JNfhqv7p2yBi1l":"undefined",[n.eG.EOCH_ELIAS]:l?"prod_JNfnLZ4yo6IVQA":"undefined"},u={[n.eG.LAKE]:{hardwareType:n.eG.LAKE,pricePerMinute:.0084,stripePriceId:s[n.eG.LAKE],stripeProductId:d[n.eG.LAKE]},[n.eG.FJORD]:{hardwareType:n.eG.FJORD,pricePerMinute:.017,stripePriceId:s[n.eG.FJORD],stripeProductId:d[n.eG.FJORD]},[n.eG.OCEAN]:{hardwareType:n.eG.OCEAN,pricePerMinute:.0662,stripePriceId:s[n.eG.OCEAN],stripeProductId:d[n.eG.OCEAN]},[n.eG.GULF]:{hardwareType:n.eG.GULF,pricePerMinute:.0833,stripePriceId:s[n.eG.GULF],stripeProductId:d[n.eG.GULF]},[n.eG.SEA]:{hardwareType:n.eG.SEA,pricePerMinute:.126,stripePriceId:s[n.eG.SEA],stripeProductId:d[n.eG.SEA]},[n.eG.EOCH_GROUP]:{hardwareType:n.eG.EOCH_GROUP,pricePerMinute:.01792,isTeamHardware:!0,stripePriceId:s[n.eG.EOCH_GROUP],stripeProductId:d[n.eG.EOCH_GROUP]},[n.eG.EOCH_DENALI]:{hardwareType:n.eG.EOCH_DENALI,pricePerMinute:.0336,isTeamHardware:!0,stripePriceId:s[n.eG.EOCH_DENALI],stripeProductId:d[n.eG.EOCH_DENALI]},[n.eG.EOCH_ELIAS]:{hardwareType:n.eG.EOCH_ELIAS,pricePerMinute:.0512,isTeamHardware:!0,stripePriceId:s[n.eG.EOCH_ELIAS],stripeProductId:d[n.eG.EOCH_ELIAS]}},p=[n.eG.LAKE,n.eG.FJORD,n.eG.OCEAN,n.eG.GULF,n.eG.SEA],g={[n.eG.PUDDLE]:{name:"Basic",billingPageSpecs:"1.5 GB RAM, 1vCPU",sidebarSpecs:"1 vCPU, 1.5 GB RAM, No GPU",selectModalDescription:"Intel Haswell 1vCPU, 1.5 GB RAM, No GPU",selectModalFeatures:["Internet access","5GB storage"],cpuCount:c(n.eG.PUDDLE)},[n.eG.LAKE]:{name:"Basic",billingPageSpecs:"5GB RAM, 2vCPU",billingPageTooltipLabel:"The Basic Free machine is included in all plans.",sidebarSpecs:"Up to 5GB RAM and 2vCPU",selectModalDescription:"Up to 5GB RAM and 2vCPU",selectModalFeatures:["Internet access","5GB storage"],selectModalPrice:`$${(60*u[n.eG.LAKE].pricePerMinute).toFixed(2)}/h`,cpuCount:c(n.eG.LAKE)},[n.eG.SEA]:{name:"GPU",billingPageSpecs:"64GB of RAM, 4vCPU, K80 GPU",sidebarSpecs:"64GB of RAM, 4vCPU and a K80 GPU",selectModalDescription:"4 vCPU, 60GB RAM, 12GB K80 GPU",selectModalFeatures:["Internet access","Dedicated GPU","5GB disk storage"],selectModalPrice:`$${(60*u[n.eG.SEA].pricePerMinute).toFixed(2)}/h`,cpuCount:c(n.eG.SEA)},[n.eG.FJORD]:{name:"Plus",billingPageSpecs:"16GB RAM, 4vCPU",sidebarSpecs:"Up to 16GB RAM and 4vCPU",selectModalDescription:"16GB RAM and 4vCPU",selectModalFeatures:["Internet access","5GB disk storage"],selectModalPrice:`$${(60*u[n.eG.FJORD].pricePerMinute).toFixed(2)}/h`,cpuCount:c(n.eG.FJORD)},[n.eG.OCEAN]:{name:"Performance",billingPageSpecs:"64GB RAM, 16vCPU",sidebarSpecs:"Up to 64GB RAM and 16vCPU",selectModalDescription:"64GB RAM and 16vCPU",selectModalFeatures:["Internet access","5GB disk storage"],selectModalPrice:`$${(60*u[n.eG.OCEAN].pricePerMinute).toFixed(2)}/h`,cpuCount:c(n.eG.OCEAN)},[n.eG.GULF]:{name:"High memory",billingPageSpecs:"128GB RAM, 16vCPU",sidebarSpecs:"Up to 128GB RAM and 16vCPU",selectModalDescription:"128GB RAM and 16vCPU",selectModalFeatures:["Internet access","5GB disk storage"],selectModalPrice:`$${(60*u[n.eG.GULF].pricePerMinute).toFixed(2)}/h`,cpuCount:c(n.eG.GULF)},[n.eG.EOCH_GROUP]:{name:"Eoch Team",billingPageSpecs:"64GB RAM, 16vCPU",sidebarSpecs:"16vCPU and 64GB RAM",selectModalDescription:"Dedicated machine with 16vCPU and 64GB RAM",selectModalFeatures:["Team machine"],cpuCount:c(n.eG.EOCH_GROUP)},[n.eG.EOCH_DENALI]:{name:"Eoch Team High-Mem",billingPageSpecs:"128GB RAM, 16vCPU",sidebarSpecs:"16vCPU and 128GB RAM",selectModalDescription:"Dedicated machine with 16vCPU and 128GB RAM",selectModalFeatures:["Team machine"],cpuCount:c(n.eG.EOCH_DENALI)},[n.eG.EOCH_ELIAS]:{name:"Eoch Team High-Mem High-CPU",billingPageSpecs:"128GB RAM, 32vCPU",sidebarSpecs:"32vCPU and 128GB RAM",selectModalDescription:"Dedicated machine with 32vCPU and 128GB RAM",selectModalFeatures:["Team machine"],cpuCount:c(n.eG.EOCH_ELIAS)}}},98627:(e,t,r)=>{"use strict";r.d(t,{p:()=>d});var n=r(64119),o=r(64705);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=n.Ps`
  fragment BillingInfoFragment on BillingInfo {
    workspaceId
    customerId
    totalUsageCost
    activePlanSummaries {
      name
      period
      periodStart
      periodEnd
      periodType
      version
      unitPrice
      seats
      upcomingCharge {
        date
        amount
      }
      discount {
        id
        name
        percentOff
      }
    }
    usage {
      machine
      usedMinutes
      usageLimitMinutes
      pricePerMinute
      cost
    }
    invoices {
      id
      invoice_pdf
      amount_paid
      status
      created
    }
    paymentMethod {
      cardType
      ending
      id
      failed
    }
    hasCancelledPlan
    costBreakdown {
      planUnitPrice
      planUpcomingCharge
      totalUpcomingCharge
      totalPlanPrice
      usageCost
      discountInfo {
        isEarlyAdoptersDiscount
        totalDiscount
      }
    }
  }
`,s=n.Ps`
  ${l}
  query getTeamBillingInfo($workspaceId: String!) {
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        slug
        name
        userRole
        editorCount
        activePlan {
          planName
          displayName
          version
        }
        billingInfo {
          ...BillingInfoFragment
        }
      }
    }
  }
`;function d(e){var t;const{data:r,error:n,loading:i}=(0,o.a)(s,{variables:{workspaceId:e}});return{data:{team:"Team"===(null==r||null===(t=r.team)||void 0===t?void 0:t.__typename)?a(a({},r.team),{},{activePlan:a(a({},r.team.activePlan),{},{planName:r.team.activePlan.planName})}):null},loading:i,error:n}}},28293:(e,t,r)=>{"use strict";r.d(t,{Uy:()=>s,g0:()=>c,j3:()=>a,sk:()=>l});var n=r(67439),o=r(15518),i=r.n(o);function a(e,t){return`$${(t?e/100:e).toFixed(2)}`}function c(e,t){return t?(0,n.B)(e).format("Do MMMM YYYY"):(0,n.B)(e).format("Do MMMM")}function l(e){const t=Math.ceil((e-Date.now())/864e5);return Math.max(t,0)}function s(e){return"year"===e}n.B.extend(i())},32085:(e,t,r)=>{"use strict";r.d(t,{a:()=>E});var n=r(91987),o=r(65100),i=r(13636),a=r(3285),c=r(45554),l=r(88361),s=r(95444),d=r(12268),u=r(64119),p=r(44539),g=r(63791);const m=u.Ps`
  mutation deleteCategory($categoryId: String!) {
    deleteCategoryAndContents(categoryId: $categoryId) {
      deletedCategoryIds
      deletedProjectIds
    }
  }
`;const f=(0,n.memo)((function(e){var t;const{categoryId:r,workspaceId:o,onCloseRequest:u}=e,{data:{category:f}}=(0,d.F)({categoryId:r}),[h]=function(e){var t;const r=e.workspaceId,[o,{loading:a,error:l}]=(0,p.D)(m,{}),d=(0,c.k6)(),u=(0,c.$B)((0,s.X)(i._.workspaceProject,":projectSlug")),f=null==u||null===(t=u.params)||void 0===t?void 0:t.projectSlug;return[(0,n.useCallback)((e=>o({variables:{categoryId:e.categoryId},optimisticResponse:{deleteCategoryAndContents:{deletedCategoryIds:[e.categoryId],deletedProjectIds:[]}},update(e,{data:t}){if(null==t||!t.deleteCategoryAndContents)return;if(!r)return;const{deletedCategoryIds:n,deletedProjectIds:o}=t.deleteCategoryAndContents;e.performTransaction((e=>{var t;e.modify({id:`Team:${r}`,fields:{categories:(e,{readField:t})=>{if(e)return e.filter((e=>{const r=t("id",e);return null==r||!n.includes(r)}))},projects:(e,{readField:t})=>{if(e)return e.filter((e=>{const r=t("id",e);return null==r||!o.includes(r)}))},rootProjects:(e,{readField:t})=>{if(e)return e.filter((e=>{const r=t("id",e);return null==r||!o.includes(r)}))}}});const a=f?null===(t=(0,g.ae)(f))||void 0===t?void 0:t.id:null;o.forEach((t=>{t===a&&d.replace((0,s.X)(i._.workspace)),e.evict({id:`Project:${t}`})})),n.forEach((t=>{e.evict({id:`ProjectCategory:${t}`})}))}))}})),[r,o,d,f]),{loading:a,error:l}]}({workspaceId:o}),y=(0,c.k6)(),b=(0,c.$B)((0,s.X)(i._.workspaceCategory,null!==(t=null==f?void 0:f.slug)&&void 0!==t?t:":categorySlug")),I=(0,n.useCallback)((()=>{f&&b&&y.replace((0,s.X)(i._.workspace))}),[f,b,y]),v=(0,n.useRef)(!1),O=(0,n.useCallback)((async()=>{try{v.current=!0,await h({categoryId:r}),null==u||u(),I()}catch(e){v.current=!1,(0,a.D)(e)}}),[r,u,h,I]),E=(0,l.pt)();return(0,n.useEffect)((()=>{f&&!v.current&&E({title:"Delete folder?",content:`This will delete the folder ${f.name} and all of its contents, and cannot be undone.`,confirmText:"Delete folder",confirmColorScheme:"red",onConfirm:O,onCancel:u})}),[o,f,E,O,u]),null}));var h=r(87036),y=r(39486),b=r(64822),I=r(29656),v=r(51625);const O=(0,n.memo)((function({onCategoryDeleteRequest:e,onCategoryRenameRequest:t}){return(0,v.BX)(v.HY,{children:[t&&(0,v.BX)(h.s,{onClick:e=>(0,b.li)(e,t),children:[(0,v.tZ)(I.Z,{as:y.Rif,marginRight:2}),"Rename folder"]}),(0,v.BX)(h.s,{onClick:t=>(0,b.li)(t,e),children:[(0,v.tZ)(I.Z,{as:y.vwr,marginRight:2}),"Delete folder"]})]})})),E=(0,n.memo)((function(e){const{workspaceId:t,categoryId:r}=e,i=(0,o.d)(),a=(0,n.useCallback)((()=>{i((e=>(0,v.tZ)(f,{categoryId:r,workspaceId:t,onCloseRequest:e})))}),[i,r,t]);return(0,v.tZ)(O,{onCategoryDeleteRequest:a,onCategoryRenameRequest:e.onCategoryRenameRequest})}))},99336:(e,t,r)=>{"use strict";r.d(t,{F:()=>b});var n=r(37496),o=r(13636),i=r(91987),a=r(45554),c=r(95444),l=r(25960),s=r(36599),d=r(51438),u=r(65100),p=r(87036),g=r(76077),m=r(39486),f=r(29656),h=r(51625);const y=(0,i.memo)((function(e){var t,r;return(0,h.BX)(h.HY,{children:[(0,h.tZ)(p.s,{icon:(0,h.tZ)(f.Z,{as:m.Oh7}),iconSpacing:2,isFocusable:!0,onClick:null!==(t=e.onNewProjectCreateRequest)&&void 0!==t?t:void 0,"data-cy":g.zK2,children:"New project"}),(0,h.tZ)(p.s,{icon:(0,h.tZ)(f.Z,{as:m.Psg}),iconSpacing:2,isFocusable:!0,onClick:null!==(r=e.onNewProjectFromTemplateCreateRequest)&&void 0!==r?r:void 0,"data-cy":g.$Z,children:"New project from template"})]})})),b=(0,i.memo)((function(e){const{workspaceId:t,categoryId:r,private:p,source:g,onCreatingProjectChange:m}=e,f=(0,a.k6)(),{profilesApi:b}=(0,l.mM)(),I=(0,n.x)().cache,v=(0,u.d)(),O=(0,i.useCallback)((e=>{const{teamId:t}=e;r?(I.modify({id:`ProjectCategory:${r}`,fields:{projects:(e,{DELETE:t})=>t}}),I.modify({id:`Team:${t}`,fields:p?{projectCount:(e,{DELETE:t})=>t,projects:(e,{DELETE:t})=>t,privateProjects:(e,{DELETE:t})=>t}:{projectCount:(e,{DELETE:t})=>t,projects:(e,{DELETE:t})=>t}})):I.modify({id:`Team:${t}`,fields:p?{projectCount:(e,{DELETE:t})=>t,privateProjects:(e,{DELETE:t})=>t}:{projectCount:(e,{DELETE:t})=>t,rootProjects:(e,{DELETE:t})=>t,projects:(e,{DELETE:t})=>t}})}),[I,r,p]),E=(0,i.useCallback)((async()=>{try{null==m||m(!0);const{projectSlug:e,teamId:n}=await b.createNewProject(t,{isPrivateTeamProject:p,categoryId:null!=r?r:void 0,source:g});O({teamId:n}),f.push((0,c.X)(o._.workspaceProject,e))}finally{null==m||m(!1)}}),[m,b,t,p,r,g,O,f]),w=(0,i.useCallback)((()=>{const e={teamId:t,isPrivateProject:p,categoryId:r,source:g,onDeleteProjectListCacheRequest:O,onCreatingProjectChange:m};b.setOpenedModal("TemplatesModal",e)}),[t,p,r,O,b,m,g]),A=(0,i.useCallback)((()=>{v((e=>(0,h.tZ)(d.I,{workspaceId:t,type:"project-limit",onModalClose:e})))}),[v,t]);return(0,h.tZ)(s.X,{limit:"LIMIT_WORKSPACE_PROJECTS",children:({hasLimitBeenHit:t})=>(0,h.tZ)(y,{categoryId:e.categoryId,onNewProjectCreateRequest:t?A:E,onNewProjectFromTemplateCreateRequest:t?A:w})})}))},89502:(e,t,r)=>{"use strict";r.d(t,{I:()=>k});var n=r(91987),o=r(51438),i=r(65100),a=r(13636),c=r(3285),l=r(45554),s=r(95444),d=r(11602),u=r(64119),p=r(44539),g=r(3259),m=r.n(g);const f=u.Ps`
  mutation createTeamCategory($categoryName: String!, $teamId: String!, $color: String!, $parentCategoryId: String) {
    createNewCategoryForTeam(
      categoryName: $categoryName
      teamId: $teamId
      color: $color
      parentCategoryId: $parentCategoryId
    ) {
      id
      slug
      name
      parent_category_id
      projectCount
      position
      color
      breadcrumbs {
        id
      }
    }
  }
`;var h=r(51625);const y=(0,n.memo)((function(e){var t;const r=(0,l.k6)(),[o,{loading:i,error:u}]=function(e){const t=e.workspaceId,[r,{loading:o,error:i}]=(0,p.D)(f,{});return[(0,n.useCallback)((n=>{if(!t)return Promise.reject(new Error("Team ID info not available"));const o=m()("new-category");return r({variables:{teamId:t,parentCategoryId:e.parentCategoryId,categoryName:n.name,color:n.color},optimisticResponse:{createNewCategoryForTeam:{__typename:"ProjectCategory",id:o,slug:o,name:n.name,parent_category_id:e.parentCategoryId,projectCount:0,position:Number.MAX_SAFE_INTEGER,color:n.color,breadcrumbs:e.parentCategoryId?[{id:e.parentCategoryId}]:[]}},update(e,{data:r}){null!=r&&r.createNewCategoryForTeam&&e.modify({id:`Team:${t}`,fields:{categories:(e,{toReference:t})=>{if(!e)return;const n=t(r.createNewCategoryForTeam);return n?e.find((e=>e.__ref===n.__ref))?e:[...e,n]:((0,c.D)(new Error("addCategory: No category reference")),e)}}})}}).then((e=>{var t,r,n,o;return{categoryId:null!==(t=null===(r=e.data)||void 0===r?void 0:r.createNewCategoryForTeam.id)&&void 0!==t?t:null,categorySlug:null!==(n=null===(o=e.data)||void 0===o?void 0:o.createNewCategoryForTeam.slug)&&void 0!==n?n:null}}))}),[t,e.parentCategoryId,r]),{loading:o,error:i}]}({workspaceId:e.workspaceId,parentCategoryId:null!==(t=e.parentCategoryId)&&void 0!==t?t:null});return(0,h.tZ)(d.Z,{loading:i,error:Boolean(u),onSubmit:async(t,n)=>{try{const{categorySlug:c}=await o({name:t,color:n});var i;if(c)r.push((0,s.X)(a._.workspaceCategory,c)),null===(i=e.onCloseRequest)||void 0===i||i.call(e)}catch(e){(0,c.D)(e)}},onClose:e.onCloseRequest})}));var b=r(87036),I=r(51192),v=r(93851),O=r(44776),E=r(84998),w=r(76077),A=r(39486),P=r(77424),_=r(32504),T=r(57771),S=r(29656),C=r(47498);const j=(0,n.memo)((function(e){const{data:t,loading:r}=(0,C.m)(e.workspaceId);return r&&!t?null:(0,h.tZ)(h.HY,{children:(0,h.tZ)(_.j,{feature:"WORKSPACE_CREATE_FOLDERS",children:({canUseFeature:r})=>r?(0,h.tZ)(b.s,{"data-cy":w.Ctv,icon:(0,h.tZ)(S.Z,{as:A.zWQ}),iconSpacing:2,onClick:e.onSubcategoryCreateRequest,children:(0,h.tZ)(I.x,{children:"New folder"})}):(0,h.tZ)(v.u,{label:`This feature is available on the ${(0,E.Nt)({name:P.yh.PRO,version:t.version})} plan.`,placement:"right",children:(0,h.tZ)(b.s,{"data-cy":w.Ctv,icon:(0,h.tZ)(S.Z,{as:A.zWQ}),iconSpacing:2,disabled:!0,onClick:e.onUpsellModalClick,children:(0,h.BX)(O.k,{justifyContent:"space-between",children:[(0,h.tZ)(I.x,{children:"New folder"}),(0,h.tZ)(T.g,{workspaceId:e.workspaceId})]})})})})})})),k=(0,n.memo)((function(e){const{workspaceId:t,categoryId:r}=e,a=(0,i.d)(),c=(0,n.useCallback)((()=>{a((e=>(0,h.tZ)(y,{workspaceId:t,parentCategoryId:r,onCloseRequest:e})))}),[a,t,r]),l=(0,n.useCallback)((()=>{a((e=>(0,h.tZ)(o.I,{workspaceId:t,type:"folders",onModalClose:e})))}),[a,t]);return(0,h.tZ)(j,{workspaceId:t,onSubcategoryCreateRequest:c,onUpsellModalClick:l})}))},57992:(e,t,r)=>{"use strict";r.d(t,{T:()=>f});var n=r(37496),o=r(13636),i=r(3285),a=r(91987),c=r(45554),l=r(88361),s=r(95444),d=r(71923),u=r(11034),p=r(64119),g=r(44539);const m=p.Ps`
  mutation deleteProject($projectId: String!) {
    deleteProject(id: $projectId) {
      deletedProjectId
    }
  }
`;const f=(0,a.memo)((function(e){const{workspaceId:t,projectId:r,onCloseRequest:p}=e,{data:f}=(0,u.Y)({projectId:r}),{projectName:h,projectSlug:y,projectPrivate:b}=f,[I]=function(e){const t=e.workspaceId,[r,{loading:n,error:o}]=(0,g.D)(m,{refetchQueries:["CanUseFeatureGatesData","CanUseLimitsData"]});return[(0,a.useCallback)((e=>r({variables:{projectId:e.projectId},optimisticResponse:{deleteProject:{deletedProjectId:e.projectId}},update(r,{data:n}){null!=n&&n.deleteProject&&t&&r.evict({id:`Project:${e.projectId}`})}})),[t,r]),{loading:n,error:o}]}({workspaceId:t}),v=(0,c.k6)(),O=(0,c.$B)((0,s.X)(o._.workspaceProject,null!=y?y:":projectSlug")),{cache:E}=(0,n.x)(),w=(0,a.useCallback)((()=>{y&&O&&(b?v.replace((0,s.X)(o._.privateProjects)):v.replace((0,s.X)(o._.workspace)))}),[y,b,O,v]),A=(0,a.useRef)(!1),P=(0,a.useCallback)((()=>{try{A.current=!0,(0,d.rR)(E,r,{teamId:t,categoryId:null}),I({projectId:r}),null==p||p(),w()}catch(e){A.current=!1,(0,i.D)(e)}}),[E,r,t,I,p,w]),_=(0,l.pt)();return(0,a.useEffect)((()=>{h&&!A.current&&_({title:"Delete project?",content:`This will delete project ${h}, and cannot be undone.`,confirmText:"Delete project",confirmColorScheme:"red",onConfirm:P,onCancel:p})}),[t,h,_,P,p]),null}))},50914:(e,t,r)=>{"use strict";r.d(t,{k:()=>K});var n=r(9551),o=r(19654),i=r(91987),a=r(87340),c=r(26199),l=r(49),s=r(13828),d=r(51625);const u=(0,i.memo)((function(){return(0,d.BX)(l.g,{paddingX:2,align:"left",children:[(0,d.tZ)(s.ZP,{height:12,width:160*Math.max(.2,Math.min(Math.random(),1))}),(0,d.tZ)(s.ZP,{height:12,width:160*Math.max(.2,Math.min(Math.random(),1))}),(0,d.tZ)(s.ZP,{height:12,width:160*Math.max(.2,Math.min(Math.random(),1))})]})}));var p=r(65100),g=r(40183),m=r(19162),f=r(94229),h=r(64119),y=r(64705);const b=h.Ps`
  query GetIsProjectFavorite($projectId: String!) {
    projectById(id: $projectId) {
      __typename
      ... on Project {
        id
        isFavorite
        isTemplate
      }
    }
  }
`;var I=r(11034),v=r(31222),O=r(57992),E=r(87036),w=r(83529),A=r(39486),P=r(1067),_=r(77424),T=r(64822),S=r(29656),C=r(13277);const j=(0,i.memo)((function(e){const t=e.currentUserAccessType,r=Boolean(t&&(0,P.C5)(t,_.EJ.DELETE_PROJECT)),n=Boolean(t&&(0,P.C5)(t,_.EJ.RENAME_PROJECT)),o=Boolean(t&&(0,P.C5)(t,_.EJ.DUPLICATE_PROJECT));return(0,d.BX)(d.HY,{children:[n&&(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.Rif}),iconSpacing:2,onClick:t=>(0,T.li)(t,e.onProjectRenameRequest),children:"Rename project"}),o&&(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.dEB}),iconSpacing:2,isFocusable:!0,onClick:t=>(0,T.li)(t,e.onProjectDuplicateRequest),children:"Duplicate project"}),(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.MUR}),iconSpacing:2,isFocusable:!0,onClick:t=>(0,T.li)(t,e.onProjectCopyLinkRequest),children:"Copy link to project"}),(0,d.tZ)(C.X,{workspaceId:e.workspaceId,fallback:(0,d.tZ)(d.HY,{}),teamAction:_.r_.MANAGE_FAVORITE_PROJECTS,children:(0,d.tZ)(d.HY,{children:(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.XmZ}),iconSpacing:2,isFocusable:!0,onClick:t=>(0,T.li)(t,e.onToggleProjectFavoriteRequest),children:e.isFavorite?"Remove from favorite projects":"Add to favorite projects"})})}),(0,d.tZ)(C.X,{workspaceId:e.workspaceId,fallback:(0,d.tZ)(d.HY,{}),teamAction:_.r_.MANAGE_FAVORITE_PROJECTS,children:(0,d.tZ)(d.HY,{children:(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.Psg}),iconSpacing:2,isFocusable:!0,onClick:t=>(0,T.li)(t,e.onToggleTemplate),children:e.isTemplate?"Remove from templates":"Add to templates"})})}),r&&!e.isProjectPrivate&&(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.e02}),iconSpacing:2,isFocusable:!0,onClick:t=>(0,T.li)(t,e.onProjectMoveRequest),children:"Move project"}),r&&(0,d.BX)(d.HY,{children:[(0,d.tZ)(w.R,{}),(0,d.tZ)(E.s,{icon:(0,d.tZ)(S.Z,{as:A.vwr,color:"red.600"}),color:"red.600",iconSpacing:2,onClick:t=>(0,T.li)(t,e.onProjectDeleteRequest),children:"Delete project"})]})]})}));var k=r(78517);const N=h.Ps`
  query GetCategoriesForTeam($id: String!) {
    team(id: $id) {
      __typename
      ... on Team {
        id
        categories {
          id
          slug
          name
          color
        }
      }
    }
  }
`;var R=r(44776),D=r(34231),Z=r(92074),M=r(21420),x=r(23248),L=r(83837),B=r(79472),U=r(92516),G=r(49258);const H="no_category",W=(0,i.memo)((function({moveProjectLoading:e,categoryId:t,categories:r,loading:n,onCloseRequest:o,onMoveProjectRequest:a}){const[c,l]=(0,i.useState)(null!=t?t:H),s=(0,i.useCallback)((e=>{const t=e.target.value;l(t)}),[]),u=(0,i.useCallback)((e=>{e.preventDefault(),c!==H&&a(c)}),[c,a]);return(0,d.BX)(G.Z,{title:"Move project",onClose:o,children:[(0,d.tZ)(L.f,{children:(0,d.BX)("form",{id:"move-project-form",onSubmit:u,children:[(0,d.tZ)(B.i,{children:"The project's folder can be also changed by dragging the project to a folder in the sidebar."}),(0,d.tZ)(R.k,{width:"100%",marginTop:2,children:n?(0,d.tZ)(D.M,{width:"100%",children:(0,d.tZ)(Z.$,{})}):(0,d.BX)(M.P,{onChange:s,value:c,disabled:e,children:[(0,d.tZ)("option",{value:H,children:"No folder"}),r.map((e=>(0,d.tZ)("option",{value:e.id,children:e.name},e.id)))]})})]})}),(0,d.tZ)(U.m,{children:(0,d.tZ)(x.z,{isLoading:e,type:"submit",form:"move-project-form",isDisabled:n||c===H||t===c||e,children:"Move"})})]})})),X=(0,i.memo)((function({categoryId:e,projectId:t,workspaceId:r,onCloseRequest:n}){const[o,{loading:c}]=(0,k.Y)(),{data:{categories:l},loading:s}=(e=>{var t,r;const{data:n,loading:o,error:i}=(0,y.a)(N,{variables:{id:e}});return{data:{categories:"Team"===(null==n||null===(t=n.team)||void 0===t?void 0:t.__typename)?null==n||null===(r=n.team)||void 0===r?void 0:r.categories:[]},loading:o,error:i}})(r),u=(0,i.useCallback)((async i=>{try{await o(r,t,e,i),a.Z.success({message:"Project has been moved"}),n()}catch(e){a.Z.error({message:"Something went wrong while moving the project. Please try again later or contact our support."})}}),[n,o,r,t,e]);return(0,d.tZ)(W,{moveProjectLoading:c,categoryId:e,categories:l,loading:s,onCloseRequest:n,onMoveProjectRequest:u})})),q=["workspaceId","projectId","opened","categoryId","onProjectRenameRequest"];function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const K=(0,i.memo)((function(e){const{workspaceId:t,projectId:r,opened:l,categoryId:s,onProjectRenameRequest:h}=e,E=Y(e,q),w=(0,p.d)(),{data:A,loading:P}=(0,v.m)({projectId:r,skip:!l}),{data:{projectPrivate:_,projectName:T}}=(0,I.Y)({projectId:r,skip:!l}),S=(0,i.useCallback)((()=>{w((e=>(0,d.tZ)(O.T,{workspaceId:t,projectId:r,onCloseRequest:e})))}),[w,t,r]),C=(0,i.useCallback)((()=>{w((e=>(0,d.tZ)(p.D,{children:(0,d.tZ)(m.F,{categoryId:s,projectId:r,onCloseRequest:e})})))}),[w,s,r]),k=(0,i.useCallback)((()=>{w((e=>(0,d.tZ)(X,{categoryId:s,projectId:r,workspaceId:t,onCloseRequest:e})))}),[w,s,r,t]),N=(0,i.useCallback)((()=>{if(!T)return;const{fullProjectUrl:e}=(0,c.g)({project:{id:r,name:T}});(0,n.n)(e),a.Z.info({message:"Link copied to clipboard."})}),[T,r]),{mutations:R}=(0,f.c)(e.projectId,e.workspaceId),{data:{isFavorite:D,isTemplate:Z}}=(e=>{var t,r,n,o;const{data:i,loading:a}=(0,y.a)(b,{variables:{projectId:e},fetchPolicy:"cache-first"});return{loading:a,data:{isFavorite:"Project"===(null==i||null===(t=i.projectById)||void 0===t?void 0:t.__typename)&&(null==i||null===(r=i.projectById)||void 0===r?void 0:r.isFavorite),isTemplate:"Project"===(null==i||null===(n=i.projectById)||void 0===n?void 0:n.__typename)&&(null==i||null===(o=i.projectById)||void 0===o?void 0:o.isTemplate)}}})(r),{mutations:M}=(0,g.f)(e.projectId),x=(0,i.useCallback)((()=>{D?((0,o.j)("Favorite project removed",{projectId:r,workspaceId:t,source:"workspace-sidebar"}),R.deleteProjectFromFavorites()):((0,o.j)("Favorite project added",{projectId:r,workspaceId:t,source:"workspace-sidebar"}),R.addProjectToFavorites())}),[R,D,r,t]),L=(0,i.useCallback)((()=>{(0,o.j)("Template project toggled",{projectId:r,workspaceId:t,source:"top-right-dropdown"}),M.toggleProjectTemplate(!Z)}),[M,Z,r,t]);return P?(0,d.tZ)(u,{}):(0,d.tZ)(j,$($({},E),{},{isFavorite:D,isTemplate:Z,workspaceId:t,isProjectPrivate:_,currentUserAccessType:A.userAccessType,onProjectDeleteRequest:S,onProjectDuplicateRequest:C,onProjectRenameRequest:h,onProjectMoveRequest:k,onProjectCopyLinkRequest:N,onToggleProjectFavoriteRequest:x,onToggleTemplate:L}))}))},12268:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query categoryById($categoryId: String!) {
    categoryById(id: $categoryId) {
      id
      name
      slug
      parent_category_id
      projectCount
      position
      color
    }
  }
`;function a(e){var t;const{data:r,loading:n,error:a}=(0,o.a)(i,{variables:{categoryId:e.categoryId},fetchPolicy:"cache-first"});return{data:{category:null!==(t=null==r?void 0:r.categoryById)&&void 0!==t?t:null},loading:n,error:a}}},11034:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetProjectNameById($projectId: String!) {
    projectById(id: $projectId) {
      __typename
      ... on Project {
        id
        name
        slug
        is_private
      }
    }
  }
`;function a(e){var t;const{data:r,loading:n,error:a}=(0,o.a)(i,{variables:{projectId:e.projectId},fetchPolicy:"cache-first",skip:e.skip});return"Project"===(null==r||null===(t=r.projectById)||void 0===t?void 0:t.__typename)?{data:{projectName:r.projectById.name,projectSlug:r.projectById.slug,projectPrivate:r.projectById.is_private},loading:n,error:a}:{data:{projectName:null,projectSlug:null,projectPrivate:null},loading:n,error:a}}},31222:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetProjectUserAccessType($projectId: String!) {
    projectById(id: $projectId) {
      __typename
      ... on Project {
        id
        userAccessType
      }
    }
  }
`;function a(e){var t;const{data:r,loading:n,error:a}=(0,o.a)(i,{variables:{projectId:e.projectId},fetchPolicy:"cache-first",skip:e.skip});return{data:{userAccessType:"Project"===(null==r||null===(t=r.projectById)||void 0===t?void 0:t.__typename)?r.projectById.userAccessType:null},loading:n,error:a}}},13221:(e,t,r)=>{"use strict";r.d(t,{$9:()=>d,$h:()=>s,Fx:()=>p,KW:()=>l,ql:()=>u,rK:()=>c,wA:()=>a});var n=r(51192),o=r(97054),i=r(51625);const a="onOpenAction",c="openGithubModal",l={IMPORT_IPYNB_FILE:"import-file",IMPORT_CSV:"upload-csv",CONNECT_GITHUB:"connect-github"},s={BLANK_PROJECT:"create-project",CONNECT_GITHUB:"connect-github",CONNECT_SNOWFLAKE_DEMO:"connect-snowflake-demo",IMPORT_IPYNB:"import-ipynb",IMPORT_CSV:"upload-csv",INVITE_COLLEAGUES:"invite-colleagues",INVITE_LINK:"invite-link",LINK_DOCS:"link-docs",LINK_COMMUNITY:"link-community",LINK_EXPLORE:"link-explore",LINK_CHANGELOG:"link-changelog",CONTACT_SALES:"contact-sales",SECURITY_INFO:"security-info",LINK_WEBINAR:"link-webinar",INTEGRATION_SNOWFLAKE:"integration-snowflake",INTEGRATION_REDSHIFT:"integration-redshift",INTEGRATION_BIGQUERY:"integration-bigquery",INTEGRATION_SQLSERVER:"integration-sqlserver",INTEGRATION_POSTGRESQL:"integration-postgresql",INTEGRATION_GOOGLEDRIVE:"integration-googledrive",INTEGRATION_S3:"integration-s3",INTEGRATION_ATHENA:"integration-athena",INTEGRATION_MYSQL:"integration-mysql",INTEGRATION_MONGO:"integration-mongo",INTEGRATION_ALL:"all-integrations",SAMPLE_NOTEBOOK:"sample-notebook",VIEW_DEMO:"view-demo",TIP_VISUALIZATION:"tip-visualization",TIP_PYTHONSQL:"tip-pythonsql",TIP_SCHEDULING:"tip-scheduling",TIP_COMMENTS:"tip-comments"},d=[{title:"Exploratory data visualization with chart blocks",content:(0,i.BX)(i.HY,{children:[(0,i.tZ)(n.x,{marginBottom:4,children:"Chart blocks allow you to create charts from Pandas DataFrames without using code."}),(0,i.tZ)(n.x,{children:"They are perfect for fast exploratory analysis and presentations"})]}),link:" https://deepnote.com/workspace/deepnote-8b0ebf6d-5672-4a8b-a488-2dd220383dd3/project/Showcase-ada760a1-ffcb-451b-b989-9dedbe76ba10/notebook/Notebook%201-1a15a590c3c24fc2a008728c5824eb0d",image:"/static/getting-started/tips-and-tricks-visualization.webp",cta:"Explore charts",tracking:s.TIP_VISUALIZATION},{title:"Combine Python & SQL",content:(0,i.BX)(i.HY,{children:[(0,i.tZ)(n.x,{marginBottom:4,children:"This tutorial describes how to use Deepnote's SQL cells."}),(0,i.BX)(n.x,{children:["In particular, we are looking at how you can parameterize your SQL queries with"," ",(0,i.tZ)(o.r,{target:"_blank",href:"https://deepnote.com/docs/sql-cells#using-python-and-sql",children:"JinjaSQL"})," ","and Python!"]})]}),link:" https://deepnote.com/workspace/deepnote-8b0ebf6d-5672-4a8b-a488-2dd220383dd3/project/Combine-Python-and-SQL-d2103987-9251-4c61-99d4-9421f41892c5/notebook/intro_to_SQL_cells_narrative-391cb0d1772348eabc5b3abbfe5ea8c5",image:"/static/getting-started/tips-and-tricks-pythonsql.webp",cta:"Learn more",tracking:s.TIP_PYTHONSQL},{title:"Schedule your notebooks",content:"Deepnote lets you execute your notebooks on daily, weekly, or hourly basis. This is useful if you would like to process data or update a dashboard at a regular frequency.",link:"https://deepnote.com/docs/scheduling",image:"/static/getting-started/tips-and-tricks-schedules.webp",cta:"Learn about scheduling",tracking:s.TIP_SCHEDULING},{title:"Collaborative commenting",content:"Work with others real time or asynchronously by leaving comments for your collaborators.",link:"https://deepnote.com/docs/comments",image:"/static/getting-started/tips-and-tricks-commenting.webp",cta:"Learn about comments",tracking:s.TIP_COMMENTS}],u={completedSteps:0,totalSteps:4},p={steps:{},metaData:u}},27960:(e,t,r)=>{"use strict";r.d(t,{h:()=>l});var n=r(64119),o=r(64705),i=r(91987),a=r(12459);const c=n.Ps`
  query gettingStartedProgress($id: String!) {
    team(id: $id) {
      __typename
      ... on Team {
        gettingStartedProgress {
          stepId
          completed
        }
      }
    }
  }
`,l=e=>{const{data:t,loading:r}=(0,o.a)(c,{variables:{id:e}});return{data:(0,i.useMemo)((()=>{var e;return"Team"===(null==t||null===(e=t.team)||void 0===e?void 0:e.__typename)?(0,a.m)(t.team.gettingStartedProgress):null}),[t]),isLoading:r}}},12459:(e,t,r)=>{"use strict";r.d(t,{m:()=>s,q:()=>l});var n=r(19654),o=r(13221);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=(e,t)=>(0,n.j)("Onboarding page CTA clicked",{button:t,version:"v2",wasSkipped:null,workspaceId:e}),s=e=>{if(!e)return null;const t=e.length;return e.reduce(((e,t)=>({steps:a(a({},e.steps),{},{[t.stepId]:t}),metaData:a(a({},e.metaData),{},{completedSteps:t.completed?e.metaData.completedSteps+1:e.metaData.completedSteps})})),a(a({},o.Fx),{},{metaData:a(a({},o.Fx.metaData),{},{totalSteps:t})}))}},77649:(e,t,r)=>{"use strict";r.d(t,{e:()=>p});var n=r(85686),o=r(57103),i=r(39174),a=r(23248),c=r(6351),l=r(49478),s=r(39486),d=r(91987),u=r(51625);const p=(0,d.memo)((function(e){return(0,u.tZ)(n.NI,{children:(0,u.BX)(o.K,{spacing:2,children:[(0,u.tZ)(i.l,{marginBottom:0,lineHeight:1.6,color:"gray.800",children:"Repository"}),(0,u.tZ)(a.z,{isLoading:e.loading,width:"100%",justifyContent:"flex-start",variant:"outline",colorScheme:"gray",leftIcon:(0,u.tZ)(c.J,{as:s.H$4,color:"gray.500",boxSize:4}),fontWeight:400,onClick:e.onAddRepositoriesRequest,children:"Add GitHub repositories"}),e.requestFailed?(0,u.tZ)(l.J1,{children:"Failed to get GitHub repositories. Please try again or contact our support."}):(0,u.tZ)(n.Q6,{children:"Grant Deepnote access to repositories you want to import."})]})})}))},46606:(e,t,r)=>{"use strict";r.d(t,{p:()=>c});var n=r(44776),o=r(55075),i=r(13828),a=r(51625);function c(){return(0,a.BX)(n.k,{gap:1,flexDirection:"column",children:[(0,a.tZ)(i.ZP,{height:"16px"}),(0,a.tZ)(i.ZP,{height:"32px"}),(0,a.tZ)(i.ZP,{height:"16px"}),(0,a.tZ)(o.xu,{marginBottom:3}),(0,a.tZ)(i.ZP,{height:"16px"}),(0,a.tZ)(i.ZP,{height:"32px"}),(0,a.tZ)(i.ZP,{height:"16px"})]})}},38016:(e,t,r)=>{"use strict";r.d(t,{i:()=>m});var n=r(8254),o=r(55075),i=r(44776),a=r(37139),c=r(51192),l=r(29389),s=r(39486),d=r(77424),u=r(91987),p=r(54394),g=r(51625);const m=(0,u.memo)((function({repositories:e,selectedRepository:t,teamRole:r,onSelectRepository:m,onAddRepositories:f}){var h;const[y,b]=(0,u.useState)(!1),[I,v]=(0,u.useState)(""),[O,E]=(0,u.useState)(null!=t?t:null),w=(0,u.useRef)(null),A=(0,u.useRef)(null),P=(0,u.useMemo)((()=>I?e.filter((e=>e.fullName.toLowerCase().includes(I.toLowerCase()))):e),[e,I]),_=P.reduce(((e,t)=>(e[t.id]=(0,u.createRef)(),e)),{}),T=(0,u.useCallback)((e=>{b(!1),v(""),m(e)}),[m]);(0,n.O)({ref:w,handler:()=>{b(!1),v("")}});const S=(0,u.useCallback)((e=>{v(e.currentTarget.value),b(!0)}),[]),C=(0,u.useCallback)((e=>{E(e)}),[]),j=(0,u.useCallback)((e=>{if("Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),b(!1),v(""),O&&T(O)),"ArrowUp"===e.key){e.preventDefault();const r=Math.max(P.findIndex((e=>e.id===(null==O?void 0:O.id))),0);if(r>0){var t;const e=P[r-1];b(!0),E(e),null===(t=_[e.id].current)||void 0===t||t.scrollIntoView({behavior:"auto",block:"nearest"})}}if("ArrowDown"===e.key){e.preventDefault();const t=Math.max(P.findIndex((e=>e.id===(null==O?void 0:O.id))),0);if(t>=0&&t<P.length-1){var r;const e=P[t+1];b(!0),E(e),null===(r=_[e.id].current)||void 0===r||r.scrollIntoView({behavior:"auto",block:"nearest"})}}}),[P,T,O,_]),k=(0,u.useCallback)((()=>{var e;y?b(!1):(b(!0),null===(e=A.current)||void 0===e||e.focus())}),[y]);return(0,g.BX)(o.xu,{position:"relative",ref:w,children:[(0,g.BX)(i.k,{alignItems:"center",border:"1px",borderColor:"gray.300",borderRadius:4,paddingX:3,paddingY:0,width:"100%",children:[(0,g.tZ)(a.I,{_placeholder:{color:"black"},border:0,color:"black",cursor:"pointer",flex:1,fontSize:"xs",outline:"none",paddingX:0,paddingY:2,placeholder:null!==(h=null==t?void 0:t.fullName)&&void 0!==h?h:"Select repository",ref:A,role:"combobox",value:I,onChange:S,onClick:()=>b(!0),onFocus:()=>b(!0),onKeyDown:j}),(0,g.tZ)(l.J,{as:s.sls,boxSize:4,color:"gray.500",cursor:"pointer",onClick:k})]}),(0,g.BX)(i.k,{background:"white",border:"1px",borderColor:"gray.200",borderRadius:"md",flexDirection:"column",display:y?"flex":"none",maxHeight:220,paddingY:2,position:"absolute",overflowX:"hidden",overflowY:"auto",top:38,width:"100%",zIndex:10,children:[P.map((e=>(0,g.tZ)(o.xu,{background:e.id===(null==t?void 0:t.id)||e.id===(null==O?void 0:O.id)?"gray.100":"white",color:"gray.800",cursor:"pointer",fontSize:"xs",paddingX:3,paddingY:2,ref:_[e.id],tabIndex:-1,onClick:()=>T(e),onMouseEnter:()=>C(e),children:(0,g.tZ)(c.x,{noOfLines:1,maxWidth:320,children:e.fullName})},e.id))),(0,g.BX)(p.a,{teamAction:d.r_.EDIT_GITHUB_REPOSITORIES,role:r,children:[(0,g.tZ)(o.xu,{borderBottom:"1px",borderColor:"gray.200",marginY:2}),(0,g.BX)(i.k,{_hover:{bg:"gray.100"},alignItems:"center",cursor:"pointer",gap:3,paddingX:3,paddingY:2,tabIndex:-1,onClick:()=>f(),children:[(0,g.tZ)(l.J,{as:s.H$4,color:"gray.500",boxSize:4}),(0,g.tZ)(c.x,{color:"gray.800",fontSize:"xs",children:"Add GitHub repositories"})]})]})]})]})}))},73825:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(3285),o=r(91987),i=r(95001),a=r(64119),c=r(64705);const l=a.Ps`
  query GetGitHubAppData($workspaceId: String!) {
    gitHubRepositories(workspaceId: $workspaceId) {
      id
      fullName
      name
      owner
    }
  }
`;function s(e){const t=(0,i.E)(),{data:r,loading:a,refetch:s,error:d}=function(e){var t;const{data:r,error:n,loading:o,refetch:i}=(0,c.a)(l,{variables:{workspaceId:e}});return{data:{gitHubRepositories:null!==(t=null==r?void 0:r.gitHubRepositories)&&void 0!==t?t:[]},refetch:i,loading:o,error:n}}(e),[u,p]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1);return{data:r,error:d,loadingGitHubData:a,loadingRepositories:u,failedLoadingRepositories:g,handleAddRepositoriesRequest:(0,o.useCallback)((async()=>{p(!0);try{await t.installGitHubApp(e),m(!1),await s()}catch(e){m(!0),(0,n.D)(new Error("Failed to install GitHub app"),"error")}finally{p(!1)}}),[t,e,s])}}},3659:(e,t,r)=>{"use strict";r.d(t,{R:()=>o,y:()=>n});const n={BUILT_IN:"Built-in",CODE_TEMPLATE:"Code template"},o={DATABASE:"Database",DATA_WAREHOUSE:"Data warehouse",DATA_LAKEHOUSE:"Data lakehouse",SQL_QUERY_ENGINE:"SQL query engine",FILES:"Files",DATA_PROCESSING:"Data processing",VERSION_CONTROL:"Version control",DOCKER_CONTAINER:"Docker container",COLLABORATION:"Collaboration",MACHINE_LEARNING:"Machine learning",OTHER:"Other"}},7446:(e,t,r)=>{"use strict";r.d(t,{H:()=>m});var n=r(85686),o=r(57103),i=r(39174),a=r(49478),c=r(27214),l=r(51192),s=r(51625);const d=()=>(0,s.tZ)(l.x,{as:"span",color:"gray.800",fontWeight:"400",children:"(optional)"});function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=e=>{const{formState:{errors:t}}=(0,c.Gc)();if(e.hidden)return(0,s.tZ)(n.NI,{display:"none",children:e.children});const r=t[e.name];return(0,s.tZ)(n.NI,p(p({isInvalid:Boolean(r)},e.formControlProps),{},{children:(0,s.BX)(o.K,{spacing:2,children:[e.label&&(0,s.BX)(i.l,{marginBottom:0,lineHeight:1.6,color:"gray.800",children:[e.label," ",e.optionalLabel&&(0,s.tZ)(d,{})]}),e.children,r?(0,s.tZ)(a.J1,{children:r.message}):null]})}))}},18415:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var n=r(64705),o=r(44539),i=r(74413),a=r(55045);const c=e=>{const{data:t,loading:r,error:c}=(0,n.a)(a.p$,{variables:{id:e.id},skip:!e.id||e.isNew}),[l,{loading:s,error:d}]=(0,o.D)(a.zo,{refetchQueries:[{query:i.E,variables:{workspaceId:e.workspaceId}}]}),[u,{loading:p,error:g}]=(0,o.D)(a.Xj,{refetchQueries:[{query:i.E,variables:{workspaceId:e.workspaceId}}]});return{data:t,dataLoading:r,dataError:c,createNewIntegration:l,createLoading:s,createError:d,updateIntegration:u,updateLoading:p,updateError:g}}},74413:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,s:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetIntegrationsForTeam($workspaceId: String!) {
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        integrations {
          id
          name
          type
          created_at
          updated_at
          projectCount
          duplicated_from
          created_by
        }
      }
    }
  }
`,a=e=>{var t,r;const{data:n,loading:a,error:c}=(0,o.a)(i,{variables:{workspaceId:e}});return{data:{integrations:"Team"===(null==n||null===(t=n.team)||void 0===t?void 0:t.__typename)?null==n||null===(r=n.team)||void 0===r?void 0:r.integrations:[]},loading:!!a&&!n,error:c}}},47425:(e,t,r)=>{"use strict";r.d(t,{Du:()=>d,Xo:()=>s,tk:()=>u});var n=r(39486),o=r(37936),i=r(3659);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={name:"Unknown integration",icon:n.og3},d={mongodb:c(c({},o.kM.mongodb),{},{id:"mongodb",icon:n.bep,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),pgsql:c(c({},o.kM.pgsql),{},{id:"pgsql",icon:n._CE,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),clickhouse:c(c({},o.kM.clickhouse),{},{id:"clickhouse",icon:n.kc_,usageType:i.y.BUILT_IN,category:i.R.DATA_WAREHOUSE}),redshift:c(c({},o.kM.redshift),{},{id:"redshift",icon:n.UQY,usageType:i.y.BUILT_IN,category:i.R.DATA_WAREHOUSE,upsellModalType:"integration-redshift"}),athena:c(c({},o.kM.athena),{},{id:"athena",icon:n.UjL,usageType:i.y.BUILT_IN,category:i.R.DATA_WAREHOUSE,upsellModalType:"integration-athena"}),github:c(c({},o.kM.github),{},{id:"github",icon:n.ETn,usageType:i.y.BUILT_IN,category:i.R.VERSION_CONTROL}),gitlab:c(c({},o.kM.gitlab),{},{id:"gitlab",icon:n.Ts0,usageType:i.y.CODE_TEMPLATE,category:i.R.VERSION_CONTROL}),env:c(c({},o.kM.env),{},{id:"env",icon:n.Qmz,usageType:i.y.BUILT_IN,category:i.R.OTHER}),"google-drive":c(c({},o.kM["google-drive"]),{},{id:"google-drive",icon:n.mfL,usageType:i.y.BUILT_IN,category:i.R.FILES}),"google-sheets":c(c({},o.kM["google-sheets"]),{},{id:"google-sheets",icon:n.K55,usageType:i.y.CODE_TEMPLATE,category:i.R.FILES}),local:c(c({},o.kM.local),{},{id:"local",icon:n.rG2,usageType:i.y.BUILT_IN,category:i.R.FILES}),s3:c(c({},o.kM.s3),{},{id:"s3",icon:n.Lrn,usageType:i.y.BUILT_IN,category:i.R.FILES,upsellModalType:"integration-s3"}),mysql:c(c({},o.kM.mysql),{},{id:"mysql",icon:n.Em1,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),dremio:c(c({},o.kM.dremio),{},{id:"dremio",icon:n.$UR,usageType:i.y.BUILT_IN,category:i.R.SQL_QUERY_ENGINE,upsellModalType:"integration-dremio"}),mariadb:c(c({},o.kM.mariadb),{},{id:"mariadb",icon:n.kG7,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),mindsdb:c(c({},o.kM.mindsdb),{},{id:"mindsdb",icon:n.PZJ,usageType:i.y.BUILT_IN,category:i.R.MACHINE_LEARNING}),trino:c(c({},o.kM.trino),{},{id:"trino",icon:n.h90,usageType:i.y.BUILT_IN,category:i.R.SQL_QUERY_ENGINE,upsellModalType:"integration-trino"}),"big-query":c(c({},o.kM["big-query"]),{},{id:"big-query",icon:n.pn3,usageType:i.y.BUILT_IN,category:i.R.DATA_WAREHOUSE,upsellModalType:"integration-bigquery"}),gcs:c(c({},o.kM.gcs),{},{id:"gcs",icon:n.C0D,usageType:i.y.BUILT_IN,category:i.R.DATA_PROCESSING,upsellModalType:"integration-gcs"}),snowflake:c(c({},o.kM.snowflake),{},{id:"snowflake",icon:n.jeN,usageType:i.y.BUILT_IN,category:i.R.DATA_WAREHOUSE,upsellModalType:"integration-snowflake"}),"snowflake-snowpark":c(c({},o.kM["snowflake-snowpark"]),{},{id:"snowflake-snowpark",icon:n.Yt6,usageType:i.y.CODE_TEMPLATE,category:i.R.DATA_PROCESSING}),dbt:c(c({},o.kM.dbt),{},{id:"dbt",icon:n.TvS,usageType:i.y.BUILT_IN,category:i.R.DATA_PROCESSING,upsellModalType:"integration-snowflake"}),dropbox:c(c({},o.kM.dropbox),{},{id:"dropbox",icon:n.Xwr,usageType:i.y.CODE_TEMPLATE,category:i.R.FILES}),box:c(c({},o.kM.box),{},{id:"box",icon:n.O5d,usageType:i.y.CODE_TEMPLATE,category:i.R.FILES}),slack:c(c({},o.kM.slack),{},{id:"slack",icon:n.mUE,usageType:i.y.CODE_TEMPLATE,category:i.R.COLLABORATION}),notion:c(c({},o.kM.notion),{},{id:"notion",icon:n.UyB,usageType:i.y.CODE_TEMPLATE,category:i.R.COLLABORATION}),airtable:c(c({},o.kM.airtable),{},{id:"airtable",icon:n.Fdf,usageType:i.y.CODE_TEMPLATE,category:i.R.COLLABORATION}),telegram:c(c({},o.kM.telegram),{},{id:"telegram",icon:n.YGC,usageType:i.y.CODE_TEMPLATE,category:i.R.COLLABORATION}),supabase:c(c({},o.kM.supabase),{},{id:"supabase",icon:n.LGC,usageType:i.y.CODE_TEMPLATE,category:i.R.DATABASE}),"great-expectations":c(c({},o.kM["great-expectations"]),{},{id:"great-expectations",icon:n.m5y,usageType:i.y.CODE_TEMPLATE,category:i.R.DATA_PROCESSING}),influxdb:c(c({},o.kM.influxdb),{},{id:"influxdb",icon:n.zuO,usageType:i.y.CODE_TEMPLATE,category:i.R.DATABASE}),onedrive:c(c({},o.kM.onedrive),{},{id:"onedrive",icon:n.RkN,usageType:i.y.CODE_TEMPLATE,category:i.R.FILES}),"azure-blob-storage":c(c({},o.kM["azure-blob-storage"]),{},{id:"azure-blob-storage",icon:n.Nak,usageType:i.y.CODE_TEMPLATE,category:i.R.FILES}),"deepnote-api":c(c({},o.kM["deepnote-api"]),{},{id:"deepnote-api",icon:n.MKp,usageType:i.y.BUILT_IN,category:i.R.OTHER}),"weights-and-biases":c(c({},o.kM["weights-and-biases"]),{},{id:"weights-and-biases",icon:n.DZE,usageType:i.y.CODE_TEMPLATE,category:i.R.MACHINE_LEARNING}),comet:c(c({},o.kM.comet),{},{id:"comet",icon:n.h_f,usageType:i.y.CODE_TEMPLATE,category:i.R.MACHINE_LEARNING}),neptune_ai:c(c({},o.kM.neptune_ai),{},{id:"neptune_ai",icon:n.VwJ,usageType:i.y.CODE_TEMPLATE,category:i.R.MACHINE_LEARNING}),ecr:c(c({},o.kM.ecr),{},{id:"ecr",icon:n._qN,usageType:i.y.BUILT_IN,category:i.R.DOCKER_CONTAINER,upsellModalType:"integration-ecr"}),gcr:c(c({},o.kM.gcr),{},{id:"gcr",icon:n.Kyf,usageType:i.y.BUILT_IN,category:i.R.DOCKER_CONTAINER,upsellModalType:"integration-gcr"}),dockerhub:c(c({},o.kM.dockerhub),{},{id:"dockerhub",icon:n.y3m,usageType:i.y.BUILT_IN,category:i.R.DOCKER_CONTAINER,upsellModalType:"integration-dockerhub"}),"ssh-key":c(c({},o.kM["ssh-key"]),{},{id:"ssh-key",icon:n.BKe,usageType:i.y.BUILT_IN,category:i.R.OTHER}),"sql-server":c(c({},o.kM["sql-server"]),{},{id:"sql-server",icon:n.HwW,usageType:i.y.BUILT_IN,category:i.R.DATABASE,upsellModalType:"integration-sql-server"}),spark:c(c({},o.kM.spark),{},{id:"spark",icon:n.xT3,usageType:i.y.CODE_TEMPLATE,category:i.R.DATA_PROCESSING}),dataproc:c(c({},o.kM.dataproc),{},{id:"dataproc",icon:n.am9,usageType:i.y.CODE_TEMPLATE,category:i.R.DATA_PROCESSING}),ssh_tunnel:c(c({},o.kM.ssh_tunnel),{},{id:"ssh_tunnel",icon:n.BKe,usageType:i.y.BUILT_IN,category:i.R.OTHER,upsellModalType:"integration-ssh-tunnel"}),github_package:c(c({},o.kM.github_package),{},{id:"github_package",icon:n.ETn,usageType:i.y.BUILT_IN,category:i.R.FILES,upsellModalType:"integration-github-package"}),alloydb:c(c({},o.kM.alloydb),{},{id:"alloydb",icon:n.P4D,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),"cloud-sql":c(c({},o.kM["cloud-sql"]),{},{id:"cloud-sql",icon:n.KcU,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),spanner:c(c({},o.kM.spanner),{},{id:"spanner",icon:n.rcu,usageType:i.y.BUILT_IN,category:i.R.DATABASE}),materialize:c(c({},o.kM.materialize),{},{id:"materialize",icon:n.b8x,usageType:i.y.BUILT_IN,category:i.R.DATABASE})},u=Object.values(d)},55045:(e,t,r)=>{"use strict";r.d(t,{Xj:()=>a,p$:()=>i,q:()=>c,zo:()=>o});var n=r(64119);const o=n.Ps`
  mutation createIntegration($integration: Integration!) {
    createIntegration(input: $integration) @rest(type: "Integration", path: "/integration/", method: "POST") {
      id
    }
  }
`,i=n.Ps`
  query getIntegration($id: ID!) {
    getIntegration(id: $id) @rest(type: "Integration", path: "/integration/:id", method: "GET") {
      name
      metadata
    }
  }
`,a=n.Ps`
  mutation updateIntegration($id: ID!, $integration: Integration!) {
    updateIntegration(id: $id, input: $integration)
      @rest(type: "Integration", path: "/integration/:id", method: "PATCH") {
      id
      name
      metadata
    }
  }
`,c=n.Ps`
  mutation deleteIntegration($id: ID!) {
    deleteIntegration(id: $id) @rest(type: "Integration", path: "/integration/:id", method: "DELETE") {
      NoResponse
    }
  }
`},26290:(e,t,r)=>{"use strict";r.d(t,{I_:()=>v});var n=r(64119),o=r(64705),i=r(44539),a=r(91987),c=r(6217);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r;const n=t.data?t.data.updateOnboardingInfoForTeam:null;if(null==n||!n.teamId)return;const o=n.teamId,i=null!==(r=e.readQuery({query:c.J,variables:{workspaceId:o}}))&&void 0!==r?r:{getWorkspaceOnboardingInfo:null};e.writeQuery({query:c.J,data:{getWorkspaceOnboardingInfo:s(s({},i.getWorkspaceOnboardingInfo),n)},variables:{workspaceId:o}})}const p=n.Ps`
  query getUserDetailsForOnboarding {
    me {
      __typename
      ... on Profile {
        id
        name
        email
        last_name
        sharedWithMeProjectsCount
        is_onboarded
        onboardingInfo {
          id
          usage
          teamSize
          motivation
        }
      }
    }
  }
`,g=n.Ps`
  query getTeams2 {
    teams {
      id
      slug
      projectCount
    }
  }
`,m=n.Ps`
  mutation updateProfileFirstName($firstName: String!) {
    updateProfileFirstName(firstName: $firstName) {
      id
      name
    }
  }
`,f=n.Ps`
  mutation updateProfileLastName($lastName: String!) {
    updateProfileLastName(lastName: $lastName) {
      id
      last_name
    }
  }
`,h=n.Ps`
  mutation markUserAsOnboarded {
    markUserAsOnboarded
  }
`,y=n.Ps`
  mutation setOnboardingInfoWorkspaceId($onboardingInfoId: String!, $workspaceId: String!) {
    setOnboardingInfoWorkspaceId(onboardingInfoId: $onboardingInfoId, workspaceId: $workspaceId) {
      id
    }
  }
`,b=n.Ps`
  mutation updateOnboardingInfo($usage: String!, $teamSize: String, $motivation: String) {
    updateOnboardingInfoForUser(usage: $usage, teamSize: $teamSize, motivation: $motivation) {
      id
      userId
      usage
      teamSize
      motivation
    }
  }
`,I=n.Ps`
  mutation updateOnboardingInfoForTeam(
    $teamId: String!
    $usage: String!
    $teamSize: String
    $motivation: String
    $skipReason: String
  ) {
    updateOnboardingInfoForTeam(
      teamId: $teamId
      usage: $usage
      teamSize: $teamSize
      motivation: $motivation
      skipReason: $skipReason
    ) {
      __typename
      id
      teamId
      usage
      teamSize
      motivation
      skipReason
      createdAt
      updatedAt
    }
  }
`;function v(){var e,t,r,n,c,l;const{data:s,loading:d,refetch:v}=(0,o.a)(p),{data:O,loading:E}=(0,o.a)(g),[w]=(0,i.D)(m),A=(0,a.useCallback)((async e=>{await w({variables:{firstName:e}})}),[w]),[P]=(0,i.D)(f),_=(0,a.useCallback)((async e=>{await P({variables:{lastName:e}})}),[P]),[T]=(0,i.D)(h),S=(0,a.useCallback)((async()=>{await T()}),[T]),[C]=(0,i.D)(y),j=(0,a.useCallback)((async(e,t)=>{await C({variables:{onboardingInfoId:e,workspaceId:t}})}),[C]),[k]=(0,i.D)(b),N=(0,a.useCallback)((async e=>{var t,r,n;await k({variables:{usage:null!==(t=e.usage)&&void 0!==t?t:null,teamSize:null!==(r=e.teamSize)&&void 0!==r?r:null,motivation:null!==(n=e.motivation)&&void 0!==n?n:null}}),await v()}),[k,v]),[R]=(0,i.D)(I,{refetchQueries:["GetWorkspaceList"],update:u}),D=(0,a.useCallback)((async(e,t,r)=>{var n,o,i;await R({variables:{teamId:e,usage:r.usage,teamSize:null!==(n=r.teamSize)&&void 0!==n?n:null,motivation:null!==(o=r.motivation)&&void 0!==o?o:null,skipReason:null!==(i=r.addDataSkipReason)&&void 0!==i?i:null}}),await v()}),[R,v]);return{data:{onboardingInfoId:null!==(e="Profile"===(null==s||null===(t=s.me)||void 0===t?void 0:t.__typename)?null==s||null===(r=s.me.onboardingInfo)||void 0===r?void 0:r.id:null)&&void 0!==e?e:null,userData:null!==(n="Profile"===(null==s||null===(c=s.me)||void 0===c?void 0:c.__typename)?null==s?void 0:s.me:null)&&void 0!==n?n:null,userTeams:null!==(l=null==O?void 0:O.teams)&&void 0!==l?l:[]},loading:d&&!s||E,mutations:{markUserAsOnboarded:S,updateProfileFirstName:A,updateProfileLastName:_,updateOnboardingInfo:N,updateOnboardingInfoForTeam:D,setOnboardingInfoWorkspaceId:j}}}},6217:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,S:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query getWorkspaceOnboardingInfo($workspaceId: String!) {
    getWorkspaceOnboardingInfo(workspaceId: $workspaceId) {
      __typename
      id
      userId
      teamId
      usage
      teamSize
      motivation
      createdAt
      updatedAt
    }
  }
`;function a(e){const{data:t,loading:r}=(0,o.a)(i,{variables:{workspaceId:e.workspaceId}});return{data:{workspaceOnboardingInfo:null==t?void 0:t.getWorkspaceOnboardingInfo},loading:r}}},32976:(e,t,r)=>{"use strict";r.d(t,{J:()=>f});var n=r(5244),o=r(55075),i=r(57862),a=r(97217),c=r(10753),l=r(72558),s=r(54748),d=r(91987),u=r(24318),p=r(93035),g=r(51625);const m=(0,n.G)(((e,t)=>(0,g.tZ)(o.xu,{ref:t,color:"gray.500",cursor:"pointer",_hover:{color:"gray.700",backgroundColor:"gray.200",borderRadius:"sm"},onClick:e.onClick,children:e.children})));function f(e){const[{open:t,closing:r,offset:n},{openDropdown:o,closeDropdown:f,anchorRef:h}]=(0,u.b)(),y=Boolean(n),b=(0,i.F)(),I=(0,d.useMemo)((()=>b.zIndices.modal+1),[b.zIndices.modal]);return(0,p.av)(o,f),(0,g.BX)(a.v,{isLazy:!r,closeOnBlur:!0,closeOnSelect:!0,isOpen:t&&!r,placement:y?"auto-start":"auto-end",offset:null!=n?n:void 0,onOpen:o,onClose:f,children:[(0,g.tZ)(c.j,{as:m,ref:h,onClick:e=>{e.stopPropagation(),o()},children:e.menuButton}),(0,g.tZ)(l.h,{children:(0,g.tZ)(s.q,{width:235,zIndex:I,children:e.children({open:t})})})]})}},70199:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(44776),o=r(6351),i=r(51192),a=r(91987),c=r(51625);const l=(0,a.memo)((function(e){const{iconColor:t="gray.500",textColor:r="gray.600"}=e;return(0,c.BX)(n.k,{marginTop:4,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:8,border:"1px dashed",borderColor:"gray.300",borderRadius:"sm",children:[(0,c.tZ)(n.k,{width:8,height:8,alignItems:"center",justifyContent:"center",borderRadius:"50%",border:"1px solid",borderColor:t,children:(0,c.tZ)(o.J,{as:e.icon,width:4,height:4,color:t})}),(0,c.tZ)(i.x,{marginTop:2,color:r,fontSize:"xs",fontWeight:600,textAlign:"center",children:e.title}),(0,c.tZ)(i.x,{marginTop:2,color:r,fontSize:"xs",textAlign:"center",children:e.description})]})}))},67989:(e,t,r)=>{"use strict";r.d(t,{m:()=>Ce});var n=r(44776),o=r(55075),i=r(91987),a=r(96645),c=r(46330),l=r(37139),s=r(75055),d=r(29389),u=r(39486),p=r(85110),g=r.n(p),m=r(51625);const f=(0,i.memo)((function(e){const{onSearchRequest:t}=e,r=(0,i.useMemo)((()=>t?g()(t,250):null),[t]);(0,i.useEffect)((()=>{null==r||r.cancel()}),[r]);const n=(0,i.useRef)(),[o,p]=(0,i.useState)(""),f=(0,i.useCallback)((()=>{var e;p(""),null==r||r(""),null===(e=n.current)||void 0===e||e.focus()}),[r]),h=(0,i.useCallback)((e=>{const t=e.target.value;p(t),null==r||r(t)}),[r]),y=(0,i.useCallback)((e=>{"Escape"===e.key&&f()}),[f]);return(0,m.tZ)(m.HY,{children:(0,m.BX)(a.B,{variant:"outline",width:80,children:[(0,m.tZ)(c.Z,{pointerEvents:"none",children:(0,m.tZ)(d.J,{as:u.Weu,w:4,h:4,color:"gray.500"})}),(0,m.tZ)(l.I,{ref:n,type:"text",placeholder:"Filter",value:o,_placeholder:{color:"gray.500"},onChange:h,onKeyDown:y}),o&&(0,m.tZ)(c.x,{children:(0,m.tZ)(s.P,{color:"gray.500",onClick:f,children:(0,m.tZ)(d.J,{as:u.bCQ,w:4,h:4})})})]})})}));var h=r(64119),y=r(44539),b=r(87340);const I=h.Ps`
  mutation stopProjectHardware($projectId: String!) {
    stopProjectHardware(id: $projectId) {
      stoppedProjectId
    }
  }
`;var v=r(49),O=r(78890),E=r(76077),w=r(13636),A=r(95444),P=r(70199);const _=(0,i.memo)((function(e){return e.emptyDialog?e.emptyDialog:(0,m.tZ)(P.g,{icon:u.H$4,title:"Create a new project",description:(0,m.BX)(m.HY,{children:["Projects contain notebooks, data and they can be shared via link or with collaborators.",(0,m.tZ)("br",{}),"Folders are used to organize projects for you and your team."]})})})),T=(0,i.memo)((function(){return(0,m.tZ)(P.g,{icon:u.Pz_,iconColor:"red.500",textColor:"red.600",title:"Problem loading projects",description:(0,m.tZ)(m.HY,{children:"The list of projects failed to be loaded. If the problem persists, please contact our support team."})})})),S=(0,i.memo)((function(e){return(0,m.tZ)(P.g,{icon:u.U7Q,title:`No results for "${e.searchQuery}"`,description:"There are no projects or folders matching the search query."})}));var C=r(37664),j=r(93035),k=r(32085),N=r(32976);const R=(0,i.memo)((function(e){return(0,m.tZ)(n.k,{flexDirection:"row",alignItems:"center",children:(0,m.tZ)(N.J,{menuButton:(0,m.tZ)(d.J,{as:u.bHd,width:5,height:5}),children:()=>(0,m.tZ)(k.a,{workspaceId:e.workspaceId,categoryId:e.categoryId,onCategoryRenameRequest:e.onCategoryRenameRequest})})})}));var D=r(52475),Z=r(51192);const M=(0,i.memo)((function(){return(0,m.tZ)(n.k,{flexDirection:"row",alignItems:"center",children:(0,m.tZ)(Z.x,{color:"gray.500",children:""})})}));var x=r(44906);function L(e){const{height:t,hoverable:r=!0,dropTargetActive:o=!1}=e;return(0,m.BX)(x.U,{align:"stretch",justify:"space-between",spacing:2,height:t,paddingLeft:2,backgroundColor:o?"blue.100":"white",_hover:r?{backgroundColor:o?"blue.100":"gray.50"}:{},children:[(0,m.tZ)(n.k,{width:298/896*100+"%",minWidth:298/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[0]}),(0,m.tZ)(n.k,{width:85/896*100+"%",minWidth:85/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[1]}),(0,m.tZ)(n.k,{width:115/896*100+"%",minWidth:115/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[2]}),(0,m.tZ)(n.k,{width:180/896*100+"%",minWidth:180/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[3]}),(0,m.tZ)(n.k,{width:145/896*100+"%",minWidth:145/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[4]}),(0,m.tZ)(n.k,{width:38/896*100+"%",minWidth:38/896*100+"%",flexDirection:"row",alignItems:"center",children:e.children[5]})]})}const B=(0,i.memo)((function(e){const{isPopoverOpen:t,openPopover:r,closePopover:n}=(0,C.v)({opened:!1});return(0,m.tZ)(j.du,{children:(0,m.BX)(L,{height:58,dropTargetActive:Boolean(e.dropTargetActive),children:[(0,m.tZ)(D.G,{categoryId:e.categoryId,name:e.name,url:e.url,renaming:t,onClosePopoverRequest:n}),(0,m.tZ)(M,{}),(0,m.tZ)(M,{}),(0,m.tZ)(M,{}),(0,m.tZ)(M,{}),(0,m.tZ)(R,{workspaceId:e.workspaceId,categoryId:e.categoryId,onCategoryRenameRequest:r})]})})}));var U=r(21258),G=r(92020);const H=["breadcrumbs"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const $=(0,i.memo)((function(e){const{breadcrumbs:t}=e,r=F(e,H),{categoryId:n}=r,o=(0,i.useMemo)((()=>t.map((({id:e})=>e))),[t]),a=(0,i.useMemo)((()=>({categoryId:o.length>1?o[o.length-1]:null,private:!1})),[o]),c=(0,i.useMemo)((()=>({categoryId:n})),[n]),l=(0,i.useMemo)((()=>[U.d.ProjectCategory,U.d.ProjectCard]),[]),s=(0,i.useMemo)((()=>({categoryId:n,private:!0})),[n]),d=(0,i.useMemo)((()=>[{provides:U.d.ProjectCategory,id:n},...o.flatMap((e=>e?[{provides:U.d.ProjectCategory,id:e}]:[]))]),[n,o]);return(0,m.tZ)(G.eL,{type:U.d.ProjectCategory,id:n,source:a,children:(0,m.tZ)(G.Tl,{acceptedItemType:l,shallow:!0,id:c,ignoredSource:s,ignoredItems:d,children:({ref:e,activeDropTarget:t})=>(0,m.tZ)("div",{ref:e,children:(0,m.tZ)(B,X(X({},r),{},{dropTargetActive:Boolean(t&&t.categoryId===n&&null==t.position)}))})})})})),V=(0,i.memo)((function(e){return(0,m.tZ)(n.k,{flexDirection:"row",alignItems:"center",paddingLeft:e.paddingLeft,children:e.title&&(0,m.tZ)(Z.x,{color:"gray.700",children:e.title})})}));var Y=r(97217),K=r(10753),z=r(23248),J=r(54748),Q=r(87036);const ee=(0,i.memo)((function(e){var t;const{orderBy:r,onOrderRequest:o}=e,a=[{property:"last_opened_by_me_desc",title:"Recently opened by me",onClick:(0,i.useCallback)((()=>{null==o||o("last_opened_by_me_desc")}),[o])},{property:"last_opened_by_me_asc",title:"Least recently opened by me",onClick:(0,i.useCallback)((()=>{null==o||o("last_opened_by_me_asc")}),[o])},{property:"name_asc",title:"Name ascending",onClick:(0,i.useCallback)((()=>{null==o||o("name_asc")}),[o])},{property:"name_desc",title:"Name descending",onClick:(0,i.useCallback)((()=>{null==o||o("name_desc")}),[o])},{property:"created_desc",title:"Newest",onClick:(0,i.useCallback)((()=>{null==o||o("created_desc")}),[o])},{property:"created_asc",title:"Oldest",onClick:(0,i.useCallback)((()=>{null==o||o("created_asc")}),[o])},{property:"last_edited_desc",title:"Recently updated",onClick:(0,i.useCallback)((()=>{null==o||o("last_edited_desc")}),[o])},{property:"last_edited_asc",title:"Least recently updated",onClick:(0,i.useCallback)((()=>{null==o||o("last_edited_asc")}),[o])}],c=null!=r&&r.includes("desc")?"desc":"asc";return(0,m.tZ)(n.k,{flexDirection:"row",alignItems:"center",children:(0,m.BX)(Y.v,{placement:"auto-end",children:[(0,m.tZ)(K.j,{as:z.z,colorScheme:"gray",variant:"ghost",color:"gray.700",marginLeft:-2,rightIcon:(0,m.tZ)(d.J,{as:"desc"===c?u.Aad:u.ul_,width:4,height:4,color:"gray.500"}),children:null===(t=a.find((t=>t.property===e.orderBy)))||void 0===t?void 0:t.title}),(0,m.tZ)(J.q,{children:a.map((e=>(0,m.tZ)(Q.s,{onClick:e.onClick,children:e.title},e.property)))})]})})})),te=(0,i.memo)((function(e){var t;return(0,m.BX)(L,{height:12,hoverable:!1,children:[(0,m.tZ)(V,{title:"Name",paddingLeft:7}),(0,m.tZ)(V,{title:"Status"}),(0,m.tZ)(V,{title:"Sharing"}),(0,m.tZ)(V,{title:"Author"}),(0,m.tZ)(ee,{orderBy:e.orderBy,onOrderRequest:null!==(t=e.onOrderRequest)&&void 0!==t?t:null}),(0,m.tZ)(V,{})]})}));var re=r(6606),ne=r(16183);const oe=(0,i.memo)((function(e){return(0,m.BX)(n.k,{flexDirection:"row",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",children:[(0,m.tZ)(o.xu,{role:"group",marginRight:2,children:null!=e.name&&e.avatarUrl&&(0,m.tZ)(re.E,{alt:e.name,src:e.avatarUrl,width:22,height:22,style:{borderRadius:"50%",maxHeight:"22px",objectFit:"cover"}})}),(0,m.BX)(n.k,{flexDirection:"column",justifyContent:"center",overflow:"hidden",children:[null!=e.name&&(0,m.tZ)(Z.x,{color:"gray.950",overflow:"hidden",textOverflow:"ellipsis",children:e.name}),null!=e.createdAt&&(0,m.BX)(Z.x,{color:"gray.700",children:["Created ",(0,m.tZ)(ne.b,{date:new Date(e.createdAt)})]})]})]})}));var ie=r(50914),ae=r(72421);const ce=(0,i.memo)((function(e){const{refetch:t}=(0,ae.W)(e.workspaceId),r=(0,i.useCallback)((async()=>{await t()}),[t]);return(0,m.tZ)(n.k,{flexDirection:"row",alignItems:"center",children:(0,m.tZ)(N.J,{menuButton:(0,m.tZ)(d.J,{onClick:r,as:u.bHd,width:5,height:5}),children:({open:t})=>t?(0,m.tZ)(ie.k,{categoryId:e.categoryId,workspaceId:e.workspaceId,projectId:e.projectId,opened:t,url:e.url,onProjectRenameRequest:e.onProjectRenameRequest}):null})})}));var le=r(46023),se=r(97054);const de={private:"Private",public:"Public",shared:"Shared with me",workspace:"Workspace"},ue={private:u.KDx,public:u.Toc,shared:u.H2M,workspace:u.qRw},pe=(0,i.memo)((function(e){return(0,m.BX)(n.k,{flexDirection:"column",justifyContent:"center",overflow:"hidden",whiteSpace:"nowrap",children:[(0,m.BX)(n.k,{flexDirection:"row",alignItems:"center",children:[(0,m.tZ)(d.J,{as:ue[e.sharingStatus],width:4,height:4,color:"gray.500",marginRight:1}),(0,m.tZ)(Z.x,{color:"gray.950",overflow:"hidden",textOverflow:"ellipsis",children:de[e.sharingStatus]})]}),e.publishedAppUrl&&(0,m.tZ)(se.r,{isExternal:!0,href:e.publishedAppUrl,variant:"project-list-inline",children:"Open app"})]})})),ge={running:"Running",idle:"Idle"},me={running:"green.500",idle:"gray.500"},fe=(0,i.memo)((function(e){return(0,m.BX)(n.k,{flexDirection:"column",justifyContent:"center",overflow:"hidden",whiteSpace:"nowrap",children:[(0,m.BX)(n.k,{flexDirection:"row",alignItems:"center",children:[(0,m.tZ)(d.J,{as:u.J$M,width:2.5,height:2.5,marginRight:1.5,color:me[e.status]}),(0,m.tZ)(Z.x,{color:"gray.950",overflow:"hidden",textOverflow:"ellipsis",children:ge[e.status]})]}),"running"===e.status&&e.onStopRequest&&(0,m.tZ)(se.r,{variant:"project-list-inline",onClick:e.onStopRequest,children:"Stop session"})]})})),he=(0,i.memo)((function(e){return(0,m.BX)(n.k,{flexDirection:"column",justifyContent:"center",overflow:"hidden",maxHeight:"100%",whiteSpace:null!=e.name?"nowrap":"normal",children:[(0,m.tZ)(Z.x,{color:"gray.700",overflow:"hidden",textOverflow:"ellipsis",maxHeight:"100%",children:(0,m.tZ)(m.HY,{children:null!=e.date?(0,m.BX)(m.HY,{children:[e.prefix?`${e.prefix} `:null,(0,m.tZ)(ne.b,{date:new Date(e.date)})]}):"No recent activity"})}),null!=e.name&&(0,m.BX)(Z.x,{color:"gray.700",overflow:"hidden",textOverflow:"ellipsis",children:["by ",e.name]})]})})),ye=(0,i.memo)((function(e){var t,r,n;const{projectId:o,onStopRequest:a}=e,c=(0,i.useCallback)((()=>{null==a||a(o)}),[a,o]),{isPopoverOpen:l,openPopover:s,closePopover:d}=(0,C.v)({opened:!1});return(0,m.tZ)(j.du,{children:(0,m.BX)(L,{height:58,children:[(0,m.tZ)(le.G,{name:e.name,url:e.url,renaming:l,breadcrumbs:null!==(t=e.breadcrumbs)&&void 0!==t?t:null,openCategoryId:null!==(r=e.openCategoryId)&&void 0!==r?r:null,projectId:o,onClosePopoverRequest:d}),(0,m.tZ)(fe,{status:e.status,onStopRequest:c}),(0,m.tZ)(pe,{sharingStatus:e.sharingStatus,publishedAppUrl:e.publishedAppUrl}),(0,m.tZ)(oe,{name:e.authorName,avatarUrl:e.authorAvatarUrl,createdAt:e.createdAt}),(0,m.tZ)(he,{date:e.timestampAt,name:e.timestampBy,prefix:e.timestampPrefix}),(0,m.tZ)(ce,{categoryId:null!==(n=e.openCategoryId)&&void 0!==n?n:null,workspaceId:e.workspaceId,projectId:o,url:e.url,onProjectRenameRequest:s})]})})}));function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Oe=(0,i.memo)((function(e){const t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),{projectId:r,privateProject:n,openCategoryId:o,breadcrumbs:a}=t,c=(0,i.useMemo)((()=>a.map((({id:e})=>e))),[a]),l=(0,i.useMemo)((()=>{var e,t;return null!==(e=null===(t=a[a.length-1])||void 0===t?void 0:t.id)&&void 0!==e?e:null}),[a]),s=(0,i.useMemo)((()=>({categoryId:l,private:!!n})),[l,n]),d=(0,i.useMemo)((()=>void 0!==o?{categoryId:o}:null),[o]),u=(0,i.useMemo)((()=>[U.d.ProjectCategory,U.d.ProjectCard]),[]),p=(0,i.useMemo)((()=>({categoryId:l,private:!0})),[l]),g=(0,i.useMemo)((()=>[...o?[{provides:U.d.ProjectCategory,id:o}]:[],...c.flatMap((e=>e?[{provides:U.d.ProjectCategory,id:e}]:[]))]),[o,c]);return(0,m.tZ)(G.eL,{type:U.d.ProjectCard,id:r,source:s,disabled:n&&null===l,children:d?(0,m.tZ)(G.Tl,{id:d,acceptedItemType:u,shallow:!0,ignoredSource:p,ignoredItems:g,children:({ref:e})=>(0,m.tZ)("div",{ref:e,children:(0,m.tZ)(ye,Ie({},t))})}):(0,m.tZ)(ye,Ie({},t))})}));var Ee=r(13828);const we=(0,i.memo)((function(e){return(0,m.BX)(L,{height:58,hoverable:!1,children:[(0,m.BX)(n.k,{flexDirection:"row",alignItems:"center",children:[(0,m.tZ)(o.xu,{marginRight:2,children:(0,m.tZ)(Ee.ZP,{width:20})}),(0,m.tZ)(Ee.ZP,{width:180*Math.max(.2,Math.min(e.size,1))})]}),(0,m.tZ)(Ee.ZP,{width:60*Math.max(.2,Math.min(e.size,1))}),(0,m.tZ)(Ee.ZP,{width:90*Math.max(.2,Math.min(e.size,1))}),(0,m.tZ)(Ee.ZP,{width:140*Math.max(.2,Math.min(e.size,1))}),(0,m.tZ)(Ee.ZP,{width:90*Math.max(.2,Math.min(e.size,1))}),(0,m.tZ)(Ee.ZP,{width:20})]},"skeleton")}));function Ae(e){var t,r,n;const o=0===e.projects.length&&0===e.subcategories.length,i=null!==(t=null===(r=e.searchQuery)||void 0===r?void 0:r.trim())&&void 0!==t?t:"",a=t=>{var r;switch(!0){case t.sharing_link_on:return"public";case t.is_private&&(null===(r=t.author)||void 0===r?void 0:r.id)===e.userId:return"private";case t.is_private:return"shared";default:return"workspace"}},c=(e,t)=>{var r,n;switch(t){case"last_opened_by_me_asc":case"last_opened_by_me_desc":return{prefix:"Opened",timestamp:e.last_opened_by_me};case"last_edited_asc":case"last_edited_desc":return{prefix:"Updated",timestamp:null!==(r=e.last_activity)&&void 0!==r?r:e.created_at};default:return{prefix:"Created",timestamp:null!==(n=e.updated_at)&&void 0!==n?n:e.created_at}}};return(0,m.BX)(v.g,{"data-cy":E.d9J,divider:(0,m.tZ)(O.c,{borderColor:"gray.200"}),spacing:0,alignItems:"stretch",fontSize:"xs",children:[(0,m.tZ)(te,{orderBy:e.orderBy,onOrderRequest:null!==(n=e.onOrderRequest)&&void 0!==n?n:null}),e.loading?(0,m.BX)(m.HY,{children:[(0,m.tZ)(we,{size:2*Math.random()}),(0,m.tZ)(we,{size:2*Math.random()}),(0,m.tZ)(we,{size:2*Math.random()})]}):e.error?(0,m.tZ)(T,{}):o?i?(0,m.tZ)(S,{searchQuery:i}):(0,m.tZ)(_,{emptyDialog:e.emptyDialog}):[...e.subcategories.map((t=>e.dragDrop?(0,m.tZ)($,{workspaceId:e.workspaceId,categoryId:t.id,name:t.name,url:(0,A.X)(w._.workspaceCategory,t.slug),breadcrumbs:t.breadcrumbs},t.id):(0,m.tZ)(B,{workspaceId:e.workspaceId,categoryId:t.id,name:t.name,url:(0,A.X)(w._.workspaceCategory,t.slug)},t.id))),...e.projects.map((t=>{var r,n,o,i,l,s,d,u,p,g,f;return e.dragDrop?(0,m.tZ)(Oe,{workspaceId:e.workspaceId,projectId:t.id,name:t.name,url:(0,A.X)(w._.workspaceProject,t.slug),status:t.is_running?"running":"idle",sharingStatus:a(t),publishedAppUrl:t.publishedUrl,authorName:null!==(r=null===(n=t.author)||void 0===n?void 0:n.name)&&void 0!==r?r:null,authorAvatarUrl:null!==(o=null===(i=t.author)||void 0===i?void 0:i.avatar)&&void 0!==o?o:"/static/anonymous-user-icon.svg",createdAt:t.created_at,timestampAt:c(t,e.orderBy).timestamp,timestampBy:null,timestampPrefix:c(t,e.orderBy).prefix,breadcrumbs:t.breadcrumbs,currentUserAccessType:t.userAccessType,openCategoryId:e.categoryId,privateProject:t.is_private&&(null===(l=t.author)||void 0===l?void 0:l.id)===e.userId,onStopRequest:null!==(s=e.onStopRequest)&&void 0!==s?s:null},t.id):(0,m.tZ)(ye,{workspaceId:e.workspaceId,projectId:t.id,name:t.name,url:(0,A.X)(w._.workspaceProject,t.slug),status:t.is_running?"running":"idle",sharingStatus:a(t),publishedAppUrl:t.publishedUrl,authorName:null!==(d=null===(u=t.author)||void 0===u?void 0:u.name)&&void 0!==d?d:null,authorAvatarUrl:null!==(p=null===(g=t.author)||void 0===g?void 0:g.avatar)&&void 0!==p?p:"/static/anonymous-user-icon.svg",createdAt:t.created_at,timestampAt:c(t,e.orderBy).timestamp,timestampBy:null,timestampPrefix:c(t,e.orderBy).prefix,breadcrumbs:t.breadcrumbs,currentUserAccessType:t.userAccessType,openCategoryId:e.categoryId,onStopRequest:null!==(f=e.onStopRequest)&&void 0!==f?f:null},t.id)}))]]})}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Se=(0,i.memo)((function(e){const[t]=function(){const[e,{loading:t,error:r}]=(0,y.D)(I,{onError:e=>{b.Z.error({message:e.message})}});return[(0,i.useCallback)((t=>e({variables:{projectId:t.projectId},optimisticResponse:{stopProjectHardware:{stoppedProjectId:t.projectId}},update(e,{data:r}){null!=r&&r.stopProjectHardware&&e.modify({id:`Project:${t.projectId}`,fields:{is_running:()=>!1}})}})),[e]),{loading:t,error:r}]}(),r=(0,i.useCallback)((e=>{t({projectId:e})}),[t]);return(0,m.tZ)(Ae,_e(_e({},e),{},{onStopRequest:r}))})),Ce=(0,i.memo)((function(e){var t,r,i,a,c,l;const s=null!==(t=e.subcategories)&&void 0!==t?t:[],d=0===e.projects.length&&0===(null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0);return(0,m.BX)(n.k,{flex:1,flexDirection:"column",alignItems:"stretch",children:[(0,m.BX)(n.k,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:4,position:"relative",children:[e.onSearchRequest?(0,m.tZ)(f,{onSearchRequest:e.onSearchRequest}):(0,m.tZ)(o.xu,{}),e.actionButton]}),(0,m.tZ)(n.k,{width:"100%",flexDirection:"column",alignItems:"stretch",children:(0,m.tZ)(Se,{workspaceId:e.workspaceId,userId:e.userId,categoryId:e.categoryId,subcategories:s,projects:e.projects,loading:e.loading&&d,error:null!==(i=e.error)&&void 0!==i?i:null,orderBy:e.orderBy,searchQuery:null!==(a=e.searchQuery)&&void 0!==a?a:"",dragDrop:null===(c=e.dragDrop)||void 0===c||c,onOrderRequest:null!==(l=e.onOrderRequest)&&void 0!==l?l:null,emptyDialog:e.emptyDialog})})]})}))},52475:(e,t,r)=>{"use strict";r.d(t,{G:()=>c});var n=r(39486),o=r(91987),i=r(62992),a=r(51625);const c=(0,o.memo)((function({categoryId:e,name:t,nameElement:r,url:o,renaming:c,hoverColor:l,onClosePopoverRequest:s}){return(0,a.tZ)(i.C,{categoryId:e,name:t,nameElement:r,url:o,icon:n.xZB,renaming:c,hoverColor:l,onClosePopoverRequest:s})}))},62992:(e,t,r)=>{"use strict";r.d(t,{C:()=>f});var n=r(6351),o=r(44776),i=r(55075),a=r(76077),c=r(91987),l=r(54783),s=r(43697),d=r(4658),u=r(51625);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=(0,c.memo)((function(e){var t;const r=(0,u.BX)(u.HY,{children:[(0,u.tZ)(n.J,{as:e.icon,width:5,height:5,marginRight:2,color:"gray.500"}),(0,u.BX)(o.k,{flexDirection:"column",justifyContent:"center",position:"relative",overflow:"hidden",children:[(0,u.tZ)(i.xu,{fontSize:"xs",fontWeight:"medium",color:"gray.950",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:1,_groupHover:{color:null!==(t=e.hoverColor)&&void 0!==t?t:"blue.700"},children:e.nameElement?e.nameElement:e.name}),e.subtitle&&(0,u.tZ)(i.xu,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",color:"gray.500",paddingRight:1,children:e.subtitle})]})]}),c={"data-cy":a.LOF,role:"group",alignSelf:"stretch",flexDirection:"row",alignItems:"center",width:"100%",_focus:{outline:"none"}};return(0,u.BX)(u.HY,{children:[e.url?(0,u.tZ)(u.HY,{children:(0,u.tZ)(o.k,g(g({},c),{},{as:l.rU,to:e.url,children:r}))}):(0,u.tZ)(u.HY,{children:(0,u.tZ)(o.k,g(g({},c),{},{children:r}))}),e.renaming&&e.categoryId&&(0,u.tZ)(s.J,{placement:"bottom-end",contentStyles:{marginLeft:"-23px"},categoryId:e.categoryId,categoryName:e.name,onClosePopoverRequest:e.onClosePopoverRequest}),e.renaming&&e.projectId&&(0,u.tZ)(d.B,{placement:"bottom-end",contentStyles:{marginLeft:"-23px"},projectId:e.projectId,projectName:e.name,onClosePopoverRequest:e.onClosePopoverRequest})]})}))},46023:(e,t,r)=>{"use strict";r.d(t,{G:()=>c});var n=r(39486),o=r(91987),i=r(62992),a=r(51625);const c=(0,o.memo)((function(e){var t,r;const o=null!==(t=null===(r=e.breadcrumbs)||void 0===r?void 0:r[e.breadcrumbs.length-1])&&void 0!==t?t:null;return(0,a.tZ)(i.C,{name:e.name,nameElement:e.nameElement,url:e.url,icon:n.BGS,subtitle:!o||e.openCategoryId&&o.id===e.openCategoryId?null:`in ${o.name}`,renaming:e.renaming,projectId:e.projectId,hoverColor:e.hoverColor,onClosePopoverRequest:e.onClosePopoverRequest})}))},92020:(e,t,r)=>{"use strict";r.d(t,{$T:()=>i,Tl:()=>a,eL:()=>c});var n=r(58632);const{DragDropContext:o,DragDropProvider:i,DropTarget:a,DragSource:c}=(0,n.E)()},50657:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r(33581);function o(){const[e,t]=(0,n.Z)("project-list-order-by","last_opened_by_me_desc");return[e,t]}},50464:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,i:()=>o});var n=r(64119);const o=n.Ps`
  fragment ProjectListProject on Project {
    id
    publishedUrl
    created_at
    is_running
    name
    slug
    sharing_link_on
    updated_at
    last_activity
    last_opened_by_me
    is_private
    author {
      id
      name
      avatar
    }
    breadcrumbs {
      id
      name
      slug
    }
  }
`,i=n.Ps`
  fragment ProjectListCategory on ProjectCategory {
    id
    name
    slug
    parent_category_id
    position
    breadcrumbs {
      id
    }
  }
`},58845:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(64119),o=r(64705),i=r(24452),a=r(50464);const c=n.Ps`
  ${a.i}
  query GetFavoriteProjectList($workspaceId: String!, $searchQuery: String, $orderBy: String) {
    me {
      __typename
      ... on Profile {
        id
      }
    }
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        userRole
        favoriteProjects(searchQuery: $searchQuery, orderBy: $orderBy) {
          ...ProjectListProject
        }
      }
    }
  }
`,l={teamId:null,userId:null,userRole:null,projects:[]};function s(e){var t,r,n,a,s,d,u,p,g,m,f;const{data:h,loading:y,networkStatus:b,error:I}=(0,o.a)(c,{variables:{workspaceId:e.workspaceId,searchQuery:e.searchQuery,orderBy:e.orderBy},fetchPolicy:"cache-and-network"});return"TeamUnauthorized"===(null==h||null===(t=h.team)||void 0===t?void 0:t.__typename)||"AnonymousProfile"===(null==h||null===(r=h.me)||void 0===r?void 0:r.__typename)?{data:l,loading:y,loadingInitially:y&&(b===i.I.loading&&!h||b===i.I.setVariables),networkStatus:b,error:I}:{data:{teamId:null!==(n=null==h||null===(a=h.team)||void 0===a?void 0:a.id)&&void 0!==n?n:l.teamId,userId:"Profile"===(null==h||null===(s=h.me)||void 0===s?void 0:s.__typename)&&null!==(d=null==h||null===(u=h.me)||void 0===u?void 0:u.id)&&void 0!==d?d:l.userId,userRole:null!==(p=null==h||null===(g=h.team)||void 0===g?void 0:g.userRole)&&void 0!==p?p:l.userRole,projects:null!==(m=null==h||null===(f=h.team)||void 0===f?void 0:f.favoriteProjects)&&void 0!==m?m:l.projects},loading:y,loadingInitially:y&&(b===i.I.loading&&!h||b===i.I.setVariables),networkStatus:b,error:I}}},8198:(e,t,r)=>{"use strict";r.d(t,{O:()=>y});var n=r(5244),o=r(93851),i=r(44776),a=r(51192),c=r(3710),l=r(55075),s=r(91987),d=r(4850),u=r(51625);const p=["onMouseDown","isResizing","isSidebarCollapsed","detailedTooltip","left"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const y=(0,n.G)(((e,t)=>{const r=(0,s.useMemo)((()=>(0,d.V5)()),[]),{onMouseDown:n,isResizing:g,isSidebarCollapsed:f,detailedTooltip:y=!1,left:b=0}=e,I=h(e,p),v=f?28:16,O=-v/2,[E,w]=(0,s.useState)({left:0,top:0});return(0,u.tZ)(o.u,{label:(0,u.BX)(i.k,{flexDirection:"column",alignItems:"flex-start",children:[f?(0,u.tZ)(a.x,{children:"Show sidebar"}):(0,u.BX)(u.HY,{children:[(0,u.tZ)(a.x,{children:"Drag to resize sidebar"}),y&&(0,u.tZ)(a.x,{color:"foreground.inverse.tertiary",children:"Click to hide"})]}),y&&(0,u.BX)(i.k,{gap:2,color:"foreground.inverse.tertiary",alignItems:"baseline",children:["Show/Hide UI"," ",(0,u.BX)(i.k,{display:"inline-flex",gap:1,children:[(0,u.tZ)(c.T,{variant:"tooltip",children:r?"":"Ctrl"}),(0,u.tZ)(c.T,{variant:"tooltip",children:"."})]})]})]}),placement:"auto-end",offset:[E.top-16,8],openDelay:f?0:500,isDisabled:g,"aria-label":f?"Click to show sidebar":"Click to hide sidebar",closeOnMouseDown:!0,children:(0,u.tZ)(i.k,m(m({justifyContent:"center",position:"absolute",width:`${v}px`,cursor:f?"pointer":"col-resize",resize:"horizontal",role:"separator",ref:t,zIndex:1,left:`${b+O}px`,bottom:0,top:0,onMouseDown:n,sx:{"--sidebar-resize-handle-background":g?"colors.interactive.primary":"transparent"},_hover:{"--sidebar-resize-handle-background":g?"colors.interactive.primary":"colors.interactive.tertiary",backgroundColor:f&&!g?"background.tertiary":void 0},onPointerMove:e=>{const t=e.currentTarget.getBoundingClientRect(),r={left:e.clientX-t.left,top:e.clientY-t.top};w(r)}},I),{},{children:(0,u.tZ)(l.xu,{flex:"none",width:g?"5px":"3px",__css:{background:"var(--sidebar-resize-handle-background, red)"},transition:"background 0.1s ease-in-out, width 0.2s cubic-bezier(0.52, -0.08, 0.22, 1.35)"})}))})}))},37664:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(91987);function o({opened:e}){const[t,r]=(0,n.useState)(e);(0,n.useEffect)((()=>{r(e)}),[e]);return{isPopoverOpen:t,openPopover:(0,n.useCallback)((()=>{r(!0)}),[]),closePopover:(0,n.useCallback)((()=>{r(!1)}),[])}}},71030:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetProjectPageData($projectId: String!) {
    projectById(id: $projectId) {
      __typename
      ... on ProjectUnauthorized {
        id
        publishedUrl
        publishedProjectAccess
      }
      ... on Project {
        id
        suspended
        publishedUrl
        isTemplate
        isFavorite
        team {
          ... on Team {
            id
          }
          ... on TeamUnauthorized {
            id
          }
        }
      }
    }
  }
`;function a(e){var t,r,n,a,c,l,s,d,u,p,g,m,f,h,y,b;const{data:I,loading:v}=(0,o.a)(i,{variables:{projectId:e},fetchPolicy:"cache-and-network"});return{data:{projectId:null!==(t=null==I||null===(r=I.projectById)||void 0===r?void 0:r.id)&&void 0!==t?t:null,publishedUrl:null!==(n=null==I||null===(a=I.projectById)||void 0===a?void 0:a.publishedUrl)&&void 0!==n?n:null,publishedProjectAccess:"ProjectUnauthorized"!==(null==I||null===(c=I.projectById)||void 0===c?void 0:c.__typename)||null!==(l=null==I||null===(s=I.projectById)||void 0===s?void 0:s.publishedProjectAccess)&&void 0!==l&&l,projectWithoutAccess:"ProjectUnauthorized"===(null==I||null===(d=I.projectById)||void 0===d?void 0:d.__typename),suspended:"Project"===(null==I||null===(u=I.projectById)||void 0===u?void 0:u.__typename)&&Boolean(I.projectById.suspended),workspaceId:"Project"===(null==I||null===(p=I.projectById)||void 0===p?void 0:p.__typename)&&null!==(g=null===(m=I.projectById.team)||void 0===m?void 0:m.id)&&void 0!==g?g:null,isTemplate:"Project"===(null==I||null===(f=I.projectById)||void 0===f?void 0:f.__typename)&&(null!==(h=I.projectById.isTemplate)&&void 0!==h&&h),isFavorite:"Project"===(null==I||null===(y=I.projectById)||void 0===y?void 0:y.__typename)&&(null!==(b=I.projectById.isFavorite)&&void 0!==b&&b)},loading:v}}},46556:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(33581);function o(e){const[t,r]=(0,n.Z)(`last-active-workspace-id-${e}`,"");return[t,r]}},71346:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n=r(93851),o=r(3710),i=r(29015),a=r(29389),c=r(39486),l=r(19654),s=r(91987),d=r(45060),u=r(4850),p=r(84899),g=r(51625);const m=(0,s.memo)((function({workspaceId:e}){const{modalApi:t}=(0,p.WG)(),r=(0,s.useCallback)((()=>{t.openModal({newModal:d.Qi.SEARCH_MODAL}),(0,l.j)("Search modal opened",{workspaceId:e,trigger:"click"})}),[t,e]),m=(0,s.useMemo)((()=>(0,u.V5)()),[]),f="search-icon-button";return(0,g.tZ)(n.u,{hasArrow:!0,label:(0,g.BX)(g.HY,{children:["Search workspace ",(0,g.tZ)(o.T,{variant:"tooltip",children:m?"K":"Ctrl+K"})]}),children:(0,g.tZ)(i.h,{variant:"ghostIcon",icon:(0,g.tZ)(a.J,{as:c.Weu,size:"md"}),"aria-label":"Search workspace",colorScheme:"gray","data-cy":f,"data-testid":f,onClick:r})})}))},93660:(e,t,r)=>{"use strict";r.d(t,{J:()=>a,Yb:()=>o,oA:()=>c,pR:()=>i});var n=r(64119);const o=n.Ps`
  query getTeamBillingAlertThreshold($workspaceId: String!) {
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        ownerEmail
        billingAlertThreshold
      }
    }
  }
`,i=n.Ps`
  mutation setBillingAlertThreshold($workspaceId: String!, $amount: Int!) {
    setBillingAlert(workspaceId: $workspaceId, amount: $amount)
  }
`,a=n.Ps`
  mutation updateProfileSettings($firstName: String!, $lastName: String!) {
    updateProfileSettings(firstName: $firstName, lastName: $lastName) {
      id
      name
    }
  }
`,c=n.Ps`
  mutation updateProjectSetting($workspaceId: String!, $newValue: Boolean!, $setting: String!) {
    updateProjectSetting(workspaceId: $workspaceId, newValue: $newValue, setting: $setting)
  }
`},11602:(e,t,r)=>{"use strict";r.d(t,{N:()=>m,Z:()=>f});var n=r(85686),o=r(39174),i=r(37139),a=r(23248),c=r(76077),l=r(83837),s=r(63376),d=r(92516),u=r(91987);var p=r(49258),g=r(51625);const m="#26B5CE";function f(e){var t,r;const f=null!=e.originalName,h=function(){const e=(0,u.useRef)(null);return(0,u.useEffect)((()=>{let t=null;return e.current&&(t=window.setTimeout((()=>{var t;null==e||null===(t=e.current)||void 0===t||t.focus()}),0)),()=>{t&&window.clearTimeout(t)}}),[]),e}(),[y,b]=(0,u.useState)(null!==(t=e.originalName)&&void 0!==t?t:""),[I]=(0,u.useState)(null!==(r=e.originalColor)&&void 0!==r?r:m);return(0,g.BX)(p.Z,{title:f?"Rename folder":"New folder",onClose:e.onClose,children:[(0,g.tZ)(l.f,{children:(0,g.BX)("form",{id:"category-modal-form",onSubmit:t=>{t.preventDefault(),e.onSubmit(y,I)},children:[e.error&&(0,g.tZ)(s.b,{my:3,status:"error",children:f?"Folder could not be renamed":"Folder could not be created"}),(0,g.BX)(n.NI,{children:[(0,g.tZ)(o.l,{children:"Name"}),(0,g.tZ)(i.I,{ref:h,"data-cy":c.dec,value:y,onChange:e=>{b(e.target.value)},autoFocus:!0,placeholder:"e.g. Templates"})]})]})}),(0,g.tZ)(d.m,{children:(0,g.tZ)(a.z,{"data-cy":c.ZMz,type:"submit",form:"category-modal-form",size:"xs",onClick:()=>{},isLoading:e.loading,isDisabled:e.loading||!y,children:f?"Rename folder":"Create folder"})})]})}},80624:(e,t,r)=>{"use strict";r.d(t,{C:()=>Xr});var n=r(55075),o=r(63376),i=r(91987),a=r(17672),c=r(64119),l=r(14442),s=r(3285);const d=c.Ps`
  subscription onCategoryOperation($teamId: ID!) {
    categoryOperation(teamId: $teamId) {
      __typename
      ... on CategoryCreated {
        categoryCreated {
          id
        }
      }
      ... on CategoryDeleted {
        categoryDeleted {
          id
        }
      }
      ... on CategoryMoved {
        categoryMoved {
          id
          parent_category_id
        }
      }
      ... on CategoryRenamed {
        categoryRenamed {
          id
          name
        }
      }
    }
  }
`;function u(e){(0,l.f)(d,{variables:{teamId:e},onData:({client:t,data:r})=>{var n;const o=null===(n=r.data)||void 0===n?void 0:n.categoryOperation;var i,a,c;if(o)switch(o.__typename){case"CategoryCreated":i=t.cache,a=e,c=o.categoryCreated.id,i.modify({id:`Team:${a}`,fields:{categories:(e,{toReference:t})=>{const r=t(`ProjectCategory:${c}`);return r?e.find((e=>e.__ref===r.__ref))?e:[...null!=e?e:[],r]:((0,s.D)(new Error("addCategory: No category reference")),e)}}});break;case"CategoryDeleted":!function(e,t,r){e.evict({id:`ProjectCategory:${r}`})}(t.cache,0,o.categoryDeleted.id)}}})}var p=r(71923),g=r(87340),m=r(13636),f=r(63791),h=r(45554),y=r(95444);function b(){var e,t,r;const n=(0,h.$B)((0,y.X)(m._.workspaceProject,":projectSlug")),o=null!==(e=null==n?void 0:n.params.projectSlug)&&void 0!==e?e:null;return o&&null!==(t=null===(r=(0,f.ae)(o))||void 0===r?void 0:r.id)&&void 0!==t?t:null}const I=c.Ps`
  subscription onProjectOperation($teamId: String!) {
    projectOperation(teamId: $teamId) {
      __typename
      ... on ProjectCreated {
        projectCreated {
          id
        }
        categoryId
      }
      ... on ProjectDeleted {
        projectDeleted {
          id
        }
        categoryId
        deletedBy {
          name
        }
      }
      ... on ProjectMoved {
        teamId
        projectId
        sourceCategoryId
        targetCategoryId
        isPrivate
      }
      ... on ProjectRenamed {
        projectRenamed {
          id
          name
        }
      }
    }
  }
`;var v=r(44776),O=r(62585),E=r(76077),w=r(77424),A=r(13277),P=r(65100),_=r(8198),T=r(27704),S=r(33811);function C(e){return`folders-expanded-${e}`}var j=r(69219),k=r(32504),N=r(71346),R=r(79922),D=r(26288),Z=r(51625);const M=(0,i.memo)((function({reviewStatus:e}){return"internal-verification"===e?(0,Z.tZ)(n.xu,{padding:2,children:(0,Z.tZ)(o.b,{status:"warning",children:"Were verifying your institutional email. Your workspace will be ready to use in a few hours. Well email you once its ready!"})}):"verify-email"===e?(0,Z.tZ)(n.xu,{padding:2,maxWidth:"100%",children:(0,Z.tZ)(o.b,{status:"warning",children:"Almost there! We sent a verification email. Just click the link in that email to start using your workspace."})}):null})),x=(0,i.memo)((function({workspaceId:e}){const{data:t,error:r,loading:n}=(0,D.z)(e);return n||r||t.isActive||!t.reviewStatus?null:(0,Z.tZ)(M,{reviewStatus:t.reviewStatus})}));var L=r(19654),B=r(36599),U=r(97054);const G=(0,i.memo)((function({limit:e,onLinkClick:t}){return(0,Z.tZ)(n.xu,{padding:2,children:(0,Z.BX)(o.b,{textAlign:"center",status:"info",children:[(0,Z.tZ)(o.C,{children:"Upgrade to create unlimited projects"}),"Youve reached the limit of ",e," projects for this workspace. ",(0,Z.tZ)(U.r,{onClick:t,children:"Upgrade now."})]})})})),H=(0,i.memo)((function({workspaceId:e}){const t=(0,h.k6)(),r=(0,i.useCallback)((r=>{const n=(0,y.t)(m._.workspaceSettingsUpgrade,{source:"paid-feature-cta",sourceFeature:"limit-projects-alert"});r.stopPropagation(),(0,L.j)("Upgrade CTA clicked",{sourceFeature:"limit-projects-alert",workspaceId:e}),t.push(n)}),[t,e]);return(0,Z.tZ)(B.X,{limit:"LIMIT_WORKSPACE_PROJECTS",children:({hasLimitBeenHit:e,options:t})=>e&&(0,Z.tZ)(G,{limit:t.limit,onLinkClick:r})})}));var W=r(84998),X=r(81305),q=r(38424),F=r(68722),$=r(47498),V=r(17571),Y=r(72792),K=r(72558),z=r(61193),J=r(74532),Q=r(51192),ee=r(8181),te=r(7074),re=r(23248),ne=r(27071),oe=r.n(ne),ie=r(28293),ae=r(6351);const ce=(0,i.memo)((function(e){var t;return(0,Z.tZ)(ae.J,{as:e.icon,width:4,height:4,color:e.dimmed?"gray.300":"gray.500",_hover:e.onIconClick?{cursor:"pointer",backgroundColor:"gray.300",borderRadius:"sm"}:{},marginRight:2,onClick:null!==(t=e.onIconClick)&&void 0!==t?t:void 0})}));var le=r(93851);const se=(0,i.memo)((function({bold:e,color:t,dimmed:r,hasLeftMargin:n=!0,title:o,tooltip:i,tooltipOpenDelay:a,active:c,fontSize:l}){const s=null!=t?t:r?"gray.500":c?"gray.1000":"gray.800",d=(0,Z.tZ)(Q.x,{marginLeft:n?2:0,fontSize:null!=l?l:"xs",fontWeight:e?600:400,color:s,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingRight:1,children:o});return i?(0,Z.tZ)(le.u,{label:i,openDelay:null!=a?a:0,shouldWrapChildren:!0,children:d}):d}));var de=r(15402);function ue(e){var t;return(0,Z.BX)(v.k,{height:de.Q7,"data-cy":e.dataCy,alignItems:"center",_hover:{backgroundColor:"gray.200"},_groupHover:{backgroundColor:"gray.200"},textDecoration:"none",backgroundColor:e.rootDropTargetActive||e.dropTargetActive?"blue.100":e.active?"gray.200":void 0,paddingLeft:0,paddingRight:4+(e.hasActions?4:0)-1,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:[(0,Z.tZ)(pe,{depth:null!==(t=e.depth)&&void 0!==t?t:0,kind:e.kind}),e.children]})}const pe=(0,i.memo)((function(e){var t;var r,o;const a=4*(r=null!==(t=e.depth)&&void 0!==t?t:0,"project"===(o=e.kind)||"empty-folder"===o||"category"===o||"loading-item"===o?1===r?2:2*(r-1)+4*r-2:4+2*r)+"px";return(0,Z.tZ)(v.k,{minWidth:a,width:a,justifyContent:"flex-end",children:Array.from(Array(e.depth).keys()).map((e=>0===e?(0,Z.tZ)(i.Fragment,{},e):(0,Z.tZ)(v.k,{width:"6",alignItems:"center",justifyContent:"center",children:(0,Z.tZ)(n.xu,{width:"1px",height:de.Q7,backgroundColor:"gray.300",position:"relative",left:1})},e)))})})),ge=(0,i.memo)((function(e){var t,r,n;const o=null!==(t=e.iconPlacement)&&void 0!==t?t:"left";return(0,Z.BX)(ue,{kind:e.kind,active:e.active,dataCy:e.dataCy,dropTargetActive:e.dropTargetActive,rootDropTargetActive:e.rootDropTargetActive,depth:e.depth,hasActions:e.hasActions,children:[e.icon&&"left"===o&&(0,Z.tZ)(ce,{icon:e.icon,onIconClick:null!==(r=e.onIconClick)&&void 0!==r?r:void 0}),(0,Z.tZ)(se,{bold:e.bold,dimmed:e.dimmed,hasLeftMargin:!(e.icon&&"left"===o),title:e.title,tooltip:e.tooltip,tooltipOpenDelay:e.tooltipOpenDelay,active:e.active}),e.icon&&"right"===o&&(0,Z.tZ)(ce,{icon:e.icon,onIconClick:null!==(n=e.onIconClick)&&void 0!==n?n:void 0})]})})),me=(0,i.memo)((function(e){var t;const r=e.trialPlanData.trialExpiresAt?Math.ceil((e.trialPlanData.trialExpiresAt-e.trialPlanData.createdAt)/864e5):0,i=(0,ie.sk)(null!==(t=e.trialPlanData.trialExpiresAt)&&void 0!==t?t:Date.now()),a=`${i} ${oe()("day",i)} left in your ${e.trialPlanData.displayName} trial`,c=360/(r+1)*i,l=i<=3,s=l?"#FC5012":"#6AB3F4";return(0,Z.tZ)(V.J,{children:({onClose:t})=>(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(Y.x,{children:(0,Z.tZ)(n.xu,{as:"button",border:"none",_hover:{background:"gray.200"},_focus:{outline:"none"},onClick:e.onTrialDaysLeftClick,children:(0,Z.BX)(v.k,{alignItems:"center",children:[(0,Z.tZ)(n.xu,{width:"14px",height:"14px",background:`conic-gradient(${s} 0deg ${c}deg, #F4F6F8 ${c}deg 360deg)`,borderRadius:"50%",border:"1px solid",borderColor:l?"red.500":"blue.500",position:"relative",left:"16px"}),(0,Z.tZ)(ge,{title:a})]})})}),(0,Z.tZ)(K.h,{children:(0,Z.BX)(z.y,{maxWidth:"360px",paddingTop:8,color:"gray.800",marginLeft:4,children:[(0,Z.tZ)(J.Y,{paddingLeft:8,paddingRight:8,paddingBottom:2,fontSize:"md",border:"none",children:(0,Z.tZ)(Q.x,{fontWeight:"600",color:"gray.950",children:a})}),(0,Z.BX)(ee.b,{paddingLeft:8,paddingRight:8,fontSize:"sm",children:[(0,Z.BX)(Q.x,{paddingBottom:4,children:["Explore everything Deepnotes ",e.trialPlanData.displayName," plan has to offer, including premium integrations, unlimited team members, and more powerful hardware."]}),(0,Z.tZ)(Q.x,{paddingBottom:4,children:`Youll be automatically moved to our ${(0,W.Nt)({name:w.yh.STANDARD,version:W.q2})} plan when your trial ends.`}),(0,Z.tZ)(n.xu,{paddingTop:3,children:(0,Z.tZ)(o.b,{status:"info",children:(0,Z.BX)(Q.x,{fontSize:"sm",children:["Need more time to trial? ",(0,Z.tZ)(U.r,{onClick:e.onSendUsMessageClick,children:"Send us a message."})," "]})})})]}),(0,Z.tZ)(te.D,{paddingBottom:8,paddingRight:8,border:"none",children:(0,Z.BX)(v.k,{justifyContent:"flex-end",children:[(0,Z.tZ)(re.z,{colorScheme:"gray",variant:"ghost",marginRight:2,onClick:()=>{e.onViewPlansClick(),t()},children:"View plans"}),(0,Z.tZ)(re.z,{onClick:()=>{e.onUpgradeClick(),t()},children:"Upgrade"})]})})]})})]})})}));var fe=r(46084),he=r(39486);const ye=(0,i.memo)((function({planDataLoading:e,planName:t,planDisplayName:r}){const o=(0,h.k6)(),a=(0,i.useCallback)((()=>{o.push((0,y.t)(m._.workspaceSettingsUpgrade,{source:"plan-pill"}))}),[o]);return(0,Z.BX)(n.xu,{display:"flex",_hover:{backgroundColor:"gray.200"},justifyContent:"space-between",alignItems:"center",children:[(0,Z.tZ)(U.r,{href:"https://deepnote.com/home",isExternal:!0,children:(0,Z.tZ)(ge,{icon:he.MKp,title:"Deepnote"})}),(0,Z.tZ)(fe.O,{isLoaded:!e,marginX:2,children:t&&r&&(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(k.j,{feature:"VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT",children:(0,Z.tZ)(le.u,{label:`Your workspace is on the ${r} plan. Click to view other plans.`,children:(0,Z.tZ)(U.r,{fontWeight:"400px",_hover:{background:"transparent"},_focus:{background:"transparent",outline:"none"},onClick:a,children:(0,Z.tZ)(Q.x,{marginRight:2,backgroundColor:"gray.200",color:"gray.900",padding:"2px 6px 2px 6px",borderRadius:"20px",fontSize:"11px",cursor:"pointer",children:r})})})}),(0,Z.tZ)(k.j,{feature:"VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT",children:(0,Z.tZ)(le.u,{label:`Your workspace is on the ${r} plan.`,children:(0,Z.tZ)(Q.x,{marginRight:2,backgroundColor:"gray.200",color:"gray.900",padding:"2px 6px 2px 6px",borderRadius:"20px",fontSize:"11px",children:r})})})]})})]})})),be=(0,i.memo)((function({loading:e,planName:t,planNameDisplay:r}){return(0,Z.tZ)(ye,{planDataLoading:e,planName:t,planDisplayName:r})})),Ie=(0,i.memo)((function({workspaceId:e,planData:t,loading:r,onSendUsMessageClick:n,onUpgradeClick:o,onViewPlansClick:i,onTrialDaysLeftClick:a}){const c=null!==t.trialExpiresAt&&t.trialExpiresAt>Date.now();return(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(O.i,{}),(0,Z.BX)(v.k,{flexDirection:"column",paddingY:2,children:[c&&(0,Z.tZ)(me,{trialPlanData:t,onSendUsMessageClick:n,onViewPlansClick:i,onUpgradeClick:o,onTrialDaysLeftClick:a}),(0,Z.tZ)(be,{workspaceId:e,planName:t.planName,planNameDisplay:t.displayName,loading:r})]})]})})),ve=(0,i.memo)((function({workspaceId:e}){const t=(0,h.k6)(),{data:r,loading:n}=(0,$.m)(e),{isEnabled:o}=(0,X.t)("annualPlan"),a=(0,W.ZG)({name:r.planName,version:r.version}),c=(0,i.useCallback)((()=>{(0,L.e5)({workspaceId:e,plan:{planAnalyticsName:a}}),(0,L.j)("Trial popover CTA clicked",{cta:"request-extension",workspaceId:e}),window.open(q._Y)}),[e,a]),l=(0,i.useCallback)((()=>{(0,L.e5)({workspaceId:e,plan:{planAnalyticsName:a}}),(0,L.j)("Trial popover CTA clicked",{cta:"view-plans",workspaceId:e}),t.push((0,y.t)(m._.workspaceSettingsUpgrade,{source:"trial-popover"}))}),[t,e,a]),s=(0,i.useCallback)((async()=>{(0,L.j)("Trial popover CTA clicked",{cta:"upgrade",workspaceId:e}),t.push((0,y.t)(m._.workspaceSettingsUpgrade,{source:"trial-popover"})),(0,F.SY)(w.yh.PRO,r.version,e,o?"year":"month")}),[r.version,t,e,o]),d=(0,i.useCallback)((()=>{(0,L.e5)({workspaceId:e,plan:{planAnalyticsName:a}}),(0,L.j)("Trial popover triggered",{workspaceId:e})}),[e,a]);return(0,Z.tZ)(Ie,{workspaceId:e,planData:r,loading:n,onSendUsMessageClick:c,onViewPlansClick:l,onUpgradeClick:s,onTrialDaysLeftClick:d})}));var Oe=r(25159),Ee=r(54783);const we=["url","isExternal"];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Se=(0,i.memo)((function(e){const{url:t,isExternal:r}=e,n=Te(e,we);return r?(0,Z.BX)(U.r,{href:e.url,isExternal:!0,style:{textDecoration:"none"},onClick:e.onClick,children:[(0,Z.tZ)(ge,Pe({},n))," "]}):(0,Z.BX)(Ee.rU,{to:{pathname:e.url,state:e.state},style:{textDecoration:"none"},onClick:e.onClick,children:[(0,Z.tZ)(ge,Pe({},n))," "]})})),Ce=({workspaceId:e,gettingStartedActive:t})=>(0,Z.tZ)(Se,{dataCy:E.Lj8,active:t,title:"Getting started",url:(0,y.X)(m._.gettingStarted),icon:Oe._xL}),je=(0,i.memo)((function(e){return(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(k.j,{feature:"GETTING_STARTED",children:(0,Z.tZ)(Ce,{workspaceId:e.workspaceId,gettingStartedActive:e.gettingStartedActive})}),(0,Z.tZ)(A.X,{teamAction:w.r_.VIEW_INTEGRATIONS,workspaceId:e.workspaceId,children:(0,Z.tZ)(Se,{title:"Integrations",icon:he.N8c,url:(0,y.X)(m._.workspaceIntegrations),active:e.integrationsActive,dataCy:E.ki_})}),(0,Z.tZ)(Se,{title:"Settings & members",icon:he.r6Y,url:(0,y.X)(m._.workspaceSettings,"members"),dataCy:E.vHE,active:e.settingsActive})]})})),ke=(0,i.memo)((function(e){const t=(0,h.$B)((0,y.X)(m._.workspaceIntegrations)),r=(0,h.$B)((0,y.X)(m._.workspaceSettings)),n=(0,h.$B)((0,y.X)(m._.gettingStarted));return(0,Z.tZ)(je,{workspaceId:e.workspaceId,integrationsActive:Boolean(t),settingsActive:Boolean(r),gettingStartedActive:Boolean(n)})}));var Ne=r(85014),Re=r(84899);function De(){const e=(0,Ne.mr)((e=>e.layout.collapsedWorkspaceSidebarProjectListSections)),{commonApi:t}=(0,Re.WG)();return[e,(0,i.useCallback)((e=>{t.toggleWorkspaceSidebarProjectListSection(e)}),[t])]}var Ze=r(31146),Me=r(4658),xe=r(37664),Le=r(93035),Be=r(29389),Ue=r(50914),Ge=r(72421),He=r(97217),We=r(10753),Xe=r(54748),qe=r(24318);function Fe(e){const[{open:t,closing:r,offset:o},{openDropdown:i,closeDropdown:a,anchorRef:c}]=(0,qe.b)();return(0,Le.av)(i,a),(0,Z.tZ)(n.xu,{position:"absolute",top:"50%",right:4,transform:"translateY(-50%)",zIndex:10,display:t||e.forceVisible||!e.hoverOnly?"block":"none",visibility:!e.forceVisible&&e.hoverOnly&&r?"hidden":"visible",_hover:{display:"block",visibility:"visible"},_groupHover:{display:"block",visibility:"visible"},onClick:e.onClick,children:(0,Z.BX)(He.v,{closeOnBlur:!0,closeOnSelect:!0,isOpen:t&&!r,preventOverflow:!1,placement:"bottom-start",offset:null!=o?o:void 0,autoSelect:!1,onOpen:i,onClose:a,children:[(0,Z.tZ)(We.j,{ref:c,display:"flex",color:"gray.500","data-cy":e["data-cy"],_hover:{cursor:"pointer",color:"gray.950"},children:e.menuButton}),(0,Z.tZ)(K.h,{children:(0,Z.tZ)(Xe.q,{width:235,zIndex:10,"data-cy":e["data-cy"]+"_list",children:e.children({open:t})})})]})})}const $e=(0,i.memo)((function(e){const{refetch:t}=(0,Ge.W)(e.workspaceId),r=(0,i.useCallback)((async()=>{await t()}),[t]);return(0,Z.tZ)(Fe,{onClick:r,"data-cy":E.qF,hoverOnly:e.hoverOnly,menuButton:(0,Z.tZ)(Be.J,{as:he.bHd,w:4,h:4}),children:({open:t})=>t?(0,Z.tZ)(Ue.k,{categoryId:e.categoryId,workspaceId:e.workspaceId,projectId:e.projectId,opened:t,url:e.url,onProjectRenameRequest:e.onProjectRenameRequest}):null})})),Ve=(0,i.memo)((function(e){const{project:t,depth:r,active:n}=e,o=(0,i.useMemo)((()=>(0,y.X)(m._.workspaceProject,t.slug)),[t.slug]),{isPopoverOpen:a,openPopover:c,closePopover:l}=(0,xe.v)({opened:!1});return(0,Z.BX)(Le.du,{role:"group",children:[(0,Z.tZ)(Se,{kind:"project",title:t.name,url:o,depth:r,active:n,dropTargetActive:Boolean(e.dropTargetActive),rootDropTargetActive:Boolean(e.rootDropTargetActive),hasActions:!0}),a&&(0,Z.tZ)(Me.B,{contentStyles:{marginLeft:"-25px",marginBottom:"-5px"},placement:"right-end",projectId:t.id,projectName:t.name,onClosePopoverRequest:l}),(0,Z.tZ)($e,{categoryId:e.categoryId,workspaceId:e.workspaceId,projectId:t.id,currentUserAccessType:e.currentUserAccessType,hoverOnly:!0,url:o,onProjectRenameRequest:c})]})}));var Ye=r(13828);const Ke=(0,i.memo)((function(){return(0,Z.BX)(v.k,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:de.Q7,paddingX:4,children:[(0,Z.tZ)(Ye.ZP,{height:12,width:16,style:{marginRight:"8px"}}),(0,Z.tZ)(Ye.ZP,{height:12,width:160*Math.max(.2,Math.min(Math.random(),1))})]})}));var ze=r(92074),Je=r(83529),Qe=r(1067),et=r(32085),tt=r(99336),rt=r(89502);const nt=(0,i.memo)((function(e){const[t,r]=(0,i.useState)(!1),{refetch:n}=(0,Ge.W)(e.workspaceId),o=(0,i.useCallback)((async()=>{await n()}),[n]);return!e.currentUserMemberRole||(0,Qe.Zn)((0,Qe.XS)(e.currentUserMemberRole))<(0,Qe.Zn)(w.WP.EDIT)?null:(0,Z.tZ)(Fe,{onClick:o,menuButton:t?(0,Z.tZ)(ze.$,{}):(0,Z.tZ)(Be.J,{as:e.categoryId?he.bHd:he.H$4,w:4,h:4}),hoverOnly:Boolean(e.hoverOnly),forceVisible:t,"data-cy":`workspace-sidebar-actions${e.private?"-private":""}${e.categoryId?"-"+e.categoryId:""}`,children:()=>(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(tt.F,{workspaceId:e.workspaceId,categoryId:e.categoryId,private:e.private,source:"left_sidebar",onCreatingProjectChange:r}),!e.private&&(0,Z.tZ)(rt.I,{workspaceId:e.workspaceId,categoryId:e.categoryId}),e.categoryId&&e.onCategoryRenameRequest&&(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(Je.R,{}),(0,Z.tZ)(et.a,{workspaceId:e.workspaceId,categoryId:e.categoryId,onCategoryRenameRequest:e.onCategoryRenameRequest})]})]})})})),ot=(0,i.memo)((function(e){var t;const[r,n]=(0,i.useState)(!1),o=(0,i.useCallback)((()=>{n(!0)}),[]),a=(0,i.useCallback)((()=>{n(!1)}),[]);return(0,Z.tZ)(Ee.rU,{to:e.url,style:{textDecoration:"none"},children:(0,Z.BX)(ue,{kind:"heading",active:e.active,dataCy:e.dataCy,dropTargetActive:e.dropTargetActive,rootDropTargetActive:e.rootDropTargetActive,depth:e.depth,hasActions:e.hasActions,onMouseEnter:o,onMouseLeave:a,children:[(0,Z.tZ)(se,{bold:e.bold,color:"gray.800",dimmed:e.dimmed,hasLeftMargin:!1,title:"string"==typeof e.title?e.title.toUpperCase():e.title,tooltip:e.tooltip,tooltipOpenDelay:e.tooltipOpenDelay,active:e.active,fontSize:"xxs"}),(r||!e.collapsed)&&e.icon&&(0,Z.tZ)(ce,{icon:e.icon,onIconClick:null!==(t=e.onIconClick)&&void 0!==t?t:void 0})]})})})),it=["workspaceId","section","currentUserMemberRole","dropTargetActive","url","title","tooltip","expanded","onClick"];function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const dt=(0,i.memo)((function(e){var t;const{workspaceId:r,section:n,currentUserMemberRole:o,dropTargetActive:a,url:c,title:l,tooltip:s,expanded:d,onClick:u}=e,p=st(e,it),{isExact:g}=null!==(t=(0,h.$B)(c))&&void 0!==t?t:{},m=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u(n)}),[u,n]);return(0,Z.BX)(Le.du,{role:"group",children:[(0,Z.tZ)(ot,ct(ct({},p),{},{collapsed:!d,dataCy:`sidebar-workspace-heading-${n}`,active:Boolean(g),bold:!0,title:l,tooltip:s,tooltipOpenDelay:1e3,icon:d?he.UDj:he.sls,url:c,dropTargetActive:Boolean(a),depth:0,hasActions:!0,onIconClick:m})),"shared"!==n&&"favorites"!==n&&(0,Z.tZ)(nt,{workspaceId:r,categoryId:null,private:"private"===n,currentUserMemberRole:o})]})})),ut=(0,i.memo)((function({activeProjectId:e,collapsed:t,projects:r,loading:o,sectionUrl:i,workspaceId:a,onSectionToggleRequest:c}){return o?(0,Z.BX)(n.xu,{height:"100%",children:[(0,Z.tZ)(Ke,{}),(0,Z.tZ)(Ke,{}),(0,Z.tZ)(Ke,{})]}):(0,Z.BX)(n.xu,{height:"100%",overflowY:"auto",children:[(0,Z.tZ)(dt,{workspaceId:a,currentUserMemberRole:w.Ag.GUEST,section:"projects",expanded:t,title:"Projects",url:i,onClick:c}),!t&&r.map((t=>{var r;return(0,Z.tZ)(n.xu,{position:"relative",children:(0,Z.tZ)(Ve,{categoryId:null,section:"projects",workspaceId:a,project:t,currentUserAccessType:null!==(r=t.userAccessType)&&void 0!==r?r:null,depth:2,active:e===t.id})},t.id)}))]})})),pt=(0,i.memo)((function({workspaceId:e}){const{data:t,loading:r}=(0,Ze.O)(e,{orderBy:"name_desc"}),n=b(),[o,i]=De();return(0,Z.tZ)(ut,{activeProjectId:n,collapsed:o.projects,projects:t.projects,loading:r,workspaceId:e,onSectionToggleRequest:i,sectionUrl:(0,y.X)(m._.workspace)})}));var gt=r(21258),mt=r(88361),ft=r(44539);const ht=c.Ps`
  mutation SetCategorySubcategories($parentCategoryId: String, $subcategoryIds: [String!]!) {
    updateSiblingCategories(parentCategoryId: $parentCategoryId, orderedCategoryIds: $subcategoryIds) {
      id
      parent_category_id
      position
    }
  }
`;var yt=r(78517),bt=r(55796);function It(e){const[t]=(0,i.useState)((()=>{return e={id:"useWorkspaceSidebarCategoryData",initial:"collapsed_initially",states:{collapsed_initially:{on:{expand:"expanded_initially"}},expanded_initially:{on:{collapse:"collapsed_initially",load_start:"expanded_loading_initially"}},expanded_loading_initially:{on:{collapse:"collapsed_initially",loading_long:"expanded_loading_initially_long",load_error:"expanded_error_initially",load:"expanded_loaded",load_empty:"expanded_loaded_empty"}},expanded_loading_initially_long:{on:{collapse:"collapsed_initially",load_error:"expanded_error_initially",load:"expanded_loaded",load_empty:"expanded_loaded_empty"}},expanded_error_initially:{on:{collapse:"collapsed_initially",load_start:"expanded_loading_initially"}},expanded_loaded:{on:{collapse:"collapsed_loaded",load_start:"expanded_loading"}},expanded_loaded_empty:{on:{collapse:"collapsed_loaded_empty",load_start:"expanded_loaded_empty",load_error:"expanded_loaded",load:"expanded_loaded",load_empty:"expanded_loaded_empty"}},expanded_loading:{on:{collapse:"collapsed_loaded",load_error:"expanded_loaded",load:"expanded_loaded",load_empty:"expanded_loaded_empty"}},collapsed_loaded:{on:{expand:"expanded_loaded"}},collapsed_loaded_empty:{on:{expand:"expanded_loaded_empty"}}}},(0,bt.C8)(e);var e})),[r,n]=(0,i.useState)(new Map),o=(0,i.useRef)(new Map),a=(0,i.useCallback)((e=>{n((r=>{var n;const o=null!==(n=r.get(e))&&void 0!==n?n:t.initialState;return new Map(r).set(e,t.transition(o,"expand"))}))}),[t]),c=(0,i.useCallback)((e=>{o.current.has(e)&&clearTimeout(o.current.get(e)),n((r=>{var n;const o=null!==(n=r.get(e))&&void 0!==n?n:t.initialState;return new Map(r).set(e,t.transition(o,"collapse"))}))}),[t]),l=(0,i.useCallback)(((e,r)=>{r.loading||o.current.has(e)&&clearTimeout(o.current.get(e)),n((n=>{var o;const i=null!==(o=n.get(e))&&void 0!==o?o:t.initialState,a=r.loading?t.transition(i,"load_start"):r.error?t.transition(i,"load_error"):r.loaded?r.empty?t.transition(i,"load_empty"):t.transition(i,"load"):t.transition(i,"collapse");return new Map(n).set(e,a)}))}),[t]),[s,d,u]=(0,i.useMemo)((()=>{const e=new Set,t=new Set,n=new Map;return r.forEach(((r,o)=>{(r.matches("expanded_initially")||r.matches("expanded_loading_initially")||r.matches("expanded_loading_initially_long")||r.matches("expanded_error_initially")||r.matches("expanded_loaded")||r.matches("expanded_loaded_empty")||r.matches("expanded_loading"))&&e.add(o);r.matches("expanded_loaded_empty")&&t.add(o);const i=r.matches("expanded_loading_initially"),a=r.matches("expanded_loading_initially_long"),c=r.matches("expanded_loading");(i||a||c)&&n.set(o,i?"initial":a?"initial_long":"refresh")})),[e,t,n]}),[r]);return(0,i.useEffect)((()=>{r.forEach(((e,r)=>{e.matches("expanded_loading_initially")&&!o.current.has(r)&&o.current.set(r,setTimeout((()=>{n((e=>{var n;const o=null!==(n=e.get(r))&&void 0!==n?n:t.initialState;return new Map(e).set(r,t.transition(o,"loading_long"))}))}),500))}))}),[t,r]),(0,i.useEffect)((()=>{const e=o.current;return()=>{e.forEach(((t,r)=>{clearTimeout(t),e.delete(r)}))}}),[]),(0,i.useEffect)((()=>{const t=function(e){return(0,S.KM)(C(e))}(e);t&&t.forEach((e=>a(e)))}),[a,e]),(0,i.useEffect)((()=>{const t=setTimeout((()=>{!function(e,t){(0,S.RQ)(C(e),t)}(e,Array.from(s))}));return()=>{clearTimeout(t)}}),[s,e]),{expandedCategoryIds:s,emptyCategoryIds:d,loadingCategories:u,expandCategory:a,collapseCategory:c,setCategoryLoading:l}}var vt=r(53056);function Ot(e){const{categoriesById:t,categoriesBySlug:r,categoriesByParent:n}=e.categories.slice().sort(((e,t)=>e.position-t.position)).reduce(((e,t)=>{var r,n;e.categoriesById.set(t.id,t),e.categoriesBySlug.set(t.slug,t);const o=null!==(r=t.parent_category_id)&&void 0!==r?r:null,i=null!==(n=e.categoriesByParent.get(o))&&void 0!==n?n:[];return e.categoriesByParent.set(o,[...i,t]),e}),{categoriesById:new Map,categoriesBySlug:new Map,categoriesByParent:new Map});const{privateProjects:o}=function(e){const t=[];return e.privateProjects.forEach((e=>{Et(e)&&t.push(e)})),{privateProjects:t}}({privateProjects:e.privateProjects}),{sharedProjects:i,allSharedProjectIds:a}=function(e){const t=new Set,r=[];return e.sharedProjects.forEach((e=>{t.add(e.id),Et(e)&&r.push(e)})),{sharedProjects:r,allSharedProjectIds:t}}({sharedProjects:e.sharedProjects}),{favoriteProjects:c}=function({favoriteProjects:e}){return{favoriteProjects:e.filter(Et)}}({favoriteProjects:e.favoriteProjects}),{projectsByCategory:l}=function(e){const t=new Map;return e.rootProjects.forEach((e=>{var r;if(!Et(e))return;const n=null!==(r=t.get(null))&&void 0!==r?r:[];t.set(null,[...n,e])})),e.expandedCategories.forEach((e=>{var r;null===(r=e.projects)||void 0===r||r.forEach((r=>{if(!Et(r))return;const n=e.id;if(n){var o;const e=null!==(o=t.get(n))&&void 0!==o?o:[];t.set(n,[...e,r])}}))})),{projectsByCategory:t}}({rootProjects:e.rootProjects,expandedCategories:e.expandedCategories,userId:e.userId});return{categoriesById:t,categoriesBySlug:r,categoriesByParent:n,projectsByCategory:l,sharedProjects:i,privateProjects:o,favoriteProjects:c,noSharedProjects:0===a.size}}function Et(e){var t;return null!=e.id&&null!=e.name&&null!=e.slug&&null!=e.is_private&&null!=(null===(t=e.author)||void 0===t?void 0:t.id)}var wt=r(52514),At=r(594);function Pt(e){const{ref:t,width:r=0,height:o=0}=(0,At.NB)({refreshRate:1e3/60});return(0,Z.tZ)(n.xu,{flex:1,position:"relative",children:(0,Z.tZ)(n.xu,{ref:t,position:"absolute",top:0,left:0,right:0,bottom:0,children:e.children({width:r,height:o})})})}var _t=r(58632);const{DragDropContext:Tt,DragDropProvider:St,DropTarget:Ct,DragSource:jt}=(0,_t.E)();var kt=r(2178),Nt=r(34328);const Rt="workspace-sidebar-project-list";function Dt({children:e,height:t}){const r=(0,kt.N)(),[n,o]=(0,i.useState)(!1),a=(0,i.useCallback)((()=>{o(r.getMonitor().isDragging())}),[r]);(0,i.useEffect)((()=>r.getMonitor().subscribeToStateChange(a)),[r,a]);const{topScrollMargin:c,bottomScrollMargin:l}=(0,i.useMemo)((()=>{if(0===t)return{bottomScrollMargin:0,topScrollMargin:0};const e=document.getElementById(Rt);if(!e)return{bottomScrollMargin:0,topScrollMargin:0};const r=e.getBoundingClientRect();return{bottomScrollMargin:Math.max(document.documentElement.clientHeight,window.innerHeight)-r.top-t,topScrollMargin:r.top}}),[t]);return(0,Nt.R)({rootElementSelector:`#${Rt}`,active:n,disableSyntheticEventDispatch:!0,scrollAreaHeight:40,topScrollMargin:c,bottomScrollMargin:l}),e}var Zt=r(71030);const Mt=(0,i.memo)((function({project:e,depth:t,active:r,url:n}){return n?(0,Z.tZ)(Se,{kind:"project",isExternal:!0,title:e.name,url:n,depth:t,active:r}):(0,Z.tZ)(Se,{kind:"project",title:e.name,url:(0,y.X)(m._.workspaceProject,e.slug),depth:t,active:r})})),xt=(0,i.memo)((function(e){var t;const{data:{projectWithoutAccess:r,publishedUrl:n}}=(0,Zt.s)(e.project.id);return r?(0,Z.tZ)(Mt,{project:e.project,depth:e.depth,active:e.active,url:n}):(0,Z.tZ)(Ve,{workspaceId:e.workspaceId,project:e.project,section:e.section,currentUserAccessType:null!==(t=e.project.userAccessType)&&void 0!==t?t:null,depth:e.depth,active:e.active,categoryId:e.categoryId})}));var Lt=r(64705);const Bt=c.Ps`
  query GetWorkspaceCategoryProjectList($categoryId: String!) {
    categoryById(id: $categoryId) {
      id
      projects(orderBy: "name_asc") {
        id
        name
        slug
        is_private
        author {
          id
        }
      }
    }
  }
`,Ut={categoryProjects:[]};const Gt=(0,i.memo)((function(e){const{categoryId:t,onCategoryLoadingStatus:r}=e,{data:{categoryProjects:n,loaded:o},loading:a,error:c}=function(e){var t,r,n,o;const i=(0,Lt.a)(Bt,{variables:{categoryId:e.categoryId},fetchPolicy:"network-only",skip:Boolean(e.skip)});return{data:{loaded:null!==(null===(t=i.data)||void 0===t?void 0:t.categoryById),categoryProjects:null!==(r=null===(n=i.data)||void 0===n||null===(o=n.categoryById)||void 0===o?void 0:o.projects)&&void 0!==r?r:Ut.categoryProjects},loading:i.loading,loadingInitially:i.loading&&1===i.networkStatus,error:i.error}}({categoryId:t});return(0,i.useEffect)((()=>{null==r||r(t,{loading:a,error:Boolean(c),empty:0===n.length,loaded:o})}),[t,a,c,n,o,r]),null}));var Ht=r(43697);const Wt=(0,i.memo)((function(e){const{category:t,currentUserMemberRole:r,expanded:n,onCategoryCollapseRequest:o,onCategoryExpandRequest:a}=e,c=t.id,l=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),n?null==o||o(c):null==a||a(c)}),[n,o,a,c]),{isPopoverOpen:s,openPopover:d,closePopover:u}=(0,xe.v)({opened:!1});return(0,Z.BX)(Le.du,{role:"group",children:[(0,Z.tZ)(Se,{kind:"category",bold:!0,title:t.name,icon:n?he.sls:he.UDj,iconPlacement:"right",url:(0,y.X)(m._.workspaceCategory,t.slug),active:e.active,rootDropTargetActive:Boolean(e.rootDropTargetActive),dropTargetActive:Boolean(e.dropTargetActive),depth:e.depth,hasActions:!0,onIconClick:e.expandable?l:null}),s&&(0,Z.tZ)(Ht.J,{contentStyles:{marginLeft:"-25px",marginBottom:"-5px"},placement:"right-end",categoryId:t.id,categoryName:t.name,onClosePopoverRequest:u}),(0,Z.tZ)(nt,{workspaceId:e.workspaceId,categoryId:c,private:!1,currentUserMemberRole:r,hoverOnly:!0,onCategoryRenameRequest:d})]})})),Xt=["section","parentCategoryIds"];function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){$t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Yt=(0,i.memo)((function(e){const{section:t,parentCategoryIds:r}=e,n=Vt(e,Xt),o=n.category.id,a=(0,i.useMemo)((()=>{var e;return{categoryId:null!==(e=r[0])&&void 0!==e?e:null,private:!1}}),[r]),c=(0,i.useMemo)((()=>({section:t,categoryId:o})),[t,o]),l=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]),s=(0,i.useMemo)((()=>({categoryId:o,private:"private"===t})),[o,t]),d=(0,i.useMemo)((()=>[{provides:gt.d.ProjectCategory,id:o},...r.flatMap((e=>e?[{provides:gt.d.ProjectCategory,id:e}]:[]))]),[o,r]);return(0,Z.tZ)(jt,{type:gt.d.ProjectCategory,id:o,source:a,children:(0,Z.tZ)(Ct,{acceptedItemType:l,shallow:!0,id:c,ignoredSource:s,ignoredItems:d,children:({ref:e,activeDropTarget:i})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(Wt,Ft(Ft({},n),{},{rootDropTargetActive:(null==i?void 0:i.section)===t&&r.includes(i.categoryId)&&null==i.position,dropTargetActive:(null==i?void 0:i.section)===t&&i.categoryId===o&&null==i.position}))})})})})),Kt=(0,i.memo)((function(e){const{section:t,parentCategoryIds:r,position:o}=e,a=r[0],c=(0,i.useMemo)((()=>({section:t,categoryId:a,position:o})),[t,a,o]),l=gt.d.ProjectCategory,s=(0,i.useMemo)((()=>[...r.flatMap((e=>e?[{provides:gt.d.ProjectCategory,id:e}]:[]))]),[r]);return(0,Z.tZ)(Ct,{acceptedItemType:l,shallow:!0,id:c,ignoredItems:s,children:({ref:t,isOverLocation:r,draggedItem:o})=>{var i;return(0,Z.tZ)(n.xu,{ref:t,position:"relative",top:-2,marginLeft:2+2*(null!==(i=e.depth)&&void 0!==i?i:0),marginRight:2,height:4,display:"flex",pointerEvents:o?void 0:"none",alignItems:"center",children:(0,Z.tZ)(n.xu,{borderRadius:"sm",width:"100%",backgroundColor:r?"blue.100":void 0,height:1})})}})})),zt=["section"];function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const rr=(0,i.memo)((function(e){const{section:t}=e,r=tr(e,zt),n=(0,i.useMemo)((()=>({section:t,categoryId:null})),[t]),o=(0,i.useMemo)((()=>({categoryId:null,private:"private"===t})),[t]),a=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]);return(0,Z.tZ)(Ct,{id:n,acceptedItemType:a,shallow:!0,ignoredSource:o,children:({ref:e,activeDropTarget:n})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(Se,Qt(Qt({},r),{},{dropTargetActive:(null==n?void 0:n.section)===t&&null===n.categoryId&&null==n.position}))})})})),nr=(0,i.memo)((function(e){var t,r,n,o;return(0,Z.tZ)(v.k,{alignItems:"center",justifyContent:"center",width:null!==(t=e.width)&&void 0!==t?t:4,height:null!==(r=e.height)&&void 0!==r?r:4,marginRight:null!==(n=e.marginRight)&&void 0!==n?n:2,children:(0,Z.tZ)(ze.$,{width:3,height:3,color:null!==(o=e.color)&&void 0!==o?o:"gray.500"})})})),or=(0,i.memo)((function(e){return(0,Z.tZ)(ge,{title:"",kind:"loading-item",icon:nr,depth:e.depth,active:!1,dropTargetActive:Boolean(e.dropTargetActive),rootDropTargetActive:Boolean(e.rootDropTargetActive)})})),ir=["section","parentCategoryIds"];function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const dr=(0,i.memo)((function(e){const{section:t,parentCategoryIds:r}=e,n=sr(e,ir),o=n.categoryId,a=(0,i.useMemo)((()=>({section:t,categoryId:o})),[t,o]),c=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]),l=(0,i.useMemo)((()=>({categoryId:o})),[o]),s=(0,i.useMemo)((()=>[{provides:gt.d.ProjectCategory,id:o},...r.flatMap((e=>e?[{provides:gt.d.ProjectCategory,id:e}]:[]))]),[o,r]);return(0,Z.tZ)(Ct,{id:a,acceptedItemType:c,shallow:!0,ignoredSource:l,ignoredItems:s,children:({ref:e,activeDropTarget:i})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(or,cr(cr({},n),{},{rootDropTargetActive:(null==i?void 0:i.section)===t&&r.includes(i.categoryId)&&null==i.position,dropTargetActive:(null==i?void 0:i.section)===t&&i.categoryId===o&&null==i.position}))})})})),ur=(0,i.memo)((function(e){return e.url?(0,Z.tZ)(Se,{title:"Folder empty",kind:"empty-folder",url:e.url,depth:e.depth,active:!1,dimmed:!0,dropTargetActive:Boolean(e.dropTargetActive),rootDropTargetActive:Boolean(e.rootDropTargetActive)}):(0,Z.tZ)(ge,{title:"Folder empty",kind:"empty-folder",depth:e.depth,active:!1,dimmed:!0,dropTargetActive:Boolean(e.dropTargetActive),rootDropTargetActive:Boolean(e.rootDropTargetActive)})})),pr=["section","parentCategoryIds"];function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const yr=(0,i.memo)((function(e){var t;const{section:r,parentCategoryIds:n}=e,o=hr(e,pr),a=o.category.id,c=(0,i.useMemo)((()=>({section:r,categoryId:a})),[r,a]),l=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]),s=(0,i.useMemo)((()=>({categoryId:a,private:"private"===r})),[a,r]),d=(0,i.useMemo)((()=>[{provides:gt.d.ProjectCategory,id:a},...n.flatMap((e=>e?[{provides:gt.d.ProjectCategory,id:e}]:[]))]),[a,n]),u=null!==(t=e.category)&&void 0!==t&&t.slug?(0,y.X)(m._.workspaceCategory,e.category.slug):(0,y.X)(m._.workspace);return(0,Z.tZ)(Ct,{id:c,acceptedItemType:l,shallow:!0,ignoredSource:s,ignoredItems:d,children:({ref:e,activeDropTarget:t})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(ur,mr(mr({},o),{},{url:u,rootDropTargetActive:(null==t?void 0:t.section)===r&&n.includes(t.categoryId)&&null==t.position,dropTargetActive:(null==t?void 0:t.section)===r&&t.categoryId===a&&null==t.position}))})})})),br=["categoryId","parentCategoryIds"];function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Er(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const wr=(0,i.memo)((function(e){const{categoryId:t,parentCategoryIds:r}=e,n=Er(e,br),o=n.section,a=n.project.id,c=(0,i.useMemo)((()=>({categoryId:t,private:"private"===o})),[t,o]),l=(0,i.useMemo)((()=>({section:o,categoryId:t})),[o,t]),s=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]),d=(0,i.useMemo)((()=>({categoryId:t,section:o})),[t,o]),u=(0,i.useMemo)((()=>[...t?[{provides:gt.d.ProjectCategory,id:t}]:[],...r.flatMap((e=>e?[{provides:gt.d.ProjectCategory,id:e}]:[]))]),[t,r]);return(0,Z.tZ)(jt,{type:gt.d.ProjectCard,id:a,source:c,children:(0,Z.tZ)(Ct,{id:l,acceptedItemType:s,shallow:!0,ignoredSource:d,ignoredItems:u,children:({ref:e,activeDropTarget:i})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(Ve,vr(vr({},n),{},{rootDropTargetActive:(null==i?void 0:i.section)===o&&r.includes(i.categoryId)&&null==i.position,dropTargetActive:(null==i?void 0:i.section)===o&&i.categoryId===t&&null==i.position,categoryId:l.categoryId}))})})})}));function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach((function(t){_r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Tr=(0,i.memo)((function(e){const t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),r=t.section,n=(0,i.useMemo)((()=>({section:r,categoryId:null})),[r]),o=(0,i.useMemo)((()=>[gt.d.ProjectCategory,gt.d.ProjectCard]),[]),a=(0,i.useMemo)((()=>({categoryId:null,private:"private"===r})),[r]);return(0,Z.tZ)(Ct,{id:n,acceptedItemType:o,shallow:!1,ignoredSource:a,children:({ref:e,activeDropTarget:n})=>(0,Z.tZ)("div",{ref:e,children:(0,Z.tZ)(dt,Pr(Pr({},t),{},{dropTargetActive:(null==n?void 0:n.section)===r&&null===n.categoryId&&null==n.position}))})})})),Sr=[null];function Cr(e){return[{type:"heading",section:"projects",key:"heading:Projects",title:"Projects",tooltip:"Projects & folders visible for all workspace members",url:(0,y.X)(m._.workspace)},...e.collapsed?[]:e.loadingRoot?[{type:"loading-root",section:"projects",key:"loading-root:workspace-1"},{type:"loading-root",section:"projects",key:"loading-root:workspace-2"},{type:"loading-root",section:"projects",key:"loading-root:workspace-3"}]:[...kr({section:"projects",depth:1,category:null,parentCategoryIds:[]},{categoriesByParent:e.categoriesByParent,projectsByCategory:e.projectsByCategory,expandedCategoryIds:e.expandedCategoryIds,loadingCategories:e.loadingCategories,activeCategorySlug:e.activeCategorySlug,activeProjectId:e.activeProjectId,emptyCategoryIds:e.emptyCategoryIds})]]}function jr(e){return[{type:"heading-without-dnd",section:"shared",key:"heading:SharedWithMe",title:"Shared with me",tooltip:"Projects that other members of the workspace shared with you",url:(0,y.X)(m._.sharedWithMe)},...e.collapsed?[]:e.loadingRoot?[{type:"loading-root",section:"projects",key:"loading-root:shared-1"},{type:"loading-root",section:"projects",key:"loading-root:shared-2"}]:[...e.sharedProjects.map((t=>({type:"shared-project-without-dnd",section:"shared",project:t,depth:1,categoryId:null,parentCategoryIds:Sr,active:e.activeProjectId===t.id,key:`project:shared:${t.id}`})))]]}function kr(e,t){var r,n;const{section:o,category:i,parentCategoryIds:a,depth:c}=e,l=i?i.id:null,s=null!==(r=t.categoriesByParent.get(l))&&void 0!==r?r:[],d=null!==(n=t.projectsByCategory.get(l))&&void 0!==n?n:[];return[...0===s.length&&0===d.length&&1===c?[{type:"no-project-without-dnd",section:o,depth:1,key:"no-project-without-dnd:no-projects"}]:[{type:"subcategory-position",section:o,parentCategoryIds:[l,...a],position:0,depth:c,key:`category-position:${l}:0`}],...s.flatMap((e=>{const r=t.expandedCategoryIds.has(e.id),n="initial_long"===t.loadingCategories.get(e.id),i=n||"initial"===t.loadingCategories.get(e.id);return[{type:"category",section:o,category:e,parentCategoryIds:[l,...a],expandable:!0,expanded:r,depth:c,active:t.activeCategorySlug===e.slug&&!t.activeProjectId,key:`category:${l}:${e.id}`},...r?n?[{type:"loading",section:o,categoryId:e.id,parentCategoryIds:[l,...a],depth:c+1,key:`loading:${l}:${e.id}`}]:i?[]:kr({section:o,depth:c+1,category:e,parentCategoryIds:[l,...a]},t):[],{type:"subcategory-position",section:o,parentCategoryIds:[l,...a],position:e.position+1,depth:c,key:`subcategory-position:${l}:${e.position+1}`}]})),...d.length>0?d.map((e=>({type:"project",section:o,project:e,depth:c,categoryId:l,parentCategoryIds:a,active:t.activeProjectId===e.id,key:`project:${l}:${e.id}`}))):0===s.length&&i&&t.emptyCategoryIds.has(i.id)?[{type:"no-project",section:o,depth:c,category:i,parentCategoryIds:a,key:`no-project:${l}`}]:[]]}const Nr=(0,i.memo)((function(e){const{workspaceId:t,currentUserMemberRole:r,categoriesByParent:o,projectsByCategory:a,sharedProjects:c,privateProjects:l,expandedCategoryIds:s,emptyCategoryIds:d,activeCategorySlug:u,activeProjectId:p,workspaceProjectsActive:g,privateProjectsActive:m,privateProjectsEnabled:f,sharedProjectsActive:h,collapsedSections:y,noSharedProjects:b,loadingRoot:I,loadingCategories:v,onCategoryCollapseRequest:O,onCategoryExpandRequest:w,onCategoryLoadingStatus:A,onSectionToggleRequest:P}=e;(0,i.useMemo)((()=>{const e=a.get(null);e&&e.sort(((e,t)=>e.name.localeCompare(t.name)))}),[a]);const _=(0,i.useMemo)((()=>function(e){const{workspaceId:t,categoriesByParent:r,projectsByCategory:n,sharedProjects:o,expandedCategoryIds:i,loadingRoot:a,loadingCategories:c,activeCategorySlug:l,activeProjectId:s,workspaceProjectsActive:d,sharedProjectsActive:u,emptyCategoryIds:p,collapsedSections:g,noSharedProjects:m}=e;return[...Cr({workspaceId:t,categoriesByParent:r,projectsByCategory:n,expandedCategoryIds:i,loadingRoot:a,loadingCategories:c,activeCategorySlug:l,activeProjectId:s,workspaceProjectsActive:d,emptyCategoryIds:p,collapsed:g.projects}),...m?[]:jr({workspaceId:t,sharedProjects:o,loadingRoot:a,activeProjectId:s,sharedProjectsActive:u,collapsed:g.shared})]}({workspaceId:t,categoriesByParent:o,projectsByCategory:a,privateProjects:l,sharedProjects:c,expandedCategoryIds:s,loadingRoot:I,loadingCategories:v,activeCategorySlug:u,activeProjectId:p,workspaceProjectsActive:g,privateProjectsActive:m,privateProjectsEnabled:f,sharedProjectsActive:h,emptyCategoryIds:d,collapsedSections:y,noSharedProjects:b,currentUserMemberRole:r})),[t,o,a,l,c,s,I,v,u,p,g,m,f,h,d,y,b,r]),T=(0,i.useCallback)((e=>{var n,o,i;switch(e.type){case"heading-without-dnd":return(0,Z.tZ)(dt,{workspaceId:t,currentUserMemberRole:r,section:e.section,expanded:y[e.section],title:e.title,url:e.url,tooltip:e.tooltip,onClick:P});case"heading":return(0,Z.tZ)(Tr,{workspaceId:t,currentUserMemberRole:r,section:e.section,expanded:y[e.section],title:e.title,url:e.url,tooltip:e.tooltip,onClick:P});case"link-without-dnd":return(0,Z.tZ)(Se,{url:e.url,title:e.title,icon:e.icon,active:e.active});case"link":return(0,Z.tZ)(rr,{url:e.url,title:e.title,icon:e.icon,active:e.active,section:e.section});case"subcategory-position":return(0,Z.tZ)(Kt,{section:e.section,parentCategoryIds:e.parentCategoryIds,position:e.position,depth:e.depth});case"category":return(0,Z.tZ)(Yt,{workspaceId:t,currentUserMemberRole:r,category:e.category,parentCategoryIds:e.parentCategoryIds,expandable:e.expandable,expanded:e.expanded,depth:e.depth,active:e.active,section:e.section,onCategoryCollapseRequest:O,onCategoryExpandRequest:w});case"project-without-dnd":return(0,Z.tZ)(Ve,{categoryId:e.categoryId,workspaceId:t,project:e.project,section:e.section,currentUserAccessType:null!==(n=e.project.userAccessType)&&void 0!==n?n:null,depth:e.depth,active:e.active});case"shared-project-without-dnd":return(0,Z.tZ)(xt,{categoryId:e.categoryId,workspaceId:t,project:e.project,section:e.section,currentUserAccessType:null!==(o=e.project.userAccessType)&&void 0!==o?o:null,depth:e.depth,active:e.active});case"project":return(0,Z.tZ)(wr,{workspaceId:t,project:e.project,currentUserAccessType:null!==(i=e.project.userAccessType)&&void 0!==i?i:null,depth:e.depth,active:e.active,section:e.section,categoryId:e.categoryId,parentCategoryIds:e.parentCategoryIds});case"no-project":return(0,Z.tZ)(yr,{workspaceId:t,depth:e.depth,section:e.section,category:e.category,parentCategoryIds:e.parentCategoryIds});case"no-project-without-dnd":return(0,Z.tZ)(ur,{depth:e.depth});case"loading-root":return(0,Z.tZ)(Ke,{});case"loading":return(0,Z.tZ)(dr,{section:e.section,categoryId:e.categoryId,parentCategoryIds:e.parentCategoryIds,depth:e.depth});default:(0,Qe.vE)(e)}}),[t,y,r,O,w,P]),S=(0,i.useCallback)((({index:e,style:t})=>{const r=_[e];return(0,Z.tZ)(n.xu,{"data-cy":E._lq,"data-key":r.key,style:t,zIndex:"subcategory-position"===r.type?1:void 0,children:r?T(r):null},r.key)}),[_,T]),C=(0,i.useCallback)((({index:e})=>"subcategory-position"===_[e].type?0:de.vM),[_]),j=(0,i.useRef)(null);return(0,i.useEffect)((()=>{var e,t;null==j||null===(e=j.current)||void 0===e||e.recomputeRowHeights(),null==j||null===(t=j.current)||void 0===t||t.forceUpdate()}),[_,C]),(0,Z.BX)(St,{onDrop:e.onDrop,children:[(0,Z.tZ)(Pt,{children:({height:e,width:t})=>(0,Z.tZ)(Dt,{height:e,children:(0,Z.tZ)(wt.ZP,{id:Rt,ref:j,width:t,height:e,rowCount:_.length,rowHeight:C,rowRenderer:S,style:{outline:"none",paddingTop:"var(--chakra-space-2)",paddingBottom:"var(--chakra-space-2)"}})})}),[...s].map((e=>(0,Z.tZ)(Gt,{categoryId:e,onCategoryLoadingStatus:A},e)))]})})),Rr=(0,i.memo)((function(e){var t,r,n,o,a,c;const{expandedCategoryIds:l,emptyCategoryIds:s,loadingCategories:d,expandCategory:u,collapseCategory:g,setCategoryLoading:b}=It(e.workspaceId),I=(0,mt.pt)(),v=(0,h.$B)((0,y.X)(m._.workspaceCategory,":categorySlug")),O=(0,h.$B)((0,y.X)(m._.workspaceProject,":projectSlug")),E=(0,h.$B)({path:(0,y.X)(m._.workspace),exact:!0}),w=(0,h.$B)((0,y.X)(m._.privateProjects)),A=(0,h.$B)((0,y.X)(m._.sharedWithMe)),P=null!==(t=null==v?void 0:v.params.categorySlug)&&void 0!==t?t:null,_=null!==(r=null==O?void 0:O.params.projectSlug)&&void 0!==r?r:null,T=_&&null!==(n=null===(o=(0,f.ae)(_))||void 0===o?void 0:o.id)&&void 0!==n?n:null,[S,C]=De(),{data:{teamId:j,categories:N,rootProjects:R,privateProjects:D,sharedProjects:M,favoriteProjects:x,expandedCategories:L,activeProjectCategory:B,userId:U,currentUserMemberRole:G},loadingInitially:H}=(0,vt.q)({workspaceId:e.workspaceId,activeProjectId:T}),[W]=function(){const[e,{loading:t,error:r}]=(0,ft.D)(ht);return[(0,i.useCallback)(((t,r)=>{e({variables:{parentCategoryId:t,subcategoryIds:r},optimisticResponse:{updateSiblingCategories:r.map(((e,r)=>({__typename:"ProjectCategory",id:e,parent_category_id:t,position:r+1})))},update(e,{data:r}){null!=r&&r.updateSiblingCategories&&e.performTransaction((e=>{r.updateSiblingCategories.forEach((r=>{(0,p.A$)(e,{movedCategoryId:r.id,targetCategoryId:t})}))}))}})}),[e]),{loading:t,error:r}]}(),[X]=(0,yt.Y)(),{categoriesById:q,categoriesBySlug:F,categoriesByParent:$,projectsByCategory:V,sharedProjects:Y,privateProjects:K,noSharedProjects:z}=(0,i.useMemo)((()=>Ot({categories:N,rootProjects:R,privateProjects:D,sharedProjects:M,favoriteProjects:x,expandedCategories:L,userId:U})),[N,R,D,M,x,L,U]),J=(0,i.useCallback)((e=>{Dr(e,q).forEach((e=>u(e))),u(e)}),[u,q]),Q=(0,i.useCallback)(((e,t)=>{if(t.provides===gt.d.ProjectCategory){var r;const n=e.categoryId,o=t.id,i=null!==(r=$.get(n))&&void 0!==r?r:[],a=i.filter((e=>e.id!==o)),c=e.position,l=null==c?-1:a.findIndex((e=>e.position>=c)),s=-1===l?i.length:l,d=a.map((e=>e.id));d.splice(s,0,o),W(n,d)}if(t.provides===gt.d.ProjectCard){if(!j)return;const r=()=>{X(j,t.id,t.source.categoryId,e.categoryId,"private"===e.section)};"private"===e.section&&!1===t.source.private?I({title:"Make project private?",content:"Other workspace members will lose access to this project.",confirmText:"Make private",onConfirm:r}):!0===t.source.private&&"private"!==e.section?I({title:"Move project to workspace?",content:"This will make the project available to all workspace members.",confirmText:"Move project",onConfirm:r}):r()}}),[j,X,W,$,I]),ee=P?null===(a=F.get(P))||void 0===a?void 0:a.parent_category_id:null,te=null!==(c=null==B?void 0:B.id)&&void 0!==c?c:null,re=(0,i.useRef)(null);return(0,i.useEffect)((()=>{T&&te&&te!==re.current?(re.current=te,J(te)):ee&&J(ee)}),[ee,T,te,J]),(0,Z.tZ)(k.j,{feature:"PRIVATE_PROJECTS",children:({canUseFeature:t})=>{var r,n;return(0,Z.tZ)(Nr,{workspaceId:e.workspaceId,currentUserMemberRole:G,categoriesByParent:$,projectsByCategory:V,sharedProjects:Y,privateProjects:K,userId:U,expandedCategoryIds:l,emptyCategoryIds:s,activeCategorySlug:null!==(r=null!==(n=null==v?void 0:v.params.categorySlug)&&void 0!==n?n:null==B?void 0:B.slug)&&void 0!==r?r:null,activeProjectId:T,workspaceProjectsActive:Boolean(E),privateProjectsEnabled:Boolean(t),privateProjectsActive:Boolean(w),sharedProjectsActive:Boolean(A),collapsedSections:S,noSharedProjects:z,loadingRoot:H,loadingCategories:d,onCategoryCollapseRequest:g,onCategoryExpandRequest:J,onCategoryLoadingStatus:b,onDrop:Q,onSectionToggleRequest:C})}})}));function Dr(e,t){const r=t.get(e),n=null==r?void 0:r.parent_category_id;return n?[n,...Dr(n,t)]:[]}var Zr=r(58845);const Mr=(0,i.memo)((function(e){var t;return(0,Z.tZ)(Ee.rU,{to:{pathname:e.url,state:e.state},style:{textDecoration:"none"},onClick:e.onClick,children:(0,Z.BX)(v.k,{height:8,paddingLeft:4,justifyContent:"space-between",paddingRight:4,alignItems:"center","data-cy":e.dataCy,backgroundColor:e.active?"gray.200":void 0,_hover:{backgroundColor:"gray.200"},_groupHover:{backgroundColor:"gray.200"},textDecoration:"none",children:[(0,Z.BX)(v.k,{children:[e.icon&&(0,Z.tZ)(ce,{icon:e.icon,onIconClick:null!==(t=e.onIconClick)&&void 0!==t?t:void 0}),(0,Z.tZ)(se,{bold:e.bold,dimmed:e.dimmed,hasLeftMargin:!1,title:e.title,tooltip:e.tooltip,tooltipOpenDelay:e.tooltipOpenDelay,active:e.active})]}),(0,Z.tZ)(v.k,{onClick:e=>e.preventDefault(),children:(0,Z.BX)(He.v,{children:[(0,Z.tZ)(We.j,{children:(0,Z.tZ)(Be.J,{as:he.H$4,color:"gray.500"})}),(0,Z.tZ)(Xe.q,{children:e.contextMenu})]})})]})})})),xr=(0,i.memo)((function(e){const{data:t}=(0,Zr.P)({workspaceId:e.workspaceId,searchQuery:"",orderBy:"last_opened_by_me_asc"}),r=Boolean((0,h.$B)((0,y.X)(m._.favoritesProjects))),n=Boolean((0,h.$B)((0,y.X)(m._.recentProjects))),o=Boolean((0,h.$B)((0,y.X)(m._.publishedApps))),i=Boolean((0,h.$B)((0,y.X)(m._.privateProjects)));return(0,Z.BX)(Z.HY,{children:[t.projects&&t.projects.length>0&&(0,Z.tZ)(Se,{title:"Favorites",icon:he.XmZ,url:(0,y.X)(m._.favoritesProjects),active:r}),(0,Z.tZ)(Se,{title:"Recents",icon:he.LED,url:(0,y.X)(m._.recentProjects),active:n}),(0,Z.tZ)(A.X,{teamAction:w.r_.CREATE_PRIVATE_PROJECT,workspaceId:e.workspaceId,children:(0,Z.tZ)(Mr,{title:"Private projects",dataCy:E.beH,icon:he.oV,url:(0,y.X)(m._.privateProjects),active:i,workspaceId:e.workspaceId,contextMenu:(0,Z.tZ)(tt.F,{workspaceId:e.workspaceId,categoryId:null,private:!0,source:"sidebar_utility_links"})})}),(0,Z.tZ)(Se,{title:"Published apps",icon:he.ugZ,url:(0,y.X)(m._.publishedApps),active:o})]})}));function Lr({children:e}){const{sidebarRef:t,sidebarWidth:r,startResizing:n,isResizing:o}=(0,j.r)({localStorageKey:"workspace-sidebar-width",setWidthCallback:(e,t)=>{return r=e+t,Math.min(Math.max(r,T.R5),T.IU);var r}});return(0,Z.BX)(v.k,{ref:t,position:"relative",flexDirection:"column",background:"background.secondary",minWidth:`${r}px`,width:`${r}px`,maxWidth:`${r}px`,flexGrow:1,"data-debug-id":"workspace-sidebar-flex-outermost","data-cy":E.tBO,children:[(0,Z.tZ)(_.O,{onMouseDown:n,isResizing:o,left:r}),e(r)]})}const Br=(0,i.memo)((function({workspaceId:e,onDrawerClose:t}){const r=!!t;return(0,Z.tZ)(P.D,{children:(0,Z.tZ)(A.X,{teamAction:w.r_.VIEW_LEFT_SIDEBAR,workspaceId:e,children:(0,Z.tZ)(Lr,{children:n=>(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(v.k,{minHeight:12,backgroundColor:"background.primary",alignItems:"center",borderBottomWidth:"1px",borderColor:"divider.primary",children:(0,Z.tZ)(v.k,{justifyContent:"space-between",paddingX:2,flex:"auto",minWidth:0,borderRightWidth:r?void 0:"1px",children:(0,Z.BX)(a.S,{scope:"WorkspaceSidebar/WorkspaceSwitcherContainer",errorPartialMessage:"workspace switcher",children:[(0,Z.tZ)(R.I,{activeWorkspaceId:e,onDrawerClose:t}),(0,Z.tZ)(N.p,{workspaceId:e})]})})}),(0,Z.BX)(v.k,{flexGrow:1,flexDirection:"column",borderRightWidth:r?void 0:"1px",children:[(0,Z.tZ)(v.k,{flexGrow:1,maxWidth:"100%",children:(0,Z.BX)(v.k,{flexDirection:"column",flexGrow:1,maxWidth:"100%",paddingTop:2,children:[(0,Z.BX)(A.X,{teamAction:w.r_.VIEW_SETTINGS,workspaceId:e,children:[(0,Z.tZ)(ke,{workspaceId:e}),(0,Z.tZ)(O.i,{marginTop:2})]}),(0,Z.tZ)(O.i,{marginTop:"-1px",marginBottom:2}),(0,Z.tZ)(xr,{workspaceId:e}),(0,Z.tZ)(O.i,{marginTop:"-1px",paddingTop:2}),(0,Z.tZ)(A.X,{teamAction:w.r_.VIEW_PROJECTS,workspaceId:e,fallback:(0,Z.tZ)(A.X,{teamAction:w.r_.VIEW_GUEST_PROJECTS,workspaceId:e,children:(0,Z.tZ)(a.S,{scope:"WorkspaceSidebar/WorkspaceSidebarGuestProjectListContainer",errorPartialMessage:"project list",children:(0,Z.tZ)(pt,{workspaceId:e})})}),children:(0,Z.tZ)(a.S,{scope:"WorkspaceSidebar/WorkspaceSidebarProjectListContainer",errorPartialMessage:"project list",children:(0,Z.tZ)(Rr,{workspaceId:e})})}),(0,Z.tZ)(k.j,{feature:"VIEW_WORKSPACE_PROJECT_LIMIT_ALERT",children:(0,Z.tZ)(H,{workspaceId:e})}),(0,Z.tZ)(x,{workspaceId:e})]})}),(0,Z.tZ)(ve,{workspaceId:e})]})]})})})})}));function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){Hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Wr=(0,i.memo)((function({workspaceId:e,onDrawerClose:t}){return u(e),function(e){const t=b();(0,l.f)(I,{variables:{teamId:e},onData:({client:r,data:n})=>{var o;const i=null===(o=n.data)||void 0===o?void 0:o.projectOperation;if(i)switch(i.__typename){case"ProjectCreated":(0,p.B)(r.cache,i.projectCreated.id,{teamId:e,categoryId:i.categoryId});break;case"ProjectDeleted":{const n=i.projectDeleted.id;(0,p.rR)(r.cache,n,{teamId:e,categoryId:i.categoryId}),t===n&&g.Z.error({message:`This project has been deleted by ${i.deletedBy.name}. In order to prevent losses, copy your work.`});break}case"ProjectMoved":(0,p.xy)(r.cache,i)}}})}(e),(0,Z.tZ)(Br,{workspaceId:e,onDrawerClose:t})})),Xr=e=>(0,Z.tZ)(a.S,{scope:"Sidebar",fallback:(0,Z.tZ)(Lr,{children:()=>(0,Z.tZ)(n.xu,{padding:3,children:(0,Z.tZ)(o.b,{status:"error",children:"Something went wrong while rendering the sidebar. Please refresh the browser or contact our support."})})}),children:(0,Z.tZ)(Wr,Gr({},e))})},93035:(e,t,r)=>{"use strict";r.d(t,{av:()=>g,du:()=>p});var n=r(80955),o=r(91987),i=r(51625);const a=["as"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const u=(0,o.createContext)({onContextMenu:()=>{}});function p(e){const[t,r]=(0,o.useState)([]),c=(0,o.useRef)(null);(0,n.O)("contextmenu",(0,o.useCallback)((e=>{if(e.target&&c.current&&(e.target===c.current||c.current.contains(e.target))){e.preventDefault();const{pageX:r,pageY:n}=e;t.forEach((({open:e})=>e({x:r,y:n})))}else t.forEach((({close:e})=>e()))}),[t]));const s=(0,o.useCallback)(((e,t)=>{const n={open:e,close:t};return r((e=>[...e,n])),()=>{r((e=>{const t=e.indexOf(n);return-1===t?e:[...e.slice(0,t),...e.slice(t+1)]}))}}),[]),p=(0,o.useMemo)((()=>({onContextMenu:s})),[s]),{as:g="div"}=e,m=d(e,a);return(0,i.tZ)(u.Provider,{value:p,children:(0,o.createElement)(g,l(l({},m),{},{ref:c}))})}function g(e,t){const{onContextMenu:r}=(0,o.useContext)(u);(0,o.useEffect)((()=>r(e,t)),[r,e,t])}},31146:(e,t,r)=>{"use strict";r.d(t,{O:()=>c});var n=r(64119),o=r(64705),i=r(50464);const a=n.Ps`
  ${i.i}
  query GetWorkspaceGuestProjectList($workspaceId: String!, $searchQuery: String, $orderBy: String) {
    team(id: $workspaceId) {
      ... on Team {
        guestProjects(searchQuery: $searchQuery, orderBy: $orderBy) {
          ...ProjectListProject
        }
      }
      ... on TeamUnauthorized {
        guestProjects(searchQuery: $searchQuery, orderBy: $orderBy) {
          ...ProjectListProject
        }
      }
    }
  }
`;function c(e,t={}){var r,n,i,c;const{data:l,loading:s,error:d}=(0,o.a)(a,{variables:{workspaceId:e,orderBy:null!==(r=t.orderBy)&&void 0!==r?r:null,searchQuery:null!==(n=t.searchQuery)&&void 0!==n?n:null}});return{data:{projects:null!==(i=null==l||null===(c=l.team)||void 0===c?void 0:c.guestProjects)&&void 0!==i?i:[]},loading:s,error:d}}},53056:(e,t,r)=>{"use strict";r.d(t,{q:()=>g});var n=r(64119),o=r(64705),i=r(24452);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=n.Ps`
  query GetWorkspaceCategoryList($teamId: String!) {
    team(id: $teamId) {
      __typename
      ... on Team {
        id
        userRole
        categories {
          id
          slug
          name
          parent_category_id
          projectCount
          position
          color
          breadcrumbs {
            id
          }
        }
        rootProjects(orderBy: "name_asc_created_at_asc") {
          id
          name
          slug
          is_private
          author {
            id
          }
        }
        privateProjects {
          id
          name
          slug
          is_private
          author {
            id
          }
        }
        sharedWithMeProjects {
          id
          name
          slug
          is_private
          author {
            id
          }
        }
        favoriteProjects {
          id
          name
          slug
          is_private
          author {
            id
          }
        }
      }
    }
    me {
      __typename
      ... on Profile {
        id
      }
    }
  }
`,d=n.Ps`
  query GetProject($projectId: String!) {
    projectById(id: $projectId) {
      ... on Project {
        id
        category {
          id
          slug
        }
      }
    }
  }
`,u=n.Ps`
  query GetWorkspaceCategoryProjectLists($teamId: String!) {
    team(id: $teamId) {
      __typename
      ... on Team {
        id
        categories {
          id
          projects(orderBy: "name_asc") {
            id
            name
            slug
            is_private
            userAccessType
            author {
              id
            }
          }
        }
      }
    }
  }
`,p={categories:[],rootProjects:[],privateProjects:[],sharedProjects:[],favoriteProjects:[],userId:"",activeProjectCategory:null,expandedCategories:[],currentUserMemberRole:null};function g(e){var t,r,n,a,l,g,m,f,h,y,b,I,v,O,E,w,A,P,_,T,S,C,j,k,N,R,D,Z,M,x,L,B,U,G,H,W;const X=e.workspaceId,q=(0,o.a)(s,{variables:{teamId:X},fetchPolicy:"cache-and-network"}),F=(0,o.a)(d,{variables:{projectId:e.activeProjectId},fetchPolicy:"cache-and-network",skip:!e.activeProjectId}),$=(0,o.a)(u,{variables:{teamId:X},fetchPolicy:"cache-only",returnPartialData:!0}),V=!q.data&&(q.networkStatus===i.I.loading||q.networkStatus===i.I.setVariables),Y=null!==(t=null!==(r=q.loading)&&void 0!==r?r:$.loading)&&void 0!==t?t:F.loading,K=null!==(n=null!==(a=q.error)&&void 0!==a?a:$.error)&&void 0!==n?n:F.error;return"TeamUnauthorized"===(null==q||null===(l=q.data)||void 0===l||null===(g=l.team)||void 0===g?void 0:g.__typename)||"TeamUnauthorized"===(null==$||null===(m=$.data)||void 0===m||null===(f=m.team)||void 0===f?void 0:f.__typename)||"AnonymousProfile"===(null===(h=q.data)||void 0===h||null===(y=h.me)||void 0===y?void 0:y.__typename)?{data:c({teamId:X},p),loading:Y,loadingInitially:V,error:K}:{data:{teamId:X,categories:null!==(b=null===(I=q.data)||void 0===I||null===(v=I.team)||void 0===v?void 0:v.categories)&&void 0!==b?b:p.categories,rootProjects:null!==(O=null===(E=q.data)||void 0===E||null===(w=E.team)||void 0===w?void 0:w.rootProjects)&&void 0!==O?O:p.rootProjects,privateProjects:null!==(A=null===(P=q.data)||void 0===P||null===(_=P.team)||void 0===_?void 0:_.privateProjects)&&void 0!==A?A:p.privateProjects,sharedProjects:null!==(T=null===(S=q.data)||void 0===S||null===(C=S.team)||void 0===C?void 0:C.sharedWithMeProjects)&&void 0!==T?T:p.sharedProjects,favoriteProjects:null!==(j=null===(k=q.data)||void 0===k||null===(N=k.team)||void 0===N?void 0:N.favoriteProjects)&&void 0!==j?j:p.favoriteProjects,userId:"Profile"===(null===(R=q.data)||void 0===R||null===(D=R.me)||void 0===D?void 0:D.__typename)&&null!==(Z=null===(M=q.data)||void 0===M?void 0:M.me.id)&&void 0!==Z?Z:p.userId,activeProjectCategory:"Project"===(null===(x=F.data)||void 0===x||null===(L=x.projectById)||void 0===L?void 0:L.__typename)&&null!==(B=F.data.projectById.category)&&void 0!==B?B:p.activeProjectCategory,expandedCategories:null!==(U=null===(G=$.data)||void 0===G||null===(H=G.team)||void 0===H?void 0:H.categories)&&void 0!==U?U:p.expandedCategories,currentUserMemberRole:null!==(W=q.data)&&void 0!==W&&W.team?q.data.team.userRole:null},state:{rootListQueryState:q},loading:Y,loadingInitially:V,error:K}}},9372:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(77424),o=r(60802),i=r(19654),a=r(91987),c=r(99162),l=r(89304),s=r(2638),d=r(64119),u=r(64705);const p=d.Ps`
  query GetProjectOwnerData($projectId: String!) {
    me {
      ... on AnonymousProfile {
        id
      }
    }
    projectById(id: $projectId) {
      ... on Project {
        id
        author {
          id
        }
      }
    }
  }
`;var g=r(34231),m=r(44776),f=r(49),h=r(88909),y=r(51192),b=r(97054),I=r(76077),v=r(13636),O=r(44689),E=r(26592),w=r(22857),A=r(51625);const P=(0,a.memo)((function({step:e,heading:t,description:r,redirectUrl:o,inviteToken:i,openAuthInNewTab:c,source:l,onClickSignIn:s,onClickSSO:d,onClickEmail:u,onClickBack:p,onClose:P,onShowEmailSentSuccess:_,enforcedAuthProvider:T}){const S=(0,a.useCallback)((()=>{window.location.href=v._.terms()}),[]),C=(0,a.useCallback)((()=>{window.location.href=v._.privacy()}),[]);return(0,A.tZ)(E.Z,{onClose:P,headerType:"NONE",children:(0,A.tZ)(g.M,{width:"100%","data-cy":I.SiH,children:(0,A.tZ)(m.k,{height:"100%",flexDirection:"column",justifyContent:"space-between",width:"360px",children:(0,A.BX)(f.g,{children:[(0,A.BX)(m.k,{flexDirection:"column",alignItems:"center",sx:{marginBottom:"var(--chakra-space-5) !important"},children:[(0,A.tZ)(h.X,{fontWeight:600,fontSize:"32px",fontFamily:O.LZ.fontFamily.marketingHeaderFontFamily,lineHeight:"36px",textAlign:"center",children:t}),r&&(0,A.tZ)(y.x,{marginTop:3,children:r})]}),(0,A.tZ)(w.H,{signInStep:e,redirectUrl:o,inviteToken:i,openAuthInNewTab:c,source:l,onClickSSO:d,onClickEmail:u,onClickBack:p,onShowEmailSentSuccess:_,enforcedAuthProvider:T}),(0,A.BX)(y.x,{fontSize:"xs",color:"gray.700",children:[e===n.AF.SIGN_IN&&"Not a user yet? ",e===n.AF.SIGN_UP&&"Already a user? ",(0,A.BX)(b.r,{variant:"gray",onClick:s,children:[e===n.AF.SIGN_IN&&"Sign up here! ",e===n.AF.SIGN_UP&&"Sign in "]})]}),(0,A.BX)(y.x,{fontSize:"xs",color:"gray.700",textAlign:"center",sx:{marginTop:"var(--chakra-space-8) !important"},children:["By continuing, you agree with Deepnote's"," ",(0,A.tZ)(b.r,{variant:"gray",onClick:S,children:"Terms of Service"})," ","and"," ",(0,A.tZ)(b.r,{variant:"gray",onClick:C,children:"Privacy Policy"})]})]})})})})}));var _=r(78770);const T=({step:e=n.AF.SIGN_IN,headingText:t="Sign in",description:r,redirectTo:d,onCloseRequest:g,enforcedAuthProvider:m})=>{var f,h,y,b,I;const v=(0,l.pp)(),{data:{isAnonymousUserProjectOwner:O},loading:E}=function(e){var t,r,n,o;const{data:i,loading:a}=(0,u.a)(p,{variables:{projectId:e},skip:!e});return{data:{isAnonymousUserProjectOwner:"AnonymousProfile"===(null==i||null===(t=i.me)||void 0===t?void 0:t.__typename)&&"Project"===(null==i||null===(r=i.projectById)||void 0===r?void 0:r.__typename)&&i.me.id===(null==i||null===(n=i.projectById)||void 0===n||null===(o=n.author)||void 0===o?void 0:o.id)},loading:a}}(null==v?void 0:v.id),w=null!=d?d:(0,_.B8)(),T=!(0,o.sk)()&&!window.Cypress&&(null===(f=window)||void 0===f?void 0:f.parent)!==(null===(h=window)||void 0===h?void 0:h.self),S=null!==(I=new URLSearchParams((0,o.sk)()?"":null===(y=window)||void 0===y||null===(b=y.location)||void 0===b?void 0:b.search).get("token"))&&void 0!==I?I:void 0,C=(0,_.I7)(O),[j,k]=(0,a.useState)(t),[N,R]=(0,a.useState)(e),D=(0,a.useCallback)((()=>{N===n.AF.SIGN_IN?(R(n.AF.SIGN_UP),k("Deepnote is free. Getstarted today.")):N===n.AF.SIGN_UP&&(R(n.AF.SIGN_IN),k("Sign in"))}),[N]),Z=(0,a.useCallback)((()=>{R(n.AF.SSO)}),[]),M=(0,a.useCallback)((()=>{R(n.AF.EMAIL)}),[]),x=(0,a.useCallback)((()=>{R(n.AF.SIGN_IN)}),[]);(0,a.useEffect)((()=>{w&&(0,s.p)("deepnote-auth-redirect",w),e===n.AF.SIGN_IN?(0,i.j)("Sign in modal opened",{title:t,message:r,workspaceId:null},{allowNullWorkspaceId:!0}):e===n.AF.SIGN_UP&&(0,i.j)("Sign up modal opened",{title:t,message:r,workspaceId:null},{allowNullWorkspaceId:!0})}),[w,t,r,e]);const L=(0,a.useCallback)((()=>{R(n.AF.EMAIL_SENT),k("Check your email")}),[]);return E?null:(0,A.tZ)(c.KN,{children:(0,A.tZ)(P,{step:N,heading:j,description:r,redirectUrl:w,inviteToken:S,openAuthInNewTab:T,source:C,onClickSignIn:D,onClickSSO:Z,onClickEmail:M,onClickBack:x,onClose:g,onShowEmailSentSuccess:L,enforcedAuthProvider:m})})}},67379:(e,t,r)=>{"use strict";r.d(t,{V:()=>S,Z:()=>C});var n=r(13636),o=r(77424),i=r(3285),a=r(91987),c=r(99162),l=r(63163),s=r(87340),d=r(23451),u=r(44776),p=r(34231),g=r(49),m=r(97054),f=r(6606),h=r(88909),y=r(51192),b=r(76077),I=r(44689),v=r(18625),O=r(51625);const E=(0,a.memo)((function({onClickBack:e}){const t=(0,a.useCallback)((()=>{(0,l.I)()}),[]);return(0,O.BX)(u.k,{flexDirection:"column",gap:3,textAlign:"center",children:[(0,O.BX)(y.x,{fontSize:"sm",lineHeight:"21px",marginBottom:3,children:["The workspace does not have SSO enabled. Please contact our support or"," ",(0,O.tZ)(m.r,{href:"https://deepnote.com/docs/okta-sso",children:"learn more about how to enable SSO"})," in Deepnote."]}),(0,O.tZ)(v.$,{text:"Contact support",onClick:t}),(0,O.tZ)(m.r,{fontSize:"xs",fontWeight:600,color:"gray.600",onClick:e,children:"Return to previous screen"})]})}));var w=r(22857);const A=(0,a.memo)((function({step:e,enforcedAuthProvider:t,displayLeaveTeamButton:r,headingText:i,description:c,redirectUrl:l,source:s,email:v,ssoError:A,onSignInClick:P,onSSOClick:_,onEmailClick:T,onBackClick:S,onShowEmailSentSuccess:C,onLeaveTeamRequest:j,onOpenSupportChatRequest:k}){const[N]=(0,d.a)("(max-width: 1200px)"),R=(0,a.useCallback)((()=>{window.location.href=n._.terms()}),[]),D=(0,a.useCallback)((()=>{window.location.href=n._.privacy()}),[]);return(0,O.BX)(u.k,{"data-cy":b.dvw,height:"100vh",width:"100%",children:[(0,O.tZ)(p.M,{width:N?"100vw":"50vw",paddingTop:"120px",children:(0,O.BX)(u.k,{height:"100%",flexDirection:"column",justifyContent:"space-between",width:"360px",children:[(0,O.BX)(g.g,{children:[(0,O.tZ)(m.r,{display:"flex",href:n._.root(),justifyContent:"center",width:"100%",marginBottom:8,_hover:{transition:"0.2s",transform:"scale(1.05)"},sx:{img:{maxWidth:"120px"}},children:(0,O.tZ)(f.E,{src:"/static/landing/deepnote_landing_logo.svg",alt:"Deepnote"})}),(0,O.BX)(u.k,{flexDirection:"column",alignItems:"center",width:"100%",sx:{marginBottom:"var(--chakra-space-5) !important"},children:[(0,O.tZ)(h.X,{fontWeight:600,fontSize:"32px",fontFamily:I.LZ.fontFamily.marketingHeaderFontFamily,lineHeight:"36px",textAlign:"center",children:i}),c&&(0,O.tZ)(y.x,{fontSize:"sm",color:"gray.800",textAlign:"center",marginTop:3,children:c})]}),A?(0,O.tZ)(E,{onClickBack:S}):(0,O.tZ)(w.H,{signInStep:e,enforcedAuthProvider:t,redirectUrl:l,openAuthInNewTab:!1,source:s,defaultEmail:v,onClickSSO:_,onClickEmail:T,onClickBack:S,onShowEmailSentSuccess:C}),!r&&(0,O.tZ)(O.HY,{children:(0,O.BX)(y.x,{fontSize:"xs",color:"gray.700",children:[e===o.AF.SIGN_IN&&"Not a user yet? ",e===o.AF.SIGN_UP&&"Already a user? ",(0,O.BX)(m.r,{variant:"gray",onClick:P,children:[e===o.AF.SIGN_IN&&"Sign up here! ",e===o.AF.SIGN_UP&&"Sign in "]})]})}),t&&r&&(0,O.BX)(y.x,{fontSize:"xs",color:"gray.700",textAlign:"center",paddingTop:2,children:["To continue using Deepnote sign in with ",o.Sn[t]," or",(0,O.tZ)("br",{}),(0,O.tZ)(m.r,{variant:"gray",onClick:j,children:"leave the workspace"}),".",(0,O.BX)(y.x,{marginTop:2,children:["If you are having trouble, reach out to"," ",(0,O.tZ)(m.r,{variant:"gray",onClick:k,children:"support"}),"."]})]})]}),(0,O.BX)(y.x,{fontSize:"xs",color:"gray.700",textAlign:"center",marginBottom:4,marginTop:4,children:["By continuing, you agree with Deepnote's"," ",(0,O.tZ)(m.r,{variant:"gray",onClick:R,children:"Terms of Service"})," ","and"," ",(0,O.tZ)(m.r,{variant:"gray",onClick:D,children:"Privacy Policy"})]})]})}),(0,O.tZ)(u.k,{display:N?"none":"block",width:"50vw",height:"100vh",sx:{img:{height:"100%",width:"100%",objectFit:"cover"}},children:(0,O.tZ)(f.E,{src:"/static/landing/deepnote_login_banner.jpg",alt:"Sign in illustration"})})]})}));var P=r(78770),_=r(14984);const T=(e,t,r)=>r?o.AF.PREFER_BUSINESS_EMAIL:t?o.AF.SSO:"/sign-in"===e?o.AF.SIGN_IN:o.AF.SIGN_UP;function S(e){const t=(0,P.Vs)(),r=T(e.preloadedState.path,e.preloadedState.ssoError,t),{redirectTo:d,loginError:u,enforcedAuthProvider:p,teamLeaveToken:g,workspaceId:m,workspaceName:f}=e.preloadedState,h=null!=d?d:(0,P.B8)(),[y,b]=(0,a.useState)(!1),[I,v]=(0,a.useState)(e.preloadedState.ssoError),E=(0,P.MK)(e.preloadedState),w=(0,P.GJ)(E),S=(0,a.useCallback)((()=>e.preloadedState.ssoError?"Enable SSO to continue":(0,P.Ku)(e.preloadedState,r===o.AF.SIGN_IN)),[e.preloadedState,r]),[C,j]=(0,a.useState)(S()),[k,N]=(0,a.useState)(r),R=(0,a.useCallback)((()=>{var t;return p?(0,O.BX)(O.HY,{children:["The workspace ",f?f+" ":"","requires authentication using"," ",(0,O.tZ)("b",{children:o.Sn[p]}),"."]}):null!==(t=e.preloadedState.invite)&&void 0!==t&&t.email?`Welcome aboard! Use ${e.preloadedState.invite.email} to sign up and start exploring this workspace.`:k===o.AF.PREFER_BUSINESS_EMAIL?"Deepnote works best in teams. We recommend signingup with your work email.":k===o.AF.SIGN_UP?"Youll start with a 14-day trial of the Team plan, where you can explore all the premium features.":null}),[p,e.preloadedState,k,f]),[D,Z]=(0,a.useState)(R()),M=(0,a.useCallback)((()=>{k===o.AF.SIGN_IN?(0,_.y)("sign-up-page"):k===o.AF.SIGN_UP&&(0,_.O)("sign-in-page")}),[k]),x=(0,a.useCallback)((()=>{N(o.AF.SSO),j("Enter your email")}),[]),L=(0,a.useCallback)((()=>{N(o.AF.EMAIL),j("Enter your email")}),[]),B=(0,a.useCallback)((()=>{N(T(e.preloadedState.path)),j(S()),Z(R()),v(void 0)}),[S,R,e.preloadedState.path]),U=(0,a.useCallback)((()=>{N(o.AF.EMAIL_SENT),j("Check your email"),Z(null)}),[]);(0,a.useEffect)((()=>{u&&!y&&(b(!0),s.Z.error({message:u,duration:10}))}),[u,y]);const G=(0,a.useCallback)((async()=>{if(g&&m)try{const e=await fetch("/api/team/leave-team",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({teamId:m,token:g})});if(!e.ok){const t=(await e.json()).error;throw new Error(t)}window.location.href=n._.signIn()}catch(e){(0,i.D)(e,"error"),s.Z.error({message:"Failed to leave the workspace. Please contact support."})}}),[g,m]);return(0,O.tZ)(c.KN,{children:(0,O.tZ)(A,{email:(()=>{var t;if(null!==(t=e.preloadedState.invite)&&void 0!==t&&t.email)return e.preloadedState.invite.email;if(k===o.AF.PREFER_BUSINESS_EMAIL){var r;return null!==(r=new URLSearchParams(window.location.search.replace("?","")).get("preferBusinessEmail"))&&void 0!==r?r:void 0}return e.preloadedState.email})(),ssoError:I,step:k,headingText:C,enforcedAuthProvider:p,displayLeaveTeamButton:!!g,description:D,redirectUrl:h,source:w,onSignInClick:M,onSSOClick:x,onEmailClick:L,onBackClick:B,onShowEmailSentSuccess:U,onLeaveTeamRequest:G,onOpenSupportChatRequest:l.I})})}const C=S},18625:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(23248),o=r(6351),i=r(91987),a=r(51625);const c=(0,i.memo)((function({text:e,icon:t,iconColor:r,dataCy:i,onClick:c}){return(0,a.BX)(n.z,{"data-cy":i,width:"100%",size:"md",variant:"sign-in",fontSize:"sm",onClick:c,children:[t&&(0,a.tZ)(o.J,{width:4,height:4,marginRight:"5px",as:t,color:null!=r?r:void 0}),e]})}))},22857:(e,t,r)=>{"use strict";r.d(t,{H:()=>W});var n=r(85698);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r){const a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({redirect_to:t},r);return`${e}?${n.stringify(a)}`}var c=r(77424);var l=r(38537),s=r(36953),d=r(91987),u=r(87340),p=r(99162),g=r(3285);const m=["isSecondaryCaptcha"];function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const h=async(e,t,r,n={})=>{let{isSecondaryCaptcha:o}=n;const i=a("/auth/request-magic-link-token",r,f(n,m));try{const r=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,captchaToken:t,isSecondaryCaptcha:o})});if(200===r.status){const{browserIdentifier:e}=await r.json();return{browserIdentifier:e}}if(400===r.status){const{error:e,resortToSecondaryCaptcha:t}=await r.json();if(t)return{options:{resortToSecondaryCaptcha:!0}};if(e)return u.Z.error({message:e}),{options:{error:new Error("Requesting a magic link failed")}}}return{options:{error:new Error("Requesting a magic link failed")}}}catch(e){return u.Z.error({message:"We failed to send you a magic link. Try again, or contact support if the issue persists."}),(0,g.D)(e,"warning"),{options:{error:e}}}};var y=r(49),b=r(44776),I=r(62585),v=r(51192),O=r(44906),E=r(85686),w=r(96645),A=r(37139),P=r(55075),_=r(23248),T=r(97054),S=r(76077),C=r(39486),j=r(60802),k=r(93999),N=r(85110),R=r.n(N),D=r(78136),Z=r(24008),M=r(78770),x=r(18625),L=r(51625);const B=(0,d.memo)((function({defaultEmail:e,onClickBack:t}){return(0,L.tZ)("form",{action:"/auth/sso",method:"get",style:{width:"100%"},children:(0,L.BX)(b.k,{flexDirection:"column",gap:3,alignItems:"center",children:[(0,L.tZ)(E.NI,{children:(0,L.tZ)(A.I,{autoComplete:"email","data-cy":S.ST2,defaultValue:e,name:"email",placeholder:"Your email",size:"sm",type:"email",autoFocus:!0,required:!0})}),(0,L.tZ)(_.z,{width:"full",size:"sm",type:"submit",children:"Continue with SSO"}),(0,L.tZ)(T.r,{fontSize:"xs",fontWeight:600,color:"gray.600",onClick:t,children:"Return to previous screen"})]})})})),U=(0,d.memo)((function({signInStep:e,enforcedAuthProvider:t,isMagicLinkRequestInProgress:r,defaultEmail:n,hCaptchaEnabled:o,onClickSSO:i,onClickEmail:a,onClickBack:l,onMockSignIn:s,onMockNewUserSignIn:u,onGoogleSignIn:g,onGitHubSignIn:m,onMicrosoftSignIn:f,onMagicLinkRequest:h}){const j=e===c.AF.SIGN_IN?"Sign in with SSO":"Sign up with SSO",N=G(e),[U,W]=(0,d.useState)(null!=n?n:""),[X,q]=(0,d.useState)(null!=n?n:""),F=Z.clientConfig.runtimeConfig.HCAPTCHA_SITE_KEY||"missing-HCAPTCHA_SITE_KEY",$=(0,d.useMemo)((()=>R()(q,200)),[q]),V=(0,d.useCallback)((e=>{W(e.target.value),$(e.target.value)}),[$]),Y=(0,d.useCallback)((()=>{r||h(U)}),[U,r,h]);return(0,L.BX)(y.g,{width:"360px",spacing:3,"data-cy":S.zB2,children:[(e===c.AF.SIGN_IN||e===c.AF.SIGN_UP)&&(0,L.BX)(L.HY,{children:[(0,M.t$)(c.uv.GOOGLE,t)&&(0,L.tZ)(x.$,{icon:C._8Z,text:"Continue with Google",onClick:g}),(0,M.t$)(c.uv.GITHUB,t)&&(0,L.tZ)(x.$,{icon:C.ETn,iconColor:"gray.900",text:"Continue with GitHub",onClick:m}),(0,M.t$)(c.uv.MICROSOFT,t)&&(0,L.tZ)(x.$,{icon:C.Dge,text:"Continue with Microsoft",onClick:f}),(0,M.t$)(c.uv.EMAIL,t)&&(0,L.tZ)(x.$,{dataCy:S.QH2,icon:C.RML,iconColor:"gray.500",text:N,onClick:a}),(0,L.tZ)(H,{onExistingUserSignIn:s,onNewUserSignIn:u}),!t&&(0,L.BX)(L.HY,{children:[(0,L.BX)(b.k,{width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,L.tZ)(I.i,{width:"160px",orientation:"horizontal"}),(0,L.tZ)(v.x,{color:"gray.300",fontSize:"xs",marginBottom:0,children:"or"}),(0,L.tZ)(I.i,{width:"160px",orientation:"horizontal"})]}),(0,L.tZ)(x.$,{text:j,onClick:i})]}),t===c.uv.OKTA&&(0,L.tZ)(x.$,{text:j,onClick:i})]}),e===c.AF.SSO&&(0,L.tZ)(B,{defaultEmail:n,onClickBack:l}),e===c.AF.EMAIL&&(0,L.BX)(L.HY,{children:[(0,L.tZ)(O.U,{width:"100%",children:(0,L.tZ)(E.NI,{children:(0,L.tZ)(w.B,{children:(0,L.tZ)(A.I,{autoFocus:!0,type:"email","data-cy":S.wtE,value:U,size:"sm",placeholder:"Your email",onChange:V,onKeyDown:e=>{"Enter"===e.key&&Y()}})})})}),(0,L.tZ)(D.Z,{email:X,fallback:(0,L.BX)(P.xu,{textAlign:"center",backgroundColor:"blue.50",borderColor:"blue.100",borderRadius:"md",borderStyle:"solid",borderWidth:"1px",padding:3,color:"blue.900",children:[(0,L.tZ)(v.x,{as:"span",fontWeight:"semibold",children:"Using your work email"})," ","(if you have one) will make it easier for teammates to join you on Deepnote."]}),children:(0,L.tZ)(L.HY,{})}),(0,L.tZ)(_.z,{"data-cy":S.EJl,width:"full",size:"sm",onClick:Y,isLoading:r,children:"Continue with email"}),!o&&(0,L.BX)(v.x,{fontSize:"10px",color:"gray.500",textAlign:"center",children:["This site is protected by reCAPTCHA and the Google",(0,L.tZ)("a",{href:"https://policies.google.com/privacy",children:" Privacy Policy"})," and",(0,L.tZ)("a",{href:"https://policies.google.com/terms",children:" Terms of Service"})," apply."]}),(0,L.tZ)(T.r,{fontSize:"xs",fontWeight:600,color:"gray.600",onClick:l,children:"Return to previous screen"}),o?(0,L.tZ)(k.Z,{sitekey:F,theme:"light",onVerify:()=>{}}):(0,L.tZ)("div",{id:p.Ql})]}),e===c.AF.EMAIL_SENT&&(0,L.BX)(L.HY,{children:[(0,L.BX)(v.x,{fontSize:"xs",color:"gray.700",textAlign:"center",marginTop:3,children:["Click the link we sent to ",(0,L.tZ)(v.x,{as:"b",children:U})," to finish signing in."]}),(0,L.tZ)(T.r,{fontSize:"xs",fontWeight:600,color:"gray.600",onClick:l,children:"Return to sign in"})]}),e===c.AF.PREFER_BUSINESS_EMAIL&&(0,L.BX)(L.HY,{children:[(0,L.tZ)(x.$,{dataCy:S.NTl,icon:C.RML,iconColor:"gray.500",text:"Use work email address",onClick:l}),(0,L.tZ)(x.$,{icon:C._8Z,text:`Continue with ${(null==U?void 0:U.length)<26?U:"Gmail"}`,onClick:g})]})]})})),G=e=>e===c.AF.SIGN_IN?"Sign in with email":"Sign up with email";function H({onExistingUserSignIn:e,onNewUserSignIn:t}){const{NODE_ENV:r}=Z.clientConfig.buildTimeConfig,n=r&&["development","test"].includes(r);return!(0,j.sk)()&&n?(0,L.BX)(L.HY,{children:[(0,L.tZ)(x.$,{text:"Sign in (development) ",onClick:e}),(0,L.tZ)(x.$,{dataCy:S.CIL,text:"Sign in (new user) ",onClick:t})]}):null}const W=(0,d.memo)((function({signInStep:e,enforcedAuthProvider:t,redirectUrl:r,inviteToken:n,openAuthInNewTab:o,source:i,defaultEmail:c,onClickSSO:g,onClickEmail:m,onClickBack:f,onShowEmailSentSuccess:y}){const{executeCaptcha:b,handleRenderSecondCaptcha:I,hCaptchaEnabled:v}=(0,p.my)(),[O,E]=(0,d.useState)(!1),w=(0,d.useCallback)((e=>{window.open(a(e,r,{source:i,token:n}),o?"_blank":"_self")}),[r,i,n,o]),A=(0,d.useCallback)((()=>{w("/auth/test-mock-auth/callback")}),[w]),P=(0,d.useCallback)((()=>{w("/auth/test-mock-new-user-auth/callback")}),[w]),_=(0,d.useCallback)((e=>{const t=new Date(Date.now()+6e5);document.cookie=`${l.tq}=${e}; expires=${t.toUTCString()}; path=/`,y()}),[y]),T=(0,d.useCallback)((async e=>{const t=async({token:o,isSecondaryCaptcha:a})=>{const{browserIdentifier:c,options:l}=await h(e,o,r,{source:i,token:n,isSecondaryCaptcha:a});c&&_(c),null!=l&&l.resortToSecondaryCaptcha&&!a&&I((e=>t({token:e,isSecondaryCaptcha:!0}))),E(!1)};if(E(!0),(0,s.Ju)(e)){const{grecaptcha:o}=window;if(l.$s.includes(e)){E(!1);const{browserIdentifier:t}=await h(e,"",r,{source:i,token:n});return void(t&&_(t))}if(!o)return E(!1),void u.Z.error({message:"We're having trouble signing you in, please try again or contact our support."});const a=await b(p.BT.MAGIC_LINK);return t({token:a})}E(!1),u.Z.error({message:"Please enter a valid email."})}),[n,r,i,I,b,_]),S=(0,d.useCallback)((()=>{w("/auth/google")}),[w]),C=(0,d.useCallback)((()=>{w("/auth/github")}),[w]),j=(0,d.useCallback)((()=>{w("/auth/microsoft")}),[w]);return(0,L.tZ)(U,{signInStep:e,hCaptchaEnabled:v,enforcedAuthProvider:t,isMagicLinkRequestInProgress:O,defaultEmail:c,onClickBack:f,onClickSSO:g,onClickEmail:m,onMockSignIn:A,onMockNewUserSignIn:P,onGoogleSignIn:S,onGitHubSignIn:C,onMicrosoftSignIn:j,onMagicLinkRequest:T})}))},78770:(e,t,r)=>{"use strict";r.d(t,{B8:()=>i,GJ:()=>c,I7:()=>l,Ku:()=>s,MK:()=>a,Vs:()=>u,t$:()=>d});var n=r(13636),o=r(60802);const i=()=>(0,o.sk)()?n._.workspaceRoot():window.location.pathname,a=e=>e.workspaceId&&!e.project?"workspace-access-denied":e.invite?"workspace-invite":e.project?"project-access-denied":e.path===n._.signIn()||e.path===n._.signUp()?"default":null,c=e=>"default"===e?"landing-page":"workspace-invite"===e||"project-access-denied"===e?e:null,l=e=>{const t="public-profile"===window.__bodyComponentName?"public-profile":"PublishedNotebookContainer"===window.__bodyComponentName?"published-app":"workspace"===window.__bodyComponentName?"workspace":null;return"workspace"===t?e?"launch-project":"public-project":t},s=(e,t)=>{const r=a(e);return"workspace-access-denied"===r?e.workspaceName?`Welcome to ${e.workspaceName} on Deepnote.`:"Login or sign up to see this workspace.":"project-access-denied"===r?e.workspaceName?`Welcome to ${e.workspaceName} on Deepnote.`:"Login or sign up to see this project.":"workspace-invite"===r&&e.invite?`Sign up to join ${null===(n=e.invite)||void 0===n?void 0:n.teamName}`:"default"===r&&t?"Sign in":u()?"We recommend using yourwork email":"Deepnote is free. Getstarted today.";var n},d=(e,t)=>!t||t===e,u=()=>{var e,t;return!(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||!t.search.includes("?preferBusinessEmail"))}},53021:(e,t,r)=>{"use strict";r.d(t,{O:()=>L});var n=r(44776),o=r(76077),i=r(91987),a=r(55075),c=r(77424),l=r(13828),s=r(58491),d=r(5073),u=r(85014),p=r(78995),g=r(4658),m=r(37664),f=r(17571),h=r(72792),y=r(23248),b=r(72558),I=r(61193),v=r(51192),O=r(97054),E=r(54783),w=r(51625);const A=["route","isLast","name","children"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const C=(0,i.memo)((function(e){let{route:t,isLast:r,name:n,children:o}=e,i=S(e,A);const a=Boolean(t),c=null!=o?o:n;return(0,w.tZ)(v.x,_(_({color:r?"gray.900":"gray.600",fontWeight:r?"500":"400",fontSize:"xs",_hover:a?{cursor:"pointer",color:"gray.900"}:{cursor:"default"},whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:2,paddingX:2,overflow:"hidden",title:n},i),{},{children:t?(0,w.tZ)(O.r,{as:E.rU,to:t,display:"flex",gap:3,color:"inherit",fontWeight:"inherit",_hover:{color:"inherit"},alignSelf:"stretch",alignItems:"center",flexGrow:1,children:c}):c}))})),j=(0,i.memo)((function(){return(0,w.tZ)(v.x,{as:"span",width:1,minWidth:1,color:"gray.400",fontSize:"xs",children:"/"})}));function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D=e=>(0,w.BX)(C,N(N({},e),{},{display:"flex",gap:3,minH:8,alignItems:"center",px:5,_hover:{cursor:"pointer",backgroundColor:"gray.100",color:"gray.900"},isLast:!1,children:[(0,w.tZ)(j,{}),e.name]})),Z=(0,i.memo)((function({childBreadcrumbs:e,isLast:t,name:r}){return e.length?(0,w.BX)(f.J,{children:[(0,w.tZ)(h.x,{children:(0,w.tZ)(y.z,{variant:"ghost",paddingX:0,paddingY:0,colorScheme:"gray",children:(0,w.tZ)(C,{name:r,isLast:t})})}),(0,w.tZ)(b.h,{children:(0,w.tZ)(I.y,{width:"256px",paddingY:2,children:null==e?void 0:e.map(((e,t)=>(0,w.tZ)(D,N({},e),`breadcrumb-group-child-${t}`)))})})]}):(0,w.tZ)(C,{name:r,isLast:t})}));var M=r(86140);const x=(0,i.memo)((function({breadcrumb:e,isLast:t,isNewProject:r,projectId:n}){const o=(0,s.I0)(),f=(0,u.mr)(d.h.selectIsAppView),{isPopoverOpen:h,closePopover:y}=(0,m.v)({opened:e.type===M.k.PROJECT&&Boolean(r)}),b=(0,i.useCallback)((()=>{e.type===M.k.PROJECT?(o({type:"SET_NEWLY_CREATED_PROJECT_ID",projectId:null}),y()):y()}),[e.type,y,o]);if(e.type===M.k.PROJECT){const r=!f&&h&&n;return(0,w.BX)(p.G,{userAction:c.EJ.RENAME_PROJECT,fallback:(0,w.tZ)(C,{isLast:t,name:e.name}),children:[(0,w.tZ)(C,{isLast:t,name:e.name}),r&&(0,w.tZ)(g.B,{placement:"bottom",projectId:n,projectName:e.name,onClosePopoverRequest:b})]})}return e.type===M.k.GROUP&&e.childBreadcrumbs?(0,w.tZ)(Z,{name:e.name,isLast:t,childBreadcrumbs:e.childBreadcrumbs}):e.type===M.k.PLACEHOLDER?(0,w.tZ)(a.xu,{paddingX:2,children:(0,w.tZ)(l.ZP,{width:80})}):(0,w.tZ)(C,{isLast:t,name:e.name,route:e.route})}));const L=(0,i.memo)((function(e){const t=e.breadcrumbs.length>4?function(e){const t=e.length,r=Math.max(t-2,1);return[e[0],{type:M.k.GROUP,name:"...",childBreadcrumbs:e.slice(1,r)},...e.slice(r)]}(e.breadcrumbs):e.breadcrumbs;return(0,w.tZ)(n.k,{alignItems:"center",minWidth:0,gap:1,"data-cy":o.Kb3,children:t.map(((r,n)=>{const o=n===t.length-1;return(0,w.BX)(i.Fragment,{children:[(0,w.tZ)(x,{isLast:o,projectId:e.projectId,breadcrumb:r,isNewProject:e.isNewProject}),!o&&(0,w.tZ)(j,{})]},n)}))})}))},11477:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(44906),o=r(91987),i=r(13828),a=r(51625);const c=(0,o.memo)((function(){return(0,a.BX)(n.U,{spacing:2,children:[(0,a.tZ)(i.ZP,{width:30}),(0,a.tZ)(i.ZP,{width:60}),(0,a.tZ)(i.ZP,{width:100})]})}))},20826:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(44776),o=r(51625);function i(e){var t;const r=null!==(t=e.px)&&void 0!==t?t:2;return(0,o.tZ)(n.k,{height:12,borderColor:"divider.primary",borderBottomWidth:"1px",alignItems:"center","data-debug-id":"topbar-wrapper-flex-outermost",flex:"none",paddingX:r,children:e.children})}},67259:(e,t,r)=>{"use strict";r.d(t,{F:()=>u});var n=r(91987),o=r(53021),i=r(11477),a=r(64119),c=r(64705),l=r(86140);const s=a.Ps`
  query GetWorkspaceName($workspaceId: String!) {
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        name
        slug
      }
      ... on TeamUnauthorized {
        id
        name
        slug
      }
    }
  }
`;var d=r(51625);const u=(0,n.memo)((function(e){const{data:t,loading:r}=function({workspaceId:e,title:t}){const{loading:r}=(0,c.a)(s,{fetchPolicy:"cache-first",variables:{workspaceId:e}});return{loading:r,data:{breadcrumbs:[{name:t,type:l.k.SECTION}]}}}({workspaceId:e.workspaceId,title:e.title});return r?(0,d.tZ)(i.I,{}):(0,d.tZ)(o.O,{breadcrumbs:t.breadcrumbs})}))},86140:(e,t,r)=>{"use strict";r.d(t,{a:()=>p,k:()=>u});var n=r(64119),o=r(64705),i=r(13636),a=r(80189),c=r(85014),l=r(669),s=r(46556);const d=n.Ps`
  query GetTopbarData($projectId: String!) {
    projectById(id: $projectId) {
      ... on Project {
        id
        isFavorite
        name
        team {
          ... on Team {
            id
            name
            slug
          }
          ... on TeamUnauthorized {
            id
            name
            slug
          }
        }
        breadcrumbs {
          id
          name
          slug
        }
        category {
          id
        }
      }
    }
  }
`;let u=function(e){return e.NOTEBOOK="notebook",e.FILE="file",e.CATEGORY="category",e.PROJECT="project",e.TERMINAL="terminal",e.SECTION="section",e.GROUP="group",e.PLACEHOLDER="placeholder",e}({});function p(e){var t,r,n;const p=(0,c.mr)((e=>e.project.collaborationProperties.currentUserAccessType)),g=(0,c.mr)((e=>!!e.user.is_anonymous)),{data:{userDetails:m}}=(0,l.P)(),[f]=(0,s.s)(null==m?void 0:m.id),{data:{workspaces:h}}=(0,a.y)(),y=null==h?void 0:h.find((e=>e.id===f)),{data:b,loading:I}=(0,o.a)(d,{variables:{projectId:e},fetchPolicy:"cache-first"}),v=null==b?void 0:b.projectById;if("Project"!==(null==v?void 0:v.__typename))return{data:{isAnonymous:g,currentUserAccessType:p,breadcrumbs:[],workspaceSlug:null,categoryId:null,projectName:null,lastActiveWorkspace:null!=y?y:null,isWorkspaceMember:!1},loading:I};const O=v.team,E="Team"===(null==O?void 0:O.__typename);return{data:{isAnonymous:g,breadcrumbs:[...(null!==(t=v.breadcrumbs)&&void 0!==t?t:[]).map((e=>{var t,r;return{type:u.CATEGORY,name:e.name,route:i._.workspaceCategory(null==v||null===(t=v.team)||void 0===t?void 0:t.id,null===(r=v.team)||void 0===r?void 0:r.slug,e.slug)}})),{type:u.PROJECT,name:v.name}],currentUserAccessType:p,isWorkspaceMember:E,categoryId:null!==(r=null===(n=v.category)||void 0===n?void 0:n.id)&&void 0!==r?r:null,projectName:v.name,lastActiveWorkspace:null!=y?y:null,projectWorkspace:O?{id:O.id,name:O.name,slug:O.slug}:null},loading:I}}},79922:(e,t,r)=>{"use strict";r.d(t,{I:()=>me});var n=r(44776),o=r(29015),i=r(29389),a=r(39486),c=r(13636),l=r(60802),s=r(19654),d=r(3285),u=r(51497),p=r(91987),g=r(13828),m=r(45554),f=r(45060),h=r(87340),y=r(95444),b=r(64119),I=r(64705),v=r(44539);const O=b.Ps`
  query getTeamInvites {
    teamInvites {
      id
      team_id
      name
      user_role
      team_slug
      avatar
    }
  }
`,E=b.Ps`
  mutation acceptInvite($id: ID!) {
    acceptInvite(id: $id) {
      id
      redirectTo
    }
  }
`,w=b.Ps`
  mutation rejectInvite($id: ID!) {
    rejectInvite(id: $id) {
      id
    }
  }
`,A=()=>{var e;const{data:t,loading:r,error:n,refetch:o}=(0,I.a)(O),[i]=(0,v.D)(E),[a]=(0,v.D)(w),c=(0,p.useCallback)((async e=>{var t;const r=await i({variables:{id:e.id}});return o(),null===(t=r.data)||void 0===t?void 0:t.acceptInvite}),[i,o]),l=(0,p.useCallback)((async e=>{await a({variables:{id:e.id}}),o()}),[a,o]);return{data:{teamInvites:null!==(e=null==t?void 0:t.teamInvites)&&void 0!==e?e:null},loading:r,error:n,mutations:{acceptInvite:c,rejectInvite:l}}};var P=r(669),_=r(84899),T=r(67439),S=r(83283),C=r(24008),j=r(26290);const k=(0,p.memo)((function({workspace:e,workspacesCount:t}){const{data:{userData:r},loading:n}=(0,j.I_)();return(0,p.useEffect)((()=>{var o,i;"production"===C.clientConfig.runtimeConfig.ENV&&e&&e.created_at&&(0,T.B)().diff((0,T.B)(e.created_at),"hour")<1&&1===t&&!n&&"work"===(null==r||null===(o=r.onboardingInfo)||void 0===o?void 0:o.usage)&&!e.isUnderHipaa?window.requestIdleCallback(S.iq):null!==(i=window)&&void 0!==i&&i.FS&&window.FS.shutdown()}),[e,t,r,n]),null}));var N=r(46556),R=r(97054),D=r(97217),Z=r(54748),M=r(87036),x=r(83529),L=r(51192),B=r(93851),U=r(62585),G=r(76077),H=r(54783),W=r(43641),X=r(53162),q=r(5336),F=r(29656),$=r(51625);const V=(0,p.memo)((function({pendingInvitesCount:e,onClick:t}){return(0,$.BX)($.HY,{children:[(0,$.tZ)(x.R,{}),(0,$.tZ)(M.s,{iconSpacing:2,icon:(0,$.tZ)(F.Z,{as:a.H2M}),onClick:t,children:(0,$.BX)(n.k,{flexDirection:"column",children:[(0,$.tZ)(L.x,{children:"Workspace suggestions"}),(0,$.BX)(L.x,{color:"blue.500",fontSize:"11px",children:[e," pending"]})]})})]})})),Y=(0,p.memo)((function(){const e=(0,m.k6)(),{data:{domainInvites:t},loading:r}=(0,q.i)(),n=(0,p.useCallback)((()=>{e.push(c._.joinWorkspace())}),[e]);return r||0===t.length?null:(0,$.tZ)(V,{pendingInvitesCount:t.length,onClick:n})}));var K=r(59240),z=r(2735);const J=(0,p.memo)((function({workspaceInvite:e,onAcceptInviteRequest:t,onRejectInviteRequest:r}){const c=(0,p.useCallback)((()=>{r(e)}),[r,e]),l=(0,p.useCallback)((()=>{t(e)}),[t,e]);return(0,$.tZ)(z.W,{title:e.name,subtitle:"Workspace invite",leftAccessory:(0,$.tZ)(K.q,{name:e.name,avatar:e.avatar,avatarStyles:{variant:"workspace"},displayBadge:!0}),rightAccessory:(0,$.BX)(n.k,{alignItems:"center",children:[(0,$.tZ)(B.u,{label:"Reject workspace invite",placement:"bottom",hasArrow:!0,children:(0,$.tZ)(o.h,{variant:"ghostIcon",icon:(0,$.tZ)(i.J,{as:a.yLF,size:"md"}),"aria-label":"Reject workspace invite",onClick:c})}),(0,$.tZ)(B.u,{label:"Accept workspace invite",placement:"bottom",hasArrow:!0,children:(0,$.tZ)(o.h,{variant:"ghostIcon",icon:(0,$.tZ)(i.J,{as:a.JJR,size:"md",color:"interactive.confirmation"}),"aria-label":"Accept workspace invite",onClick:l})})]}),_hover:{backgroundColor:"unset"},cursor:"auto"})})),Q=(0,p.memo)((function({workspaceInvites:e,onAcceptInviteRequest:t,onRejectInviteRequest:r}){return e&&t&&r?(0,$.tZ)($.HY,{children:e.map((e=>(0,$.tZ)(J,{workspaceInvite:e,onAcceptInviteRequest:t,onRejectInviteRequest:r},e.id)))}):null}));var ee=r(8326);const te=(0,p.memo)((function({activeWorkspace:e,suspended:t,userDetails:r}){const n=(0,m.k6)(),[o,i]=(0,p.useState)(!1),l="AnonymousProfile"===(null==r?void 0:r.__typename)?null:r,s=(0,p.useCallback)((()=>{window.location.href="/auth/logout"}),[]),d=(0,p.useCallback)((()=>{e&&window.open(c._.profile(e.slug),"_blank")}),[e]),u=(0,p.useCallback)((()=>{n.push((0,y.X)(c._.accountSettings))}),[n]);return(0,$.BX)($.HY,{children:[!t&&e&&(0,$.BX)($.HY,{children:[(0,$.tZ)(M.s,{onClick:()=>i(!0),icon:(0,$.tZ)(F.Z,{as:a.$MM}),iconSpacing:2,children:"Book a demo"}),(0,$.tZ)(M.s,{as:R.r,variant:"menu-item",isExternal:!0,href:"https://deepnote.com/@deepnote/Deepnote-Referral-Program-2f148f30-8129-44a5-9b0a-8ff361cc6b03",icon:(0,$.tZ)(F.Z,{as:a.sF1}),iconSpacing:2,children:"Referral program"}),(0,$.BX)(M.s,{onClick:d,icon:(0,$.tZ)(F.Z,{as:a.$i3}),iconSpacing:2,children:[e.name," public profile"]}),(0,$.tZ)(ee.Ov,{open:o,email:null==l?void 0:l.email,name:null==l?void 0:l.name,workspaceId:e.id,source:"workspace-switcher",onClose:()=>i(!1)})]}),!t&&e&&(0,$.tZ)(M.s,{icon:(0,$.tZ)(F.Z,{as:a.r6Y}),iconSpacing:2,onClick:u,children:"Profile settings"}),(0,$.tZ)(M.s,{color:"red.600",icon:(0,$.tZ)(F.Z,{as:a.zrU,color:"red.600"}),iconSpacing:2,onClick:s,children:"Sign out"})]})}));var re=r(10753),ne=r(23248);const oe=(0,p.memo)((function({avatar:e,name:t,hasPendingInvites:r,onTriggerOverride:o,isShownAsDrawer:c}){const l=t.length>17,s=(0,$.tZ)(re.j,{as:ne.z,variant:"ghost",colorScheme:"gray","data-cy":c?void 0:G.lEU,minWidth:0,paddingX:1,onClick:o?e=>{o(),e.preventDefault()}:void 0,children:(0,$.BX)(n.k,{alignItems:"center",children:[(0,$.BX)(n.k,{gap:2,alignItems:"center",minWidth:0,children:[(0,$.tZ)(K.q,{avatar:null!=e?e:null,name:t,displayBadge:r,avatarStyles:{variant:"workspace"}}),(0,$.tZ)(L.x,{minWidth:0,as:"span",overflowX:"hidden",textOverflow:"ellipsis",children:t})]}),(0,$.tZ)(i.J,{as:a.Aad,color:"foreground.tertiary",size:"md"})]})});return l?(0,$.tZ)(B.u,{label:t,hasArrow:!0,modifiers:[{name:"preventOverflow",options:{padding:8}}],children:s}):(0,$.tZ)($.HY,{children:s})}));function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ce=(0,p.memo)((function({activeWorkspace:e,activeWorkspaceId:t,activeWorkspaceAvatar:r,activeWorkspaceName:l,userDetails:s,workspaces:d,workspaceInvites:u,onAcceptInviteRequest:p,onRejectInviteRequest:g,onCreateWorkspaceRequest:m,onTriggerOverride:f,onOpenUpgradeBillingRequest:h,onBackToWorkspace:y,isShownAsDrawer:b}){var I,v,O;const E=Boolean(null==s?void 0:s.suspended),w=Boolean(null==d?void 0:d.length)||Boolean(null==u?void 0:u.length);return(0,$.BX)(D.v,{closeOnSelect:!0,modifiers:[{name:"flip",options:{fallbackPlacements:[]}},{name:"preventOverflow",options:{padding:8}}],children:[(0,$.tZ)(oe,{avatar:r,email:null!==(I=null==s?void 0:s.email)&&void 0!==I?I:"",name:l,hasPendingInvites:Boolean(null==u?void 0:u.length),onTriggerOverride:f,isShownAsDrawer:b}),(0,$.BX)(Z.q,{as:n.k,flexDirection:"column",width:"256px",zIndex:10,maxHeight:"80vh",overflow:"hidden","data-cy":G.vIE,children:[y&&(0,$.BX)($.HY,{children:[(0,$.tZ)(M.s,{icon:(0,$.tZ)(i.J,{as:a.Rpv,size:"md",color:"foreground.tertiary"}),iconSpacing:2,onClick:y,"data-cy":G.L2F,children:"Back to workspace"}),(0,$.tZ)(x.R,{})]}),(0,$.BX)(n.k,{justifyContent:"space-between",alignItems:"center",paddingLeft:4,paddingRight:2,paddingBottom:1,gap:2,children:[(0,$.tZ)(L.x,{fontWeight:"600",color:"foreground.secondary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"xxs",title:null!==(v=null==s?void 0:s.email)&&void 0!==v?v:"",textTransform:"uppercase",children:null!==(O=null==s?void 0:s.email)&&void 0!==O?O:""}),!E&&w&&(0,$.tZ)(B.u,{label:"Create new workspace",children:(0,$.tZ)(o.h,{variant:"ghostIcon",icon:(0,$.tZ)(i.J,{as:a.H$4,size:"md"}),"aria-label":"Create new workspace",colorScheme:"gray",id:"create-workspace-button","data-cy":G.ad3,onClick:m})})]}),!E&&!w&&(0,$.tZ)(W.Z,{my:"6",mx:"4",fontSize:"xs",text:(0,$.BX)($.HY,{children:[(0,$.tZ)((e=>(0,$.tZ)(R.r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({as:H.rU},e))),{as:H.rU,to:c._.createFirstWorkspace(),children:"Create a new workspace"})," ","to start your own projects in Deepnote."]})}),!E&&w&&(0,$.BX)($.HY,{children:[(0,$.tZ)(Q,{workspaceInvites:u,onAcceptInviteRequest:p,onRejectInviteRequest:g}),u&&u.length>0&&(0,$.tZ)(U.i,{}),(0,$.tZ)(X.u,{workspaces:d,activeWorkspaceId:t,wrapperStyles:{maxHeight:"40vh",overflowY:"auto"}})]}),(0,$.tZ)(Y,{}),(0,$.tZ)(x.R,{}),(0,$.tZ)(te,{userDetails:s,suspended:E,activeWorkspace:e})]})]})}));var le=r(80189),se=r(81791);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ge=b.ZP`
  query GetWorkspacePublicData($teamId: String!) {
    team(id: $teamId) {
      ... on Team {
        name
        avatar
      }
      ... on TeamUnauthorized {
        name
        avatar
      }
    }
  }
`;const me=(0,p.memo)((function({activeWorkspaceId:e,onDrawerClose:t,shouldShowBackToWorkspaceItem:r}){var b,v,O,E;const w=(0,m.k6)(),T=(0,p.useRef)(!1),{modalApi:S}=(0,_.WG)(),{data:{userDetails:C}}=(0,P.P)(),[j,R]=(0,N.s)(null==C?void 0:C.id),D=!C,Z=Boolean(t),{data:{workspaces:M,activeWorkspacePublicData:x},loading:L,refetch:B}=function(e){const{data:{workspaces:t},loading:r,refetch:n}=(0,le.y)(),{data:{workspaces:o},loading:i,refetch:a}=(0,se.E)(),{data:c}=(0,I.a)(ge,{fetchPolicy:"cache-and-network",variables:{teamId:e}});return{data:{workspaces:(0,p.useMemo)((()=>[...(null!=t?t:[]).map((e=>ue(ue({},e),{},{guest:!1}))),...(null!=o?o:[]).map((e=>ue(ue({},e),{},{guest:!0})))]),[o,t]),activeWorkspacePublicData:c},loading:r||i,refetch:(0,p.useCallback)((()=>{n(),a()}),[a,n])}}(e),U=null!==(b=null==x||null===(v=x.team)||void 0===v?void 0:v.avatar)&&void 0!==b?b:null,G=null!==(O=null==x||null===(E=x.team)||void 0===E?void 0:E.name)&&void 0!==O?O:"";(0,p.useEffect)((()=>{T.current?B():T.current=!0}),[e,B]);const H=(0,p.useMemo)((()=>{var t;return null!==(t=null==M?void 0:M.find((t=>t.id===e)))&&void 0!==t?t:null}),[e,M]);(0,p.useEffect)((()=>{(0,l.yv)()&&H&&!H.isUnderHipaa&&u.jA.configure({environmentId:window.__SPRIG_ENVIRONMENT_ID})}),[H]),(0,p.useEffect)((()=>{null!=C&&C.id&&e&&H&&R(e)}),[H,e,R,null==C?void 0:C.id]);const W=(0,p.useCallback)((()=>{const e=!!H,t=j&&(null==M?void 0:M.find((e=>e.id===j))),r=e?(0,y.X)(c._.createNewWorkspace):t?c._.createNewWorkspace(t.id,t.slug):c._.createNewWorkspace(M[0].id,M[0].slug);(0,s.j)("Workspace creation initiated",{origin:"workspace switcher",workspaceId:null},{allowNullWorkspaceId:!0}),w.push(r)}),[H,w,j,M]),{data:X,mutations:q}=A(),F=(0,p.useCallback)((async e=>{try{const t=await q.acceptInvite(e);if(!t)throw new Error("No redirect URL after accepting invite");window.location.href=t.redirectTo}catch(e){(0,d.D)(e),h.Z.error({message:"An error occurred while accepting the invite. Please try again later or contact our support."})}}),[q]),V=(0,p.useCallback)((()=>{w.push((0,y.t)(c._.workspaceSettingsUpgrade,{source:"switcher-cta"}))}),[w]),Y=(0,p.useCallback)((()=>{(0,s.j)("Sign in modal opened",{origin:"topbar",workspaceId:null},{allowNullWorkspaceId:!0}),S.openModal({newModal:f.Qi.SIGN_IN_MODAL,title:"Sign in to access your workspace or sign up to try Deepnote"})}),[S]),K=!!e&&!(null==H||!H.slug),z=(0,p.useCallback)((()=>{var t;w.push(c._.workspace(e,null!==(t=null==H?void 0:H.slug)&&void 0!==t?t:""))}),[null==H?void 0:H.slug,e,w]);return L&&0===M.length?(0,$.tZ)(g.ZP,{height:"32px",style:{display:"block"}}):(0,$.BX)(n.k,{"data-debug-id":"workspace-switcher-container-flex-outermost",minWidth:0,backgroundColor:"white",alignItems:"center",children:[H&&(0,$.tZ)(k,{workspacesCount:M.filter((e=>!e.guest)).length,workspace:H}),Z&&(0,$.tZ)(o.h,{variant:"ghostIcon",icon:(0,$.tZ)(i.J,{as:a.Two,size:"md"}),"aria-label":"Close",colorScheme:"gray",onClick:t}),(0,$.tZ)(ce,{activeWorkspace:H,activeWorkspaceId:e,activeWorkspaceAvatar:U,activeWorkspaceName:G,userDetails:C,workspaces:M,workspaceInvites:X.teamInvites,onAcceptInviteRequest:F,onCreateWorkspaceRequest:W,onTriggerOverride:D?Y:void 0,onRejectInviteRequest:q.rejectInvite,onOpenUpgradeBillingRequest:V,onBackToWorkspace:r&&K?z:void 0,isShownAsDrawer:Z})]})}))},24318:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var n=r(91987);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){const[e,t]=(0,n.useState)({open:!1,closing:!1,offset:null}),r=(0,n.useRef)(null),o=(0,n.useRef)(null);return[e,{openDropdown:(0,n.useCallback)(((e=null)=>{var n;r.current&&clearTimeout(r.current);const i=null===(n=o.current)||void 0===n?void 0:n.getBoundingClientRect(),a=e&&i?[e.x-i.left,e.y-i.top-10]:null;t({open:!0,closing:!1,offset:a})}),[]),closeDropdown:(0,n.useCallback)((()=>{t((e=>i(i({},e),{},{open:!0,closing:!0}))),r.current=setTimeout((()=>{t((e=>i(i({},e),{},{open:!1,closing:!1})))}),500)}),[]),anchorRef:o}]}},95758:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var n=r(1067),o=r(85014);function i(e){const t=(0,o.mr)((e=>e.project.collaborationProperties.currentUserAccessType));return(0,n.C5)(t,e)}},99201:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(669);function o(){const{data:e,loading:t}=(0,n.P)();return{data:{anonymous:!t&&null===e.userDetails},loading:t}}},69219:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(91987),o=r(27704),i=r(33581);function a(e){const t=(0,n.useRef)(null),[r,a]=(0,n.useState)(!1),[c,l]=(0,n.useState)(0),[s,d]=(0,i.Z)(e.localStorageKey,o.v2,!0),[u,p]=(0,n.useState)(s),[g,m]=(0,n.useState)(!1),f=(0,n.useCallback)((()=>{var t;r&&(g||null===(t=e.clickCallback)||void 0===t||t.call(e),a(!1),l(0),m(!1),document.body.style.MozUserSelect=void 0)}),[g,r,e]),h=(0,n.useCallback)((n=>{if(r&&t){const t=n.clientX-c;n.preventDefault(),d(e.setWidthCallback(u,t)),m(!0)}}),[c,r,d,e,u]);return(0,n.useEffect)((()=>(window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f)})),[h,f]),(0,n.useEffect)((()=>{r?document.body.style.cursor="col-resize":document.body.style.removeProperty("cursor")}),[r]),(0,n.useEffect)((()=>{if(!r)return;const e=setTimeout((()=>{m(!0)}),300);return()=>{clearTimeout(e)}}),[r]),{sidebarRef:t,sidebarWidth:s,startResizing:e=>{var r,n;a(!0),l(e.clientX),p(null!==(r=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect().width)&&void 0!==r?r:0),document.body.style.MozUserSelect="none"},isResizing:r}}},50137:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(97054),o=r(51192),i=r(13636),a=r(91987),c=r(54783),l=r(81830),s=r(99201),d=r(51625);const u=(0,a.memo)((function(){const{data:{anonymous:e}}=(0,s.X)();return(0,d.tZ)(l.s,{title:"This page does not exist",description:(0,d.BX)(d.HY,{children:["It seems that this page does not exists, or have been removed. If you believe this to be a mistake,"," ",(0,d.tZ)(n.r,{isExternal:!0,href:"mailto:help@deepnote.com",children:"contact us"}),"."]}),children:e?(0,d.tZ)(o.x,{as:n.r,onClick:()=>window.location.href="/",children:"Return to Deepnote "}):(0,d.tZ)(n.r,{as:c.rU,to:i._.workspaceRoot(),children:"Return to your workspace "})})}))},19234:(e,t,r)=>{"use strict";r.d(t,{B:()=>u});var n=r(51192),o=r(97054),i=r(13636),a=r(91987),c=r(54783),l=r(81830),s=r(95444),d=r(51625);const u=(0,a.memo)((function({anonymous:e,type:t,workspaceId:r,onOpenSupportChatRequest:a}){return(0,d.tZ)(l.s,{title:"user"===t?"User suspended":"Project suspended",description:(0,d.BX)(d.HY,{children:[(0,d.BX)(n.x,{fontSize:"sm",children:["user"===t?"One of your projects":"This project"," has been flagged by our automated system for abuse detection. The system identifies projects engaging in cryptocurrency mining, botnets, or projects working with illegal content."," "]}),(0,d.BX)(n.x,{fontSize:"sm",children:["If you think this has been done by mistake, don't despair! No data has been deleted. Just"," ",(0,d.tZ)(o.r,{onClick:a,children:"reach out to us"})," and explain your use case and we'll restore your ","project"===t?t:"account","."]})]}),children:!e&&r&&"project"===t&&(0,d.tZ)(o.r,{as:c.rU,to:(0,s.X)(i._.workspace),textDecor:"underline",children:"Return to your workspace "})})}))},55111:(e,t,r)=>{"use strict";r.d(t,{e:()=>l,u:()=>s});var n=r(60802),o=r(91987),i=r(89304),a=r(51625);const c={data:{workspaceId:null,workspaceSlug:null},setData:null},l=(0,o.createContext)(c);function s({children:e}){const t=(0,n.sk)()?c.data:(0,i.oO)(window.location.pathname),[r,s]=(0,o.useState)(t);return(0,a.tZ)(l.Provider,{value:{data:r,setData:s},children:e({workspaceId:r.workspaceId})})}},5336:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(64119),o=r(64705),i=r(44539),a=r(91987);const c=n.Ps`
  query GetDomainInvites2 {
    teams {
      id
    }
    domainInvites {
      id
      name
      slug
      avatar
      memberCount
    }
  }
`,l=n.Ps`
  mutation AcceptDomainInvites2($teamIds: [String!]!) {
    acceptDomainInvites(team_ids: $teamIds) {
      redirectTo
    }
  }
`;function s(){var e;const{data:t,loading:r,error:n}=(0,o.a)(c),[s]=(0,i.D)(l),d=(0,a.useCallback)((async e=>{var t;return null===(t=(await s({variables:{teamIds:e}})).data)||void 0===t?void 0:t.acceptDomainInvites}),[s]);return{data:{domainInvites:null!==(e=null==t?void 0:t.domainInvites)&&void 0!==e?e:[]},mutations:{acceptDomainInvites:d},loading:r,error:n}}},81791:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query GetGuestWorkspaceList {
    guestTeams {
      id
      name
      slug
      avatar
      created_at
      isUnderHipaa
      activePlan {
        displayName
        planName
      }
    }
  }
`;function a(e={}){var t;const{data:r,loading:n,error:a,refetch:c}=(0,o.a)(i,{fetchPolicy:"cache-and-network",skip:e.skip});return{data:{workspaces:null!==(t=null==r?void 0:r.guestTeams)&&void 0!==t?t:null},loading:n,error:a,refetch:c}}},40183:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(64119),o=r(44539);const i=n.Ps`
  mutation ToggleProjectTemplate($projectId: String!, $isTemplate: Boolean!) {
    toggleProjectTemplate(projectId: $projectId, isTemplate: $isTemplate) {
      __typename
      id
      isTemplate
    }
  }
`,a=e=>{const[t]=(0,o.D)(i);return{mutations:{toggleProjectTemplate:r=>{t({variables:{projectId:e,isTemplate:r}})}}}}},94229:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(64119),o=r(44539),i=r(3285);const a=n.Ps`
  mutation AddProjectToFavorites($projectId: String!) {
    addProjectToFavorites(id: $projectId) {
      __typename
      id
      isFavorite
    }
  }
`,c=n.Ps`
  mutation DeleteProjectFromFavorites($projectId: String!) {
    deleteProjectFromFavorites(id: $projectId) {
      __typename
      id
      isFavorite
    }
  }
`,l=(e,t)=>{const[r]=(0,o.D)(a,{variables:{projectId:e},update:(e,r)=>{var n;null!==(n=r.data)&&void 0!==n&&n.addProjectToFavorites.id&&function(e,t,r){e.modify({id:`Team:${r}`,fields:{favoriteProjects:(e,{toReference:r})=>{const n=r(`Project:${t}`);return n?e.find((e=>e.__ref===n.__ref))?e:[...e,n]:((0,i.D)(new Error("addToFavoriteProjectsCache: No project reference")),e)}}})}(e,r.data.addProjectToFavorites.id,t)}}),[n]=(0,o.D)(c,{variables:{projectId:e},update:(e,r)=>{var n;null!==(n=r.data)&&void 0!==n&&n.deleteProjectFromFavorites.id&&function(e,t,r){e.modify({id:`Team:${r}`,fields:{favoriteProjects:(e,{toReference:r})=>{const n=r(`Project:${t}`);return n?e.filter((e=>e.__ref!==n.__ref)):((0,i.D)(new Error("deleteFromFavoriteProjectsCache: No project reference")),e)}}})}(e,r.data.deleteProjectFromFavorites.id,t)}});return{mutations:{addProjectToFavorites:r,deleteProjectFromFavorites:n}}}},37321:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(64119),o=r(64705),i=r(44539),a=r(91987);const c=n.Ps`
  query GetUserSeenAnnouncements {
    me {
      __typename
      ... on Profile {
        id
        seen_announcements
      }
    }
  }
`,l=n.Ps`
  mutation UpdateUserSeenAnnouncements($seenAnnouncement: USER_ANNOUNCEMENT_ENUM!) {
    addSeenAnnouncementForUser(seenAnnouncement: $seenAnnouncement) {
      id
      seen_announcements
    }
  }
`;function s(){var e,t;const{data:r,loading:n,error:s}=(0,o.a)(c),[d,{error:u}]=(0,i.D)(l),p=(0,a.useCallback)((e=>d({variables:{seenAnnouncement:e}})),[d]);return{data:{seenAnnouncements:"Profile"===(null==r||null===(e=r.me)||void 0===e?void 0:e.__typename)?null==r||null===(t=r.me)||void 0===t?void 0:t.seen_announcements:[]},error:null!=s?s:u,loading:n,mutations:{addSeenAnnouncement:p}}}},669:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(64119),o=r(64705);const i=n.Ps`
  query getUserDetails {
    me {
      __typename
      ... on AnonymousProfile {
        id
      }
      ... on Profile {
        id
        is_onboarded
        created_at
        name
        last_name
        email
        isEmailDomainPublic
        avatar
        is_anonymous
        edu_approval
        suspended
        sharedWithMeProjectsCount
        onboardingInfo {
          id
          usage
          teamSize
          motivation
          programmingLanguage
          jobsToBeDone
          industry
          roleTitle
          notebookSolution
        }
      }
    }
  }
`;function a(){var e,t;const{data:r,loading:n,error:a,refetch:c}=(0,o.a)(i,{fetchPolicy:"cache-first"});return{data:{userDetails:null!==(e="Profile"===(null==r||null===(t=r.me)||void 0===t?void 0:t.__typename)?null==r?void 0:r.me:null)&&void 0!==e?e:null},loading:n,error:a,refetch:c}}},26288:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var n=r(64119),o=r(64705),i=r(24452);const a=n.Ps`
  query GetWorkspaceData($workspaceId: String!) {
    team(id: $workspaceId) {
      __typename
      ... on Team {
        id
        avatar
        name
        slug
        is_active
        review_status
        isUnderHipaa
        invites_approved_domain
        ownerEmail
        bio
        url
        github_url
        twitter_handle
        location
        authorizedTeamUserRole: userRole
      }
      ... on TeamUnauthorized {
        id
        name
        slug
        unauthorizedTeamUserRole: userRole
      }
    }
  }
`;function c(e,t={}){var r,n,c,l,s,d,u,p,g,m;const{data:f,loading:h,networkStatus:y,error:b,refetch:I}=(0,o.a)(a,{variables:{workspaceId:e},fetchPolicy:null!==(r=t.fetchPolicy)&&void 0!==r?r:"cache-first",skip:t.skip});return{data:"Team"===(null==f||null===(n=f.team)||void 0===n?void 0:n.__typename)?{id:f.team.id,name:f.team.name,slug:f.team.slug,role:f.team.authorizedTeamUserRole,avatar:f.team.avatar,isActive:f.team.is_active,reviewStatus:f.team.review_status,isUnderHipaa:f.team.isUnderHipaa,invitesApprovedDomain:f.team.invites_approved_domain,ownerEmail:f.team.ownerEmail,bio:f.team.bio,url:f.team.url,githubUrl:f.team.github_url,twitterHandle:f.team.twitter_handle,location:f.team.location}:{id:null!==(c=null==f||null===(l=f.team)||void 0===l?void 0:l.id)&&void 0!==c?c:null,name:null!==(s=null==f||null===(d=f.team)||void 0===d?void 0:d.name)&&void 0!==s?s:null,slug:null!==(u=null==f||null===(p=f.team)||void 0===p?void 0:p.slug)&&void 0!==u?u:null,role:null!==(g=null==f||null===(m=f.team)||void 0===m?void 0:m.unauthorizedTeamUserRole)&&void 0!==g?g:null,avatar:null,isActive:null,reviewStatus:null,isUnderHipaa:null,invitesApprovedDomain:null,ownerEmail:null,bio:null,url:null,githubUrl:null,twitterHandle:null,location:null},error:b,loading:h,loadingInitially:h&&y===i.I.loading,refetch:I}}},47498:(e,t,r)=>{"use strict";r.d(t,{m:()=>u});var n=r(64119),o=r(64705),i=r(84998),a=r(77424);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=n.Ps`
  query GetWorkspacePlan($id: String!) {
    team(id: $id) {
      __typename
      ... on Team {
        activePlan {
          planName
          displayName
          version
          isTrial
          trialExpiresAt
          createdAt
        }
      }
    }
  }
`;function u(e){var t;const{data:r,loading:n}=(0,o.a)(d,{fetchPolicy:"cache-first",variables:{id:e}});return{data:"Team"===(null==r||null===(t=r.team)||void 0===t?void 0:t.__typename)?l(l({},r.team.activePlan),{},{planName:r.team.activePlan.planName}):{planName:a.yh.STANDARD,displayName:"Standard",version:i.q2,isTrial:!1,trialExpiresAt:null,createdAt:Date.now()},loading:n}}},78517:(e,t,r)=>{"use strict";r.d(t,{Y:()=>m});var n=r(64119),o=r(44539),i=r(37496),a=r(77424),c=r(91987),l=r(58491),s=r(45060),d=r(42820),u=r(71923),p=r(91905);const g=n.Ps`
  mutation MoveProject($projectId: String!, $categoryId: String, $isPrivate: Boolean) {
    moveProject(projectId: $projectId, categoryId: $categoryId, isPrivate: $isPrivate) {
      id
      is_private
    }
  }
`;function m(){const[e,{loading:t,error:r}]=(0,o.D)(g),n=(0,l.I0)(),m=(0,i.x)(),{projectId:f}=(0,p.v)();return[(0,c.useCallback)((async(t,r,o,i,c=!1)=>{const l=(0,d.e)(m.cache,r);return e({variables:{projectId:r,categoryId:i,isPrivate:c},optimisticResponse:{moveProject:{__typename:"Project",id:r,is_private:c}},update:(e,{data:d})=>{var p;const g=null!==(p=null==d?void 0:d.moveProject)&&void 0!==p?p:null;g&&d&&((0,u.xy)(e,{teamId:t,projectId:r,sourceCategoryId:o,targetCategoryId:i,isPrivate:c}),g.id===f&&l&&(null!=l&&l.is_private||!c||n(s.xZ(a.WP.NONE)),null!=l&&l.is_private&&!c&&n(s.xZ(void 0))))}})}),[e,n,f,m]),{loading:t,error:r}]}},31249:(e,t,r)=>{"use strict";function n(e){if(!e)return;const t=e.value.length;e.select(),e.setSelectionRange(0,t)}r.d(t,{x:()=>n})},66865:(e,t,r)=>{"use strict";r.d(t,{mB:()=>l,md:()=>c});var n=r(97366),o=r(91987),i=r(51625);const a={},c=(0,o.createContext)({flags:a});function l({children:e}){const t=(0,n.Vb)(),r={flags:null!=t?t:{}};return(0,i.tZ)(c.Provider,{value:r,children:e})}},81305:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(60802),o=r(91987),i=r(66865);function a(e){const{flags:t}=(0,o.useContext)(i.md);return t?(void 0===t[e]&&(0,n.JJ)()&&console.log(`The feature flag '${e}' is not defined. Make sure that 'SDKs using Client-side ID' is enabled in the LaunchDarkly settings.\nhttps://www.notion.so/deepnote/Feature-Flagging-LaunchDarkly-c42e9704f43149f8b385bc49d46b56a2`),{isEnabled:Boolean(t[e])}):{isEnabled:!1}}},8326:(e,t,r)=>{"use strict";r.d(t,{yg:()=>a,Ov:()=>l});var n=r(19654),o=r(91987),i=r(58258);const a="https://calendly.com/deepnote-team/deepnote-demo";var c=r(51625);function l(e){var t;const[r,l]=(0,o.useState)(!1);(0,i.pv)({onDateAndTimeSelected:()=>{var t;(0,n.j)("Demo modal slot selected",{source:e.source,workspaceId:null!==(t=e.workspaceId)&&void 0!==t?t:null},{allowNullWorkspaceId:!e.workspaceId})},onEventScheduled:()=>{var t;(0,n.j)("Demo event scheduled",{source:e.source,workspaceId:null!==(t=e.workspaceId)&&void 0!==t?t:null},{allowNullWorkspaceId:!e.workspaceId})}}),(0,o.useEffect)((()=>{var t;(l(e.open),e.open)&&(0,n.j)("Demo modal opened",{source:e.source,workspaceId:null!==(t=e.workspaceId)&&void 0!==t?t:null},{allowNullWorkspaceId:!e.workspaceId})}),[e.open]);if("undefined"==typeof window)return null;const s=document.getElementById("content-root")||document.getElementById("__next");return s?(0,c.tZ)(i.pd,{open:r,prefill:{email:e.email,name:null!==(t=e.name)&&void 0!==t?t:void 0},url:a,rootElement:s,onModalClose:()=>{e.onClose&&e.onClose()}}):null}},14984:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,y:()=>a});var n=r(13636),o=r(19654);const i=e=>{(0,o.j)("Sign in page opened",{origin:e,workspaceId:null},{allowNullWorkspaceId:!0}),window.location.href=n._.signIn()},a=e=>{(0,o.j)("Sign up page opened",{origin:e,workspaceId:null},{allowNullWorkspaceId:!0}),window.location.href=n._.signUp()}},82324:(e,t,r)=>{"use strict";r.d(t,{l_:()=>d,Cd:()=>u,Ki:()=>_,Y9:()=>T,RA:()=>S,U6:()=>A,kM:()=>P});var n=r(77424);const o=async e=>await e.currentValue(e.workspaceId,e.limit)>=e.limitValue,i=async e=>{var t;const r=await e.currentValue(e.workspaceId,e.limit),n=null!==(t=e.editors)&&void 0!==t?t:1;return r>=e.limitValue*n};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=[n.Ag.VIEWER,n.Ag.CONTRIBUTOR,n.Ag.EDITOR,n.Ag.ADMIN],d={mongodb:"MANIPULATE_INTEGRATION_MONGO",pgsql:"MANIPULATE_INTEGRATION_POSTGRES",athena:"MANIPULATE_INTEGRATION_ATHENA",github:"MANIPULATE_INTEGRATION_GITHUB",gitlab:"MANIPULATE_INTEGRATION_GITLAB",env:"MANIPULATE_INTEGRATION_ENVVAR","google-drive":"MANIPULATE_INTEGRATION_GOOGLE_DRIVE",s3:"MANIPULATE_INTEGRATION_S3",local:"MANIPULATE_INTEGRATION_LOCAL","big-query":"MANIPULATE_INTEGRATION_BIGQUERY",snowflake:"MANIPULATE_INTEGRATION_SNOWFLAKE",mysql:"MANIPULATE_INTEGRATION_MYSQL",mariadb:"MANIPULATE_INTEGRATION_MYSQL",mindsdb:"MANIPULATE_INTEGRATION_MINDSDB","pandas-dataframe":"MANIPULATE_INTEGRATION_DATAFRAME_SQL",dremio:"MANIPULATE_INTEGRATION_DREMIO",gcs:"MANIPULATE_INTEGRATION_GOOGLE_STORAGE",redshift:"MANIPULATE_INTEGRATION_REDSHIFT",dropbox:"MANIPULATE_INTEGRATION_DROPBOX",arize:"MANIPULATE_INTEGRATION_ARIZE",slack:"MANIPULATE_INTEGRATION_SLACK",wandb:"MANIPULATE_INTEGRATION_WANDB",gcr:"MANIPULATE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY",ecr:"MANIPULATE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY",dockerhub:"MANIPULATE_INTEGRATION_DOCKERHUB","ssh-key":"MANIPULATE_INTEGRATION_SSH_KEY",dbt:"MANIPULATE_INTEGRATION_DBT",python:"MANIPULATE_INTEGRATION_PYTHON",rlang:"MANIPULATE_INTEGRATION_R","sql-server":"MANIPULATE_INTEGRATION_SQLSERVER",julia:"MANIPULATE_INTEGRATION_JULIA",javascript:"MANIPULATE_INTEGRATION_JAVASCRIPT",pytorch:"MANIPULATE_INTEGRATION_PYTORCH",tensorflow:"MANIPULATE_INTEGRATION_TENSORFLOW",plotly:"MANIPULATE_INTEGRATION_PLOTLY",pandas:"MANIPULATE_INTEGRATION_PANDAS",spark:"MANIPULATE_INTEGRATION_SPARK",dataproc:"MANIPULATE_INTEGRATION_DATAPROC",clickhouse:"MANIPULATE_INTEGRATION_CLICKHOUSE",notion:"CLICK_INTEGRATION_CODE_TEMPLATE",airtable:"CLICK_INTEGRATION_CODE_TEMPLATE",telegram:"CLICK_INTEGRATION_CODE_TEMPLATE",supabase:"CLICK_INTEGRATION_CODE_TEMPLATE",influxdb:"CLICK_INTEGRATION_CODE_TEMPLATE",onedrive:"CLICK_INTEGRATION_CODE_TEMPLATE","azure-blob-storage":"CLICK_INTEGRATION_CODE_TEMPLATE","deepnote-api":"CREATE_PUBLIC_API_KEYS","snowflake-snowpark":"CLICK_INTEGRATION_CODE_TEMPLATE","great-expectations":"CLICK_INTEGRATION_CODE_TEMPLATE","weights-and-biases":"CLICK_INTEGRATION_CODE_TEMPLATE",comet:"CLICK_INTEGRATION_CODE_TEMPLATE",neptune_ai:"CLICK_INTEGRATION_CODE_TEMPLATE",trino:"MANIPULATE_INTEGRATION_TRINO","google-sheets":"CLICK_INTEGRATION_CODE_TEMPLATE",box:"CLICK_INTEGRATION_CODE_TEMPLATE",ssh_tunnel:"MANIPULATE_INTEGRATION_SSH_TUNNEL",github_package:"MANIPULATE_INTEGRATION_GITHUB_PACKAGE",alloydb:"MANIPULATE_INTEGRATION_ALLOYDB","cloud-sql":"MANIPULATE_INTEGRATION_CLOUD_SQL",spanner:"MANIPULATE_INTEGRATION_SPANNER",materialize:"MANIPULATE_INTEGRATION_MATERIALIZE"},u={mongodb:"USE_INTEGRATION_MONGO",pgsql:"USE_INTEGRATION_POSTGRES",athena:"USE_INTEGRATION_ATHENA",dremio:"USE_INTEGRATION_DREMIO",github:"USE_INTEGRATION_GITHUB",gitlab:"USE_INTEGRATION_GITLAB",env:"USE_INTEGRATION_ENVVAR","google-drive":"USE_INTEGRATION_GOOGLE_DRIVE",s3:"USE_INTEGRATION_S3",local:"USE_INTEGRATION_LOCAL","big-query":"USE_INTEGRATION_BIGQUERY",snowflake:"USE_INTEGRATION_SNOWFLAKE",mysql:"USE_INTEGRATION_MYSQL",mariadb:"USE_INTEGRATION_MARIADB",mindsdb:"USE_INTEGRATION_MINDSDB","pandas-dataframe":"USE_INTEGRATION_DATAFRAME_SQL",gcs:"USE_INTEGRATION_GOOGLE_STORAGE",redshift:"USE_INTEGRATION_REDSHIFT",dropbox:"USE_INTEGRATION_DROPBOX",arize:"USE_INTEGRATION_ARIZE",slack:"USE_INTEGRATION_SLACK",wandb:"USE_INTEGRATION_WANDB",gcr:"USE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY",ecr:"USE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY",dockerhub:"USE_INTEGRATION_DOCKERHUB","ssh-key":"USE_INTEGRATION_SSH_KEY",dbt:"USE_INTEGRATION_DBT",python:"USE_INTEGRATION_PYTHON",rlang:"USE_INTEGRATION_R","sql-server":"USE_INTEGRATION_SQLSERVER",julia:"USE_INTEGRATION_JULIA",javascript:"USE_INTEGRATION_JAVASCRIPT",pytorch:"USE_INTEGRATION_PYTORCH",tensorflow:"USE_INTEGRATION_TENSORFLOW",plotly:"USE_INTEGRATION_PLOTLY",pandas:"USE_INTEGRATION_PANDAS",spark:"USE_INTEGRATION_SPARK",dataproc:"USE_INTEGRATION_DATAPROC",clickhouse:"USE_INTEGRATION_CLICKHOUSE",notion:"CLICK_INTEGRATION_CODE_TEMPLATE",airtable:"CLICK_INTEGRATION_CODE_TEMPLATE",telegram:"CLICK_INTEGRATION_CODE_TEMPLATE",supabase:"CLICK_INTEGRATION_CODE_TEMPLATE",influxdb:"CLICK_INTEGRATION_CODE_TEMPLATE",onedrive:"CLICK_INTEGRATION_CODE_TEMPLATE","azure-blob-storage":"CLICK_INTEGRATION_CODE_TEMPLATE","deepnote-api":"CREATE_PUBLIC_API_KEYS","snowflake-snowpark":"CLICK_INTEGRATION_CODE_TEMPLATE","great-expectations":"CLICK_INTEGRATION_CODE_TEMPLATE","weights-and-biases":"CLICK_INTEGRATION_CODE_TEMPLATE",comet:"CLICK_INTEGRATION_CODE_TEMPLATE",neptune_ai:"CLICK_INTEGRATION_CODE_TEMPLATE",trino:"USE_INTEGRATION_TRINO","google-sheets":"CLICK_INTEGRATION_CODE_TEMPLATE",box:"CLICK_INTEGRATION_CODE_TEMPLATE",ssh_tunnel:"USE_INTEGRATION_SSH_TUNNEL",github_package:"USE_INTEGRATION_GITHUB_PACKAGE",alloydb:"MANIPULATE_INTEGRATION_ALLOYDB","cloud-sql":"MANIPULATE_INTEGRATION_CLOUD_SQL",spanner:"MANIPULATE_INTEGRATION_SPANNER",materialize:"MANIPULATE_INTEGRATION_MATERIALIZE"},p={WORKSPACE_INVITE_VIEWER:[n.Ag.ADMIN],WORKSPACE_INVITE_USER:[n.Ag.ADMIN],WORKSPACE_INVITE_EDITOR:[n.Ag.ADMIN],WORKSPACE_INVITE_ADMIN:[n.Ag.ADMIN],WORKSPACE_INVITE_LINK_VIEWER:[n.Ag.ADMIN],WORKSPACE_INVITE_LINK_USER:[n.Ag.ADMIN],WORKSPACE_INVITE_LINK_EDITOR:[n.Ag.ADMIN]},g={WORKSPACE_INVITE_VIEWER:[n.Ag.ADMIN],WORKSPACE_INVITE_ADMIN:[n.Ag.ADMIN],WORKSPACE_INVITE_LINK_VIEWER:[n.Ag.ADMIN]},m={PROJECT_INVITE_NONE:s,PROJECT_INVITE_APP_USER:s,PROJECT_INVITE_VIEW:s,PROJECT_INVITE_EDIT:s,PROJECT_INVITE_COMMENT:s,PROJECT_INVITE_EXECUTE:s,PROJECT_INVITE_ADMIN:s},f={PROJECT_INVITE_VIEW:s,PROJECT_INVITE_EDIT:s,PROJECT_INVITE_ADMIN:s},h={PROJECT_INVITE_LINK_NONE:s,PROJECT_INVITE_LINK_APP_USER:s,PROJECT_INVITE_LINK_VIEW:s,PROJECT_INVITE_LINK_EDIT:s,PROJECT_INVITE_LINK_COMMENT:s,PROJECT_INVITE_LINK_EXECUTE:s,PROJECT_INVITE_LINK_ADMIN:s},y={PROJECT_INVITE_LINK_NONE:s,PROJECT_INVITE_LINK_VIEW:s,PROJECT_INVITE_LINK_EDIT:s,PROJECT_INVITE_LINK_ADMIN:s},b={PROJECT_INVITE_LINK_NONE:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_APP_USER:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_VIEW:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_EDIT:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_COMMENT:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_EXECUTE:"ROLE_CHECK_IRRELEVANT",PROJECT_INVITE_LINK_ADMIN:"ROLE_CHECK_IRRELEVANT"},I={MANIPULATE_INTEGRATION_MONGO:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_POSTGRES:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITHUB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITLAB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ENVVAR:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_DRIVE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_LOCAL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MYSQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MARIADB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MINDSDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DATAFRAME_SQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DREMIO:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DROPBOX:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ARIZE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SLACK:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_WANDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SSH_KEY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DBT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PYTHON:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_R:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_JULIA:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_JAVASCRIPT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PYTORCH:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_TENSORFLOW:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PLOTLY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PANDAS:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SPARK:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_CLICKHOUSE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_STORAGE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SNOWFLAKE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ATHENA:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_REDSHIFT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_S3:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_BIGQUERY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DOCKERHUB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ALLOYDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_CLOUD_SQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SPANNER:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MATERIALIZE:[n.Ag.ADMIN],USE_INTEGRATION_MONGO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_POSTGRES:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITHUB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITLAB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ENVVAR:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_DRIVE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_LOCAL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MYSQL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MARIADB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MINDSDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DATAFRAME_SQL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DROPBOX:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ARIZE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SLACK:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_WANDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SSH_KEY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DBT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PYTHON:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_R:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_JULIA:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_JAVASCRIPT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PYTORCH:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_TENSORFLOW:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PLOTLY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PANDAS:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SPARK:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_CLICKHOUSE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_STORAGE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SNOWFLAKE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ATHENA:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_REDSHIFT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_S3:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_BIGQUERY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DOCKERHUB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DREMIO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ALLOYDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_CLOUD_SQL:[n.Ag.ADMIN,n.Ag.EDITOR]},v=c(c({},I),{},{MANIPULATE_INTEGRATION_SQLSERVER:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITHUB_PACKAGE:[n.Ag.ADMIN],USE_INTEGRATION_SQLSERVER:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITHUB_PACKAGE:[n.Ag.ADMIN,n.Ag.EDITOR]}),O={MANIPULATE_INTEGRATION_MONGO:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_POSTGRES:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITHUB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITLAB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ENVVAR:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_DRIVE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_LOCAL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MYSQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MARIADB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MINDSDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DATAFRAME_SQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DROPBOX:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ARIZE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SLACK:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_WANDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SSH_KEY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PYTHON:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_R:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_JULIA:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_JAVASCRIPT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PYTORCH:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_TENSORFLOW:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PLOTLY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_PANDAS:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SPARK:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_CLICKHOUSE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ALLOYDB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_CLOUD_SQL:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SPANNER:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_MATERIALIZE:[n.Ag.ADMIN],USE_INTEGRATION_MONGO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_POSTGRES:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITHUB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITLAB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ENVVAR:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_DRIVE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_LOCAL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MYSQL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MARIADB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_MINDSDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DATAFRAME_SQL:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DROPBOX:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ARIZE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SLACK:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_WANDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SSH_KEY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PYTHON:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_R:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_JULIA:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_JAVASCRIPT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PYTORCH:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_TENSORFLOW:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PLOTLY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_PANDAS:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SPARK:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_CLICKHOUSE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ALLOYDB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_CLOUD_SQL:[n.Ag.ADMIN,n.Ag.EDITOR]},E=c(c({},O),{},{MANIPULATE_INTEGRATION_DBT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SQLSERVER:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_STORAGE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SNOWFLAKE:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ATHENA:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_REDSHIFT:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_S3:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_BIGQUERY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GITHUB_PACKAGE:[n.Ag.ADMIN],USE_INTEGRATION_DBT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SQLSERVER:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_STORAGE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SNOWFLAKE:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ATHENA:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_REDSHIFT:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_S3:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_BIGQUERY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GITHUB_PACKAGE:[n.Ag.ADMIN,n.Ag.EDITOR]}),w=c(c({},E),{},{MANIPULATE_INTEGRATION_DOCKERHUB:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_DREMIO:[n.Ag.ADMIN],MANIPULATE_INTEGRATION_SSH_TUNNEL:[n.Ag.ADMIN],USE_INTEGRATION_DOCKERHUB:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_DREMIO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_GOOGLE_CONTAINER_REGISTRY:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_ELASTIC_CONTAINER_REGISTRY:[n.Ag.ADMIN,n.Ag.EDITOR],MANIPULATE_INTEGRATION_TRINO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_TRINO:[n.Ag.ADMIN,n.Ag.EDITOR],USE_INTEGRATION_SSH_TUNNEL:[n.Ag.ADMIN,n.Ag.EDITOR]}),A=(n.yh.STANDARD,n.WA.USAGE_BASED_BILLING,c(c(c(c(c(c({},p),I),m),h),b),{},{PRIVATE_PROJECTS:s,VIEW_WORKSPACE_EDITOR_LIMIT_ALERT:[n.Ag.ADMIN],VIEW_WORKSPACE_PROJECT_LIMIT_ALERT:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT:s,VIEW_CHANGE_WORKSPACE_PLAN_BUTTON:[n.Ag.ADMIN],VIEW_COST_BREAKDOWN_BUTTON:[n.Ag.ADMIN],VIEW_WORKSPACE_USAGE_LIMITS:[n.Ag.ADMIN],VIEW_PRO_WORKSPACE_USAGE_LIMITS:[n.Ag.ADMIN],VIEW_UPGRADE_CARD:[n.Ag.ADMIN],VIEW_PRO_UPGRADE_CARD:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_STANDARD_DESCRIPTION:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN]}),n.WA.VERSION_3,c(c(c(c(c(c({},g),f),y),b),O),{},{VIEW_WORKSPACE_EDITOR_LIMIT_ALERT:[n.Ag.ADMIN],VIEW_WORKSPACE_PROJECT_LIMIT_ALERT:s,VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT:s,VIEW_CHANGE_WORKSPACE_PLAN_BUTTON:[n.Ag.ADMIN],VIEW_COST_BREAKDOWN_BUTTON:[n.Ag.ADMIN],VIEW_WORKSPACE_USAGE_LIMITS:[n.Ag.ADMIN],VIEW_TEAM_WORKSPACE_USAGE_LIMITS:[n.Ag.ADMIN],VIEW_UPGRADE_CARD:[n.Ag.ADMIN],VIEW_TEAM_UPGRADE_CARD:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_STANDARD_DESCRIPTION:[n.Ag.ADMIN],REQUEST_TRIAL:[n.Ag.ADMIN],VIEW_SSH_KEYS:[n.Ag.ADMIN],CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN]}),n.yh.PRO,n.WA.USAGE_BASED_BILLING,c(c(c(c(c(c({},p),v),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT:s,VIEW_CHANGE_WORKSPACE_PLAN_BUTTON:[n.Ag.ADMIN],VIEW_COST_BREAKDOWN_BUTTON:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_ON_DEMAND_MACHINE_PAID:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",PAID_MACHINES_ON_SUBSCRIPTION_PAST_DUE:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],ABUSE_DETECTOR_PROTECTION:"ROLE_CHECK_IRRELEVANT",GETTING_STARTED:[n.Ag.ADMIN],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.WA.VERSION_3,c(c(c(c(c(c({},p),E),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT:s,VIEW_CHANGE_WORKSPACE_PLAN_BUTTON:[n.Ag.ADMIN],VIEW_COST_BREAKDOWN_BUTTON:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],VIEW_ANNUAL_UPGRADE_CARD:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],FJORD_MACHINES_INCLUDED:"ROLE_CHECK_IRRELEVANT",USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_ON_DEMAND_MACHINE_PAID:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",PAID_MACHINES_ON_SUBSCRIPTION_PAST_DUE:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],ABUSE_DETECTOR_PROTECTION:"ROLE_CHECK_IRRELEVANT",GETTING_STARTED:[n.Ag.ADMIN],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.yh.PRO_TRIAL,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,c(c(c(c(c(c({},p),E),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITH_UPGRADE_OPTIONS_REDIRECT:s,VIEW_CHANGE_WORKSPACE_PLAN_BUTTON:[n.Ag.ADMIN],VIEW_COST_BREAKDOWN_BUTTON:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN],USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_SPOT_MACHINE_TRIAL:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.yh.ENTERPRISE,n.WA.USAGE_BASED_BILLING,c(c(c(c(c(c({},p),v),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],INTEGRATION_FEDERATED_AUTH:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT:s,VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],ENFORCED_AUTH:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],FJORD_MACHINES_INCLUDED:"ROLE_CHECK_IRRELEVANT",USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_ON_DEMAND_MACHINE_PAID:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_UNLIMITED_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",PAID_MACHINES_ON_SUBSCRIPTION_PAST_DUE:"ROLE_CHECK_IRRELEVANT",DISABLE_STRIPE_SEATS_UPDATES:"ROLE_CHECK_IRRELEVANT",EXPORT_AUDIT_LOGS:[n.Ag.ADMIN],ABUSE_DETECTOR_PROTECTION:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.WA.VERSION_3,c(c(c(c(c(c({},p),w),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],INTEGRATION_FEDERATED_AUTH:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT:s,VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],ENFORCED_AUTH:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],FJORD_MACHINES_INCLUDED:"ROLE_CHECK_IRRELEVANT",USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_ON_DEMAND_MACHINE_PAID:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_UNLIMITED_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",PAID_MACHINES_ON_SUBSCRIPTION_PAST_DUE:"ROLE_CHECK_IRRELEVANT",DISABLE_STRIPE_SEATS_UPDATES:"ROLE_CHECK_IRRELEVANT",EXPORT_AUDIT_LOGS:[n.Ag.ADMIN],ABUSE_DETECTOR_PROTECTION:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.yh.ENTERPRISE_TRIAL,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,c(c(c(c(c(c({},p),w),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],INTEGRATION_FEDERATED_AUTH:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT:s,VIEW_MACHINE_USAGE_TOTAL_AMOUNT_DESCRIPTION:[n.Ag.ADMIN],VIEW_MACHINE_USAGE_ALERT:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],ENFORCED_AUTH:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN],USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",FJORD_MACHINES_INCLUDED:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_ON_DEMAND_MACHINE_PAID:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_UNLIMITED_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",PAID_MACHINES_ON_SUBSCRIPTION_PAST_DUE:"ROLE_CHECK_IRRELEVANT",DISABLE_STRIPE_SEATS_UPDATES:"ROLE_CHECK_IRRELEVANT",EXPORT_AUDIT_LOGS:[n.Ag.ADMIN],ABUSE_DETECTOR_PROTECTION:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],MANIPULATE_WORKSPACE_SQL_QUERY_CACHING:[n.Ag.ADMIN],USE_SQL_QUERY_CACHING:"ROLE_CHECK_IRRELEVANT",AI_CODE_COMPLETION:[n.Ag.ADMIN,n.Ag.EDITOR],BLOCK_AI:[n.Ag.ADMIN,n.Ag.EDITOR],SCHEDULING:[n.Ag.ADMIN,n.Ag.EDITOR]}),n.yh.ACADEMIA,n.WA.USAGE_BASED_BILLING,c(c(c(c(c(c({},p),v),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT:s,VIEW_MACHINE_USAGE_ACADEMIA_DESCRIPTION:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN]}),n.WA.VERSION_3,c(c(c(c(c(c({},p),E),m),h),b),{},{PRIVATE_PROJECTS:s,WORKSPACE_CREATE_FOLDERS:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_PUBLIC_APP_SHARING:[n.Ag.ADMIN,n.Ag.EDITOR],DISABLE_IPYNB_WHITELABELLING:[n.Ag.ADMIN,n.Ag.EDITOR],PAID_MACHINES:[n.Ag.ADMIN,n.Ag.EDITOR],PAY_AS_YOU_GO_MACHINES:[n.Ag.ADMIN],VIEW_SIDEBAR_PLAN_PILL_WITHOUT_REDIRECT:s,VIEW_MACHINE_USAGE_ACADEMIA_DESCRIPTION:[n.Ag.ADMIN],VIEW_BILLING_DETAILS_INVOICES:[n.Ag.ADMIN],CREATE_PUBLIC_API_KEYS:[n.Ag.ADMIN],DELETE_PUBLIC_API_KEYS:[n.Ag.ADMIN],VIEW_BILLING_METHOD:[n.Ag.ADMIN],LONGER_INACTIVITY_GRACE_PERIOD:[n.Ag.ADMIN,n.Ag.EDITOR],USE_PUBLIC_API_KEYS:"ROLE_CHECK_IRRELEVANT",GIT_EXPORT:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LONG_VERSION_HISTORY:"ROLE_CHECK_IRRELEVANT",PROJECT_USE_LARGE_CLOUDBUILD_JOB:"ROLE_CHECK_IRRELEVANT",CREATE_AND_EDIT_NEW_INTEGRATION:[n.Ag.ADMIN],CONNECT_INTEGRATIONS:[n.Ag.ADMIN,n.Ag.EDITOR],GETTING_STARTED:[n.Ag.ADMIN]}),n.yh.HW_SUBSCRIPTION,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.STANDARD,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.PRO,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.PRO_TRIAL,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.ENTERPRISE,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.ENTERPRISE_TRIAL,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.ACADEMIA,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,n.yh.HW_SUBSCRIPTION,n.WA.USAGE_BASED_BILLING,n.WA.VERSION_3,{[n.Ag.GUEST]:"WORKSPACE_INVITE_VIEWER",[n.Ag.VIEWER]:"WORKSPACE_INVITE_VIEWER",[n.Ag.CONTRIBUTOR]:"WORKSPACE_INVITE_USER",[n.Ag.EDITOR]:"WORKSPACE_INVITE_EDITOR",[n.Ag.ADMIN]:"WORKSPACE_INVITE_ADMIN"}),P={[n.Ag.VIEWER]:"WORKSPACE_INVITE_LINK_VIEWER",[n.Ag.CONTRIBUTOR]:"WORKSPACE_INVITE_LINK_USER",[n.Ag.EDITOR]:"WORKSPACE_INVITE_LINK_EDITOR"},_={[n.WP.NONE]:"PROJECT_INVITE_NONE",[n.WP.VIEW]:"PROJECT_INVITE_VIEW",[n.WP.APP_USER]:"PROJECT_INVITE_APP_USER",[n.WP.COMMENT]:"PROJECT_INVITE_COMMENT",[n.WP.EXECUTE]:"PROJECT_INVITE_EXECUTE",[n.WP.EDIT]:"PROJECT_INVITE_EDIT",[n.WP.ADMIN]:"PROJECT_INVITE_ADMIN"},T={[n.WP.NONE]:"PROJECT_INVITE_LINK_NONE",[n.WP.VIEW]:"PROJECT_INVITE_LINK_VIEW",[n.WP.APP_USER]:"PROJECT_INVITE_LINK_APP_USER",[n.WP.COMMENT]:"PROJECT_INVITE_LINK_COMMENT",[n.WP.EXECUTE]:"PROJECT_INVITE_LINK_EXECUTE",[n.WP.EDIT]:"PROJECT_INVITE_LINK_EDIT",[n.WP.ADMIN]:"PROJECT_INVITE_LINK_ADMIN"},S={[n.WP.NONE]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_NONE",[n.WP.VIEW]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_VIEW",[n.WP.APP_USER]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_APP_USER",[n.WP.COMMENT]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_COMMENT",[n.WP.EXECUTE]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_EXECUTE",[n.WP.EDIT]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_EDIT",[n.WP.ADMIN]:"PROJECT_INVITE_REQUEST_ADDITIONAL_ACCESS_ADMIN"}},38424:(e,t,r)=>{"use strict";r.d(t,{_Y:()=>i,lQ:()=>n,tv:()=>o});const n="https://deepnote.typeform.com/to/xDEtn4nW?utm_source=billing",o="https://deepnote.typeform.com/to/xDEtn4nW?utm_source=upgrade",i="https://deepnote.typeform.com/to/KlsGFUsO?utm_source=trial-popover"},36953:(e,t,r)=>{"use strict";r.d(t,{Ju:()=>n,Uu:()=>o,W0:()=>a,w2:()=>i});const n=e=>/^([^<>()[\]\\,;:\s@"']+)@([a-zA-Z\-0-9-.]+)\.([a-zA-Z]{2,})$/.test(e),o=e=>e.split(",").map((e=>e.trim())).filter((e=>""!==e)),i=e=>e.trim().split(/[\s,\n]+/).join(",");function a(e){var t;return(null!==(t=e.split("@")[1])&&void 0!==t?t:"").toLowerCase()}},79283:(e,t,r)=>{"use strict";function n(e){return e.includes("imgix.net/avatars/")}r.d(t,{f:()=>n,X:()=>i});var o=r(60802);const i=(0,o.hE)("development")?"green-favicon.ico":(0,o.hE)("staging")?"yellow-favicon.ico":"favicon-32x32.png"},32797:(e,t,r)=>{"use strict";r.d(t,{C:()=>h});var n=r(96645),o=r(37139),i=r(46330),a=r(55075),c=r(29389),l=r(39486),s=r(9551),d=r(91987),u=r(14376),p=r(51625);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,d.memo)((function(e){var t;const r=null!==(t=e.copyMessage)&&void 0!==t?t:"Copied to clipboard";return(0,p.BX)(n.B,{children:[(0,p.tZ)(o.I,m({cursor:"default",readOnly:!0},e)),(0,p.tZ)(i.x,{color:"gray.500",cursor:"pointer",_hover:{color:"gray.950"},onClick:()=>{(0,s.n)(e.value),u.y.success({message:r})},children:(0,p.tZ)(a.xu,{paddingTop:"2px",children:(0,p.tZ)(c.J,{as:l.BoZ,boxSize:4})})})]})}))},99666:(e,t,r)=>{"use strict";r.d(t,{u:()=>d});var n=r(46250),o=r(51625);const i=["children"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){const{children:t}=e,r=s(e,i);return(0,o.tZ)(n.u_,c(c({scrollBehavior:"inside",isCentered:!0},r),{},{children:t}))}},83837:(e,t,r)=>{"use strict";r.d(t,{f:()=>d});var n=r(77683),o=r(51625);const i=["children","withoutFooter"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){const{children:t,withoutFooter:r}=e,a=s(e,i);return(0,o.tZ)(n.f,c(c({px:8,pb:r?6:4,color:"gray.800",fontSize:"xs"},a),{},{children:t}))}},7351:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(22534),o=r(51625);function i(){return(0,o.tZ)(n.o,{top:"26px",right:8,color:"gray.800"})}},92516:(e,t,r)=>{"use strict";r.d(t,{m:()=>u});var n=r(54802),o=r(44906),i=r(51625);const a=["children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){const{children:t}=e,r=d(e,a);return(0,i.tZ)(n.m,l(l({px:8,pt:2,pb:6},r),{},{children:(0,i.tZ)(o.U,{spacing:"3",children:t})}))}},96057:(e,t,r)=>{"use strict";r.d(t,{x:()=>d});var n=r(23323),o=r(51625);const i=["children"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){const{children:t}=e,r=s(e,i);return(0,o.tZ)(n.x,c(c({pt:6,pb:3,px:8,color:"gray.950",fontSize:"md",display:"flex",alignItems:"center","data-cy":"modal-header","data-testid":"modal-header"},r),{},{children:t}))}},60809:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(36178),o=r(51625);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return(0,o.tZ)(n.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({bg:"rgba(24, 36, 49, 0.5);"},e))}},79472:(e,t,r)=>{"use strict";r.d(t,{i:()=>d});var n=r(51192),o=r(51625);const i=["children"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){const{children:t}=e,r=s(e,i);return(0,o.tZ)(n.x,c(c({color:"gray.800",fontSize:"xs"},r),{},{children:t}))}},85199:()=>{}}]);
//# sourceMappingURL=2921.bundle.7bd92285.js.map